{"version":3,"sources":["styles/img/bg3.png","styles/GlobalStyles.js","hooks/Context.js","hooks/useFindUser.js","Routes/PrivateRoute.js","Routes/AdminRoute.js","hooks/useAuth.js","components/Navigation/StyledNavigation.js","components/Shared/Enums.js","components/Navigation/Navigation.js","components/Footer/Footer.js","components/Main/MainStyle.js","components/Main/Main.js","components/SingleDataset/SingleDatasetStyle.js","components/SingleDataset/PSet/PSetAccordion.js","components/Main/MainDialog/PharmacogenomicsDialog.js","components/Main/MainBoxes/CanonicalBox.js","components/Main/MainBoxes/RequestStatusBox.js","components/Main/MainBoxes/PopularDatasetBox.js","components/Main/MainBoxes/YourOwnDataBox.js","components/Main/DatasetMainContent/Pharmacogenomics.js","components/SearchRequest/SearchReqContext.js","components/Shared/Buttons/SaveDatasetButton.js","components/SearchRequest/SearchReqStyle.js","components/SearchRequest/SearchTableLoader.js","components/SearchRequest/SearchSummary.js","components/Shared/FilterInputSwitch.js","components/Shared/FilterDropdown.js","components/SearchRequest/ToxicoSet/ToxicoSetFilter.js","components/SearchRequest/ToxicoSet/ToxicoSetTable.js","components/SearchRequest/ToxicoSet/ToxicoSetSearch.js","components/SearchRequest/XevaSet/XevaSetFilter.js","components/SearchRequest/XevaSet/XevaSetTable.js","components/SearchRequest/XevaSet/XevaSetSearch.js","components/SearchRequest/ClinicalGenomics/ClinGenSetFilter.js","components/SearchRequest/ClinicalGenomics/ClinGenSetTable.js","components/SearchRequest/ClinicalGenomics/ClinGenSetSearch.js","components/SearchRequest/RadioSet/RadioSetFilter.js","components/SearchRequest/RadioSet/RadioSetTable.js","components/SearchRequest/RadioSet/RadioSetSearch.js","components/Main/DatasetMain.js","components/Shared/CustomCheckbox.js","components/SearchRequest/PSet/PSetFilter.js","components/Shared/CustomInputText.js","components/SearchRequest/PSet/PSetRequestForm.js","components/SearchRequest/PSet/PSetTable.js","components/Shared/Helper.js","components/SearchRequest/PSet/PSetSearch.js","components/SearchRequest/SearchRequest.js","components/SingleDataset/PSet/TabContents/DatasetTabContent.js","components/SingleDataset/PSet/TabContents/AccompanyDataTabContent.js","components/SingleDataset/PSet/TabContents/RNATabContent.js","components/SingleDataset/PSet/TabContents/DNATabContent.js","components/SingleDataset/PSet/TabContents/PipelineTabContent.js","components/SingleDataset/PSet/TabContents/ReleaseNoteTabContent.js","components/Shared/ReactDataTable/TableFilters.js","components/Shared/ReactDataTable/Pagination.js","components/Shared/ReactDataTable/ReactDataTable.js","components/SingleDataset/PSet/TabContents/ReleaseNoteTableGroup.js","components/Shared/Buttons/DownloadDatasetButton.js","components/SingleDataset/PSet/PSet.js","components/SingleDataset/ToxicoSet/TabContents/DatasetTabContent.js","components/SingleDataset/ToxicoSet/TabContents/ReleaseNoteTabContent.js","components/SingleDataset/ToxicoSet/ToxicoSet.js","components/SingleDataset/XevaSet/TabContents/DatasetTabContent.js","components/SingleDataset/XevaSet/PSetAccordion.js","components/SingleDataset/XevaSet/TabContents/AccompanyDataTabContent.js","components/SingleDataset/XevaSet/TabContents/RNATabContent.js","components/SingleDataset/XevaSet/TabContents/DNATabContent.js","components/SingleDataset/XevaSet/TabContents/ReleaseNoteTabContent.js","components/SingleDataset/XevaSet/XevaSet.js","components/SingleDataset/ClinicalGenomics/TabContents/DatasetTabContent.js","components/SingleDataset/ClinicalGenomics/TabContents/ReleaseNoteTabContent.js","components/SingleDataset/ClinicalGenomics/ClinicalGenomics.js","components/SingleDataset/RadioSet/TabContents/DatasetTabContent.js","components/SingleDataset/RadioSet/PSetAccordion.js","components/SingleDataset/RadioSet/TabContents/AccompanyDataTabContent.js","components/SingleDataset/RadioSet/TabContents/RNATabContent.js","components/SingleDataset/RadioSet/TabContents/DNATabContent.js","components/SingleDataset/RadioSet/TabContents/PipelineTabContent.js","components/SingleDataset/RadioSet/TabContents/ReleaseNoteTabContent.js","components/SingleDataset/RadioSet/RadioSet.js","components/SingleDataset/SingleDataset.js","components/RequestStatus/RequestStatus.js","components/Stats/UpsetPlot.js","components/Stats/DatasetChart.js","components/Stats/Stats.js","components/Documentation/DocFunctionality/Overview.js","components/Documentation/DocFunctionality/Search.js","components/Documentation/DocFunctionality/Request.js","components/Documentation/DocFunctionality/UserProfile.js","components/Documentation/DocFunctionality/DataContribution.js","components/Documentation/DocAPI/AvailablePSets.js","components/Documentation/DocAPI/PSetMetadata.js","components/Documentation/DocAPI/StatisticsAPI.js","components/Documentation/Documentation.js","components/Profile/subcomponents/UserInfo.js","components/Profile/subcomponents/UserDataset.js","components/Profile/Profile.js","components/Admin/Admin.js","components/Shared/CustomMessages.js","components/Authentication/StyledAuthForm.js","components/Authentication/Authentication.js","components/Authentication/Reset.js","components/CanonicalPSets/CanonicalPSets.js","components/Shared/NotFound404.js","Routes/Router.js","App.js","components/serviceWorker.js","index.js"],"names":["GlobalStyles","createGlobalStyle","img","AuthContext","createContext","PathContext","useFindUser","useState","user","setUser","loading","setLoading","useEffect","a","axios","get","res","data","getSession","PrivateRoute","Component","component","location","rest","useContext","render","props","to","pathname","redirect","state","from","AdminRoute","isAdmin","useAuth","history","useHistory","error","setError","setUserContext","console","log","push","submitUser","post","logoutUser","StyledHeader","styled","header","NavigationWrapper","div","PachydermStatus","isOnline","BurgerNav","dataTypes","withRouter","path","auth","setIsOnline","fetch","status","json","checkStatus","datatype","length","setDatatype","split","filter","el","onLoginClick","event","preventDefault","onLogoutClick","getDatatype","datasetType","className","exact","src","alt","activeClassName","Fragment","label","onClick","username","width","isOpen","StyledFooter","Footer","href","Wrapper","HeaderGroup","DatasetHeaderGroup","Button","Row","Column","Item","Number","span","StyledBox","imgWidth","Main","DatatypeBox","title","disabled","text","TabContainer","TabHeader","h1","TabContent","TabContentSection","StyledAccordion","Accordion","PSetToolAccordion","toolAccordionTabs","this","items","map","item","key","name","commands","command","multiple","React","RNARefAccordion","rnaRefAccordionTabs","source","DNARefAccordion","exomeRefAccordionTabs","cosmic","exonTarget","GeneralInfoAccordion","doi","activeIndex","target","dateCreated","createdBy","DatasetDialog","datasetAccordionTabs","dataset","versions","version","drugSensitivity","publication","p","link","citation","visible","onHide","style","minWidth","RNADialog","renderActiveOnly","rna","tool","ref","DNADialog","dna","CanonicalBox","alignSelf","datasetName","RequestStatusBox","dashboard","pending","inProcess","PopularDatasetBox","value","statsData","field","body","rowData","column","route","disableBtn","YourOwnDataBox","Pharmacogenomics","setStatsData","rnaTool","dnaTool","rnaRef","dnaRef","formData","setFormData","setDashboard","datasetVisible","setDatasetVisible","rnaVisible","setRNAVisible","dnaVisible","setDNAVisible","api","form","versionCombo","i","fetchData","showDialog","type","hideDialog","SearchReqContext","SaveDatasetButton","selectedDatasets","onSaveComplete","saveSelectedDatasets","userDataset","datasetId","_id","SearchReqWrapper","Filter","MainPanel","SearchReqPanel","Container","SearchTableLoader","color","height","StyledSearchSummary","SearchSummary","searchAll","matchNum","FilterSet","FilterInputSwitch","checked","tooltip","onChange","FilterDropdown","id","hidden","selectOne","options","selected","dataTemplate","option","fontSize","margin","optionLabel","itemTemplate","placeholder","selectedItemTemplate","ToxicoSetFilter","context","datasetSelect","setDatasetSelect","ready","setReady","initialize","isRequest","e","setParameters","prev","search","ToxicoSetTable","rows","first","start","end","totalRecords","setState","tsets","selection","onSelectionChange","updateDatasetSelection","paginator","resizableColumns","columnResizeMode","scrollable","scrollHeight","authenticated","selectionMode","textAlign","sortable","find","download","downloadLink","method","JSON","stringify","datasetDOI","headers","anchor","document","createElement","setAttribute","display","appendChild","click","removeChild","url","parameters","private","response","ToxicoSetSearch","toxicoSets","setToxicoSets","setSearchAll","selectedTSets","setSelectedTSets","setIsRequest","email","initializeView","all","Object","keys","forEach","Array","isArray","Provider","messages","severity","show","summary","detail","message","sticky","XevaSetFilter","XevaSetTable","xevasets","XevaSetSearch","xevaSets","setXevaSets","selectedXevaSets","setSelectedXevaSets","ClinGenSetFilter","ClinGenSetTable","datasets","ClinGenSetSearch","setDatasets","setSelectedDatasets","result","RadioSetFilter","RadioSetTable","radiationSensitivity","RadioSetSearch","DatasetMain","match","params","CheckBoxContainer","PSetCheckbox","inputId","PSetFilter","searchOptions","dataTypeSelect","setDataTypeSelect","miArraySelect","setMiArraySelect","drugSensSelect","setDrugSensSelect","genomeSelect","setGenomeSelect","rnaToolSelect","setRNAToolSelect","rnaRefSelect","setRNARefSelect","canonicalOnly","filteredSensitivity","checkBoxes","setCheckBoxes","toolRefDisabled","setToolRefDisabled","dataTypeDisabled","setDataTypeDisabled","dataType","genome","concat","getDrugSensOptions","onDatasetSelection","datasetOptions","unavailable","undefined","defaultData","rnaRefOptions","found","defaultMolData","default","accompanyData","some","CustomCheckbox","marginLeft","fontWeight","Math","random","parse","microarrayType","shift","StyledInputText","InputText","CustomInputText","RequestForm","LoaderContainer","PSetRequestForm","submitRequest","versionInfo","reqData","constructor","dt","trackPromise","resData","onRequestComplete","ok","SubmitRequestButton","usePromiseTracker","promiseInProgress","readyToSubmit","PSetTable","psets","selectedPSets","updatePSetSelection","toolsRefTemplate","isSelected","reqParam","PSetSearch","setPSets","setSelectedPSets","setReadyToSubmit","copy","request","regex","test","isValidEmail","Helper","showMessage","SearchRequst","DatasetTabContent","metadata","AccompanyDataTabContent","d","s","getType","RNATabContent","rawSeqDataRNA","x","accRNA","DNATabContent","rawSeqDataDNA","accDNA","PipelineContent","PipelineTabContent","commitID","config","transform","image","input","cross","git","StyledReleaseNotes","left","right","headerTextAlign","cellPadding","cellTextAlign","StyledMetricDataGroup","AdditionalInformation","ReleaseNoteTabContent","getMetricDataText","count","metricDataGroup","renderRow","renderDataRow","molDataTableRow","getMolDataName","available","noUpdates","releaseNotes","cellLines","drugs","experiments","molData","additional","rel","DownloadDatasetButton","downloadDataset","StyledTitle","PSet","pset","setPSet","id1","id2","getData","generalInfo","tabData","td","rawMicroarrayData","drugResponse","drugResponseData","ToxicoSet","toxicoSet","setToxicoSet","models","patients","XevaSet","xevaSet","setXevaSet","samples","getMetricDataRowText","ClinicalGenomics","clinGenSet","setClinGenSet","radiationTypes","RadioSet","radioset","setRadioSet","SingleDataset","RequestStatus","setData","onSubmit","dateTimeTemplate","dateTimeStr","Date","toLocaleString","dateStyle","timeStyle","button","Plot","createPlotlyComponent","Plotly","UpsetPlot","bars","layout","autosize","xaxis","showgrid","zeroline","showticklabels","range","yaxis","tickfont","size","t","b","l","r","showlegend","useResizeHandler","displayModeBar","points","DatasetChart","upsetData","setUpsetData","barData","setBarData","metricName","isReady","setIsReady","isPlotReady","setIsPlotReady","updateData","colors","j","setIndices","index","sets","fill","y","mode","marker","line","hoverinfo","names","symbol","barDatasets","sort","orientation","metric","findIndex","htmlFor","Stats","chartData","Overview","Search","Request","UserProfile","StyledTable","table","DocSection","DataContribution","exampleFilesTable","files","file","downloadFile","blob","AvailablePSets","PSetMetadata","StatisticsAPI","Documentation","section","setDisplay","StyledUserInfo","UserInfo","setShow","password1","setPassword1","password2","setPassword2","btnResetDisabled","setBtnResetDisabled","resetPwd","StyledUserDataset","UserDataset","heading","btnLabel","handleBtnClick","btnDisabled","setBtnDisabled","dialogVisible","setDialogVisible","btnYesDisplayed","setBtnYesDisplayed","dialogFooter","footer","modal","StyledProfile","Profile","savedDatasets","setSavedDatasets","inProcessDatasets","setInProcessDatasets","complete","itme","removeFromSavedList","updated","includes","MenuContainer","Admin","setSelected","canonical","updateCanonicalPSets","StyledMessages","Messages","CustomMessages","trigger","useRef","current","StyledLoginForm","errorMessage","Authentication","action","findUser","onResetClick","StyledAuthForm","icon","localeCompare","disableSubmit","Reset","setEmail","password","token","StyledContainer","NonCanonDiv","NonCannonTable","PSetContainer","CanonicalPSets","canonPSets","setCanonPSets","array","output","nameColumnTemplate","canonicals","nonCanonicals","nonCanonTable","NotFound404","Router","SearchRequest","App","ReactGA","pageview","window","Boolean","hostname","ReactDOM","getElementById","navigator","serviceWorker","then","registration","unregister"],"mappings":"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","file":"static/js/main.93617cac.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/bg3.2f7689f1.png\";","import { createGlobalStyle } from 'styled-components';\nimport img from './img/bg3.png'\n\nconst GlobalStyles = createGlobalStyle`\n    html, body{\n        height: 100%;\n        margin: 0;\n    }\n    #root {\n        margin-top: 0;\n        margin-left: 0;\n        margin-right: 0;\n        padding-top: 90px;\n        font-family: \"Raleway\", \"Segoe UI\", \"Roboto\", \"Oxygen\",\n            \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\n            sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale; \n        background: linear-gradient(\n            to right top,\n            rgba(255, 255, 255, 0.5),\n            rgba(255, 255, 255, 0.5)\n            ),url(${img});\n        background-size: cover;\n        background-position: center;\n        background-repeat: no-repeat;\n    }\n    code {\n        font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\", monospace;\n    }\n    h1, h2, h3, h4, h5{\n        color: #3D405A;\n    }\n    .pageContent{\n        width: 95%;\n        margin-left: auto;\n        margin-right: auto;\n        min-height: 100vh;\n        padding-bottom: 200px;\n        color: #3D405A;\n        .title {\n            margin-top: -5px;\n            font-weight: bold;\n            font-size: 25px;\n            padding-bottom: 10px;\n        }\n    }\n`;\n\nexport default GlobalStyles;","import { createContext } from 'react';\n\nexport const AuthContext = createContext(null);\nexport const PathContext = createContext(null);","import { useState, useEffect } from 'react';\nimport axios from 'axios';\n\n/**\n * Checks if a user has a valid cookie when they arrive on the site.\n */\nconst useFindUser = () => {\n    const [user, setUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const getSession = async () => {\n            const res = await axios.get('/api/user/session');\n            setUser(res.data);\n            setLoading(false);\n        }\n        getSession();\n    }, []);\n\n    return {\n        user,\n        setUser,\n        loading\n    }\n}\n\nexport default useFindUser;","import React, {useContext} from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { AuthContext } from '../hooks/Context';\n\nconst PrivateRoute = ({component: Component, location, ...rest}) => {\n    const {user, loading} = useContext(AuthContext);\n    \n    if(loading){\n        return null;\n    }\n\n    return(\n        <Route \n            {...rest} \n            render={props => (\n                user ? \n                <Component {...props} />\n                :\n                <Redirect to={{pathname: rest.redirect, state:{ from: location }}} />\n            )} \n        />\n    ) \n}\n\nexport default PrivateRoute;","import React, {useContext} from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { AuthContext } from '../hooks/Context';\n\nconst AdminRoute = ({component: Component, location, ...rest}) => {\n    const {user, loading} = useContext(AuthContext);\n    \n    if(loading){\n        return null;\n    }\n\n    return(\n        <Route \n            {...rest} \n            render={(props) => (\n                user && user.isAdmin ?\n                <Component {...props} />\n                :\n                <Redirect to={{pathname: rest.redirect, state:{from: location}}} />\n            )} \n        />\n    ) \n}\n\nexport default AdminRoute;","import { useState, useContext } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport axios from 'axios';\nimport { AuthContext } from './Context';\n\n/**\n * Custom hook to handle authentication.\n * @returns \n */\nconst useAuth = () => {\n    const history = useHistory();\n    const { setUser } = useContext(AuthContext);\n    const [error, setError] = useState(false);\n\n    /**\n     * Gets a user and sets it in UserContext, then pushes to another page based on location value\n     * @param {*} location \n     */ \n    const setUserContext = async (location) => {\n        const res = await axios.get('/api/user/session');\n        console.log(res.data);\n        setUser(res.data);\n        if(res.data){\n            if(location.state && location.state.from){\n                history.push(location.state.from);\n            }else{\n                history.push('/app/profile');\n            }\n        }else{\n            console.log('authentication failed');\n            setError(true);\n        }\n    }\n\n    /**\n     * Submits user data to be logged in or registered.\n     * @param {*} user user data to be submitted (set in Authentication.js)\n     * @param {*} location \n     */\n    const submitUser = async (user, location) => {\n        try{\n            await axios.post('/api/user/submit', user);\n            await setUserContext(location);\n        }catch(err){\n            console.log(err);\n        }\n    }\n\n    const logoutUser = async () => {\n        try{\n            await axios.get(`/api/user/logout`); // call API to reset cookie token\n            setUser(null); // reset user in UserContext to null\n            history.push('/app/authentication'); // push to signin page\n        }catch(err){\n            console.log(err);\n        }\n    }\n\n    return {\n        submitUser,\n        logoutUser,\n        error\n    }\n}\n\nexport default useAuth;","import styled from 'styled-components';\n\nexport const StyledHeader = styled.header`\n    top: 0%;\n    width:100%;\n    background-color:rgb(255,255,255, 0.7);\n    height: 60px;\n    position: fixed;\n    z-index: 999;\n`;\n\nexport const NavigationWrapper = styled.div`\n    position: relative;\n    height: 100%;\n    width: 95%;\n    margin-left: auto;\n    margin-right: auto;\n    display: flex;\n    justify-content: space-between;\n    aling-items: center;\n\n    .left {\n        display: flex;\n        align-items: center;\n    }\n\n    .right {\n        position: relative;\n        display: flex;\n        align-items: center;\n        justify-content: flex-end;\n        .button {\n            margin-right: 10px;\n        }\n        .loggedIn{\n            position: absolute;\n            right: 0;\n            top: 1px;\n            font-size: 11px;\n            color: red;\n        }\n    }\n\n    .logo {\n        height: 90%;\n        margin-right: 40px;\n        img {\n            max-width: 100%;\n            max-height: 100%;\n        }\n    }\n\n    .link {\n        margin-right: 20px;\n        padding-bottom: 2px;\n        color: rgb(61, 64, 90);\n        font-size: 12px;\n        font-weight: bold;\n        transition: .2s ease-out;\n        :hover {\n            text-decoration: none;\n            color: #555975;\n            border-bottom: 2px solid rgb(241, 144, 33);\n            transition: .2s ease-out;\n        }\n    }\n    .active-link{\n        text-decoration: none;\n        color: #555975;\n        border-bottom: 2px solid rgb(241, 144, 33);\n    }\n    \n    .home-button {\n        color:rgb(61, 64, 90);\n        font-weight:bold;\n    }\n    \n    .home-button:hover {\n        cursor:pointer;\n    }\n\n    @media only screen and (max-width: 900px) {\n        .link, .right {\n            display: none;\n        }\n    }\n\n`;\n\nexport const PachydermStatus = styled.div`\n    display: flex;\n    align-items: center;\n    font-weight: bold;\n    color: ${props => props.isOnline ? '#0ea353' : '#bb2003'};\n    .icon {\n        font-size: 20px;\n    }\n    .text {\n        font-size: 11px;\n    }\n`;\n\nexport const BurgerNav = styled.div`\n    position: fixed;\n    right: 0;\n    /*react-burger-nav style*/\n\n    /* Position and sizing of burger button */\n    .bm-burger-button {\n        position: fixed;\n        width: 36px;\n        height: 30px;\n        right: 36px;\n        top: 15px;\n    }\n\n    /* Color/shape of burger icon bars */\n    .bm-burger-bars {\n        background: #3D405A;\n    }\n\n    /* Color/shape of burger icon bars on hover*/\n    .bm-burger-bars-hover {\n        background: #555975;\n    }\n\n    /* Position and sizing of clickable cross button */\n    .bm-cross-button {\n        height: 24px;\n        width: 24px;\n    }\n\n    /* Color/shape of close button cross */\n    .bm-cross {\n        background: #3D405A;\n    }\n\n    /*\n    Sidebar wrapper styles\n    Note: Beware of modifying this element as it can break the animations - you should not need to touch it in most cases\n    */\n    .bm-menu-wrap {\n        position: fixed;\n        height: 100%;\n    }\n\n    /* General sidebar styles */\n    .bm-menu {\n        background: rgba(255, 255, 255, 0.7);\n        padding: 30px 10px 20px 10px;\n        font-size: 16px;\n        nav {\n            display: flex;\n            flex-direction: column;\n            align-items: flex-start;\n            a {\n                margin-bottom: 15px;\n                color: rgb(61, 64, 90);\n            }\n            button {\n                text-align: center;\n            }\n            .status {\n                display: flex;\n            }\n        }\n    }\n\n    /* Morph shape necessary with bubble or elastic */\n    .bm-morph-shape {\n        fill: #373a47;\n    }\n\n    /* Wrapper for item list */\n    .bm-item-list {\n        color: #b8b7ad;\n        padding: 0.8em;\n    }\n\n    /* Individual item */\n    .bm-item {\n        margin-bottom: 20px;\n        text-align: left;\n    }\n\n    /* Styling of overlay */\n    .bm-overlay {\n        background: rgba(61, 64, 90, 0.5);\n    }\n\n    @media only screen and (min-width: 900px) {\n        display: none;\n        .bm-burger-button {\n            display: none;\n        }\n\n        .bm-menu {\n            display: none;\n        }\n\n        .bm-cross {\n            display: none;\n        }\n    }\n`;","export const dataTypes = {\n    pharmacogenomics: 'pset',\n    toxicogenomics: 'toxicoset',\n    xenographic: 'xevaset',\n    clinicalgenomics: 'clinicalgenomics',\n    radiogenomics: 'radioset'\n}","import React, {useState, useEffect, useContext} from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {Button} from 'primereact/button';\n\nimport { PathContext, AuthContext } from '../../hooks/Context';\nimport useAuth from '../../hooks/useAuth';\nimport { StyledHeader, NavigationWrapper, BurgerNav, PachydermStatus } from './StyledNavigation';\nimport { slide as Menu } from 'react-burger-menu';\nimport {withRouter} from 'react-router';\nimport {dataTypes} from '../Shared/Enums';\n\nconst Navigation = (props) => {\n    const { location, history } = props;\n    const path = useContext(PathContext);\n    const auth = useContext(AuthContext);\n    const { logoutUser } = useAuth();\n\n    const [isOnline, setIsOnline] = useState(false);\n\n    useEffect(() => {\n        const checkStatus = async () => {\n            const status = await fetch('/api/pachyderm/status');\n            const json = await status.json();\n            setIsOnline(json.isOnline);\n        }\n        checkStatus();\n        if(location.pathname !== '/' && path.datatype.length === 0){\n            path.setDatatype(location.pathname.split('/').filter((el) =>(el.length))[0]);\n        }\n    }, []);\n\n    const onLoginClick = (event) => {\n        event.preventDefault();\n        history.push({pathname: '/app/authentication', state:{path: location.pathname}});\n    }\n\n    const onLogoutClick = async (event) => {\n        event.preventDefault();\n        await logoutUser();            \n    }\n\n    const getDatatype = (datatype) => {\n        switch(datatype){\n            case dataTypes.pharmacogenomics:\n                return 'Pharmacogenomics';\n            case dataTypes.toxicogenomics:\n                return 'Toxicogenomics';\n            case dataTypes.xenographic:\n                return 'Xenographic Pharmacogenomics';\n            case dataTypes.clinicalgenomics:\n                return 'Clinical Genomics';\n            case dataTypes.radiogenomics:\n                return 'Radiogenomics';\n            default:\n                return '';\n        }\n    }\n\n    return(\n        <StyledHeader>\n            <NavigationWrapper datasetType={path.datatype}>\n                <div className='left'>\n                    <div className='logo'>\n                        <NavLink exact to='/'>\n                            <img src={process.env.PUBLIC_URL + \"/images/trumpet-orcestra.png\"} alt='' />\n                        </NavLink>\n                    </div>\n                    <NavLink exact to={`/`} className='link' activeClassName='active-link'>Home</NavLink>\n                    {\n                        path.datatype.length > 0 && \n                        <React.Fragment>\n                            <NavLink exact to={`/${path.datatype}`} className='link' activeClassName='active-link'>{getDatatype(path.datatype)}</NavLink>\n                            {\n                                path.datatype === dataTypes.pharmacogenomics && \n                                <NavLink exact to={`/${path.datatype}/search`} className='link' activeClassName='active-link'>Search and Request</NavLink>\n                            }\n                            {\n                                path.datatype === dataTypes.pharmacogenomics && \n                                <NavLink exact to={`/${path.datatype}/status`} className='link' activeClassName='active-link'>Request Status</NavLink>\n                            }\n                            {\n                                path.datatype === dataTypes.pharmacogenomics && \n                                <NavLink exact to={`/${path.datatype}/stats`} className='link' activeClassName='active-link'>Statistics</NavLink>\n                            } \n                        </React.Fragment>\n                    }\n                    <NavLink exact to={`/documentation/overview`} className='link' activeClassName='active-link'>Documentation</NavLink>\n                </div>\n                <div className='right'>\n                    { \n                        auth.user && \n                        <NavLink exact to=\"/app/profile\" className='link' activeClassName='active-link'>Profile</NavLink>\n                    }\n                    <Button \n                        className='button' \n                        label={auth.user ? 'Logout' : 'Login/Register'} \n                        onClick={auth.user ? onLogoutClick : onLoginClick}\n                    /> \n                    <PachydermStatus className='status' isOnline={isOnline}>\n                        <div className='icon'><i className={`pi ${ isOnline ? 'pi-check' : 'pi-ban'}`}></i></div>\n                        <div className='text'>Pachyderm is <br />{isOnline ? 'online' : 'offline'}</div>\n                    </PachydermStatus> \n                    {\n                        auth.user ? <div className='loggedIn'>{`Logged in as: ${auth.user.username}`}</div> : ''\n                    }  \n                </div> \n            </NavigationWrapper>\n            <BurgerNav>\n                <Menu width={ 200 } isOpen={true} > \n                    {\n                        path.datatype.length > 0 &&\n                        <React.Fragment>\n                            <NavLink exact to={`/`} activeClassName='active-link'>Home</NavLink>\n                            <NavLink exact to={`/${path.datatype}`} activeClassName='active-link'>{getDatatype(path.datatype)}</NavLink>\n                            <NavLink exact to={`/${path.datatype}/search`} activeClassName='active-link'>Search and Request</NavLink>\n                            <NavLink exact to={`/${path.datatype}/status`} activeClassName='active-link'>Request Status</NavLink>\n                            <NavLink exact to={`/${path.datatype}/documentation/overview`} activeClassName='active-link'>Documentation</NavLink>\n                        </React.Fragment>\n                    }\n                    { auth.user && <NavLink exact to=\"/app/profile\" activeClassName='active-link'>Profile</NavLink>}\n                    <Button \n                        className='button' \n                        label={auth.user ? 'Logout' : 'Login/Register'} \n                        onClick={auth.user ? onLogoutClick : onLoginClick}\n                    />\n                    <PachydermStatus className='status' isOnline={isOnline}>\n                        <div className='icon'><i className={`pi ${ isOnline ? 'pi-check' : 'pi-ban'}`}></i></div>\n                        <div className='text'>Pachyderm is <br />{isOnline ? 'online' : 'offline'}</div>\n                    </PachydermStatus> \n                </Menu>\n            </BurgerNav> \n        </StyledHeader>\n    );\n}\n\nexport default withRouter(Navigation);","import React, {useContext} from 'react';\nimport { NavLink } from 'react-router-dom';\nimport { PathContext } from '../../hooks/Context';\nimport styled from 'styled-components';\nimport {dataTypes} from '../Shared/Enums';\n\nconst StyledFooter = styled.div`\n    position: relative;\n    clear: both;\n    bottom: 0%;\n    width: 100%;\n    background-color: rgb(255,255,255, 0.7);\n    height: 150px;\n    font-size: calc(0.7em + 0.2vw);\n    padding: 10px 0;\n    display: flex;\n    align-items: center;\n    justify-content: flex-;\n\n    .footerContainer {\n        width: 95%;\n        margin-left: auto;\n        margin-right: auto;\n        display:flex;\n        font-size: 12px;\n    }\n    \n    .footerLinks {\n        width:200px;\n        a, div {\n            display: block;\n            margin-bottom: 5px;\n            color: #3D405A;\n        }\n        a:hover {\n            color: #555975;\n        }\n    }\n\n    .footerMenu {\n        flex-grow: 1;\n        text-align: left;\n    }\n    \n    .footerSupport{\n        flex-grow: 1;\n        text-align: left;\n    }\n    \n    .footerContact {\n        flex-grow: 1;\n        text-align: left;\n    }\n    \n    .contactInfo{\n        font-size: calc(0.7em + 0.2vw);\n        line-height: 20px;\n        margin-top: -5px;\n    }\n`\n\nconst Footer = () => {\n\n    const path = useContext(PathContext);\n\n    return(\n        <StyledFooter>\n            <div className='footerContainer'>\n                <div className=\"footerMenu footerLinks\">\n                    <h3>Menu</h3>\n                    <NavLink exact to=\"/\" onClick={() => {path.setDatatype('')}}>Home</NavLink>\n                    {\n                        path.datatype.length === 0 ? \n                        <React.Fragment>\n                            <NavLink exact to={`/${dataTypes.pharmacogenomics}`} onClick={() => {path.setDatatype(dataTypes.pharmacogenomics)}}>Pharmacogenomics Data</NavLink>\n                            <NavLink exact to={`/${dataTypes.toxicogenomics}`} onClick={() => {path.setDatatype(dataTypes.toxicogenomics)}}>Toxicogenomics Data</NavLink>\n                            <NavLink exact to={`/${dataTypes.xenographic}`} onClick={() => {path.setDatatype(dataTypes.xenographic)}}>Xenographic Pharmacogenomics Data</NavLink>\n                            <div>Clinical Genomics Data (Coming soon)</div>\n                            <div>Radiogenomics Data (Coming soon)</div>\n                        </React.Fragment>\n                        :\n                        <React.Fragment>\n                            {/* <NavLink exact to={`/${path.datatype}/canonical`} >Canonical PSets</NavLink> */}\n                            <NavLink exact to={`/${path.datatype}/search`} >Search and Request</NavLink>\n                            {/* <NavLink exact to={`/${path.datatype}/status`} >Request Status</NavLink> */}\n                            {/* <NavLink exact to={`/${path.datatype}/stats`} >Statistics</NavLink> */}\n                        </React.Fragment>\n                    }\n                </div>\n                <div className=\"footerSupport footerLinks\">\n                    <h3>Support</h3>\n                    {\n                        path.datatype.length > 0 && \n                        <React.Fragment>\n                            <NavLink exact to={`/${path.datatype}/documentation/overview`} >Documentation</NavLink>\n                            <NavLink exact to={`/${path.datatype}/documentation/datacontribution`} >Contributing your data</NavLink>\n                        </React.Fragment>\n                    }\n                    <a href=\"https://github.com/bhklab\">GitHub</a>\n                    <a href=\"https://bhklab.ca/\">BHKLab</a>\n                    <div>support@orcestra.ca</div>\n                </div>\n                <div className=\"footerContact\">\n                    <h3>BHKLab</h3>\n                    <div className='contactInfo'>\n                        The MaRS center\n                        <br />\n                        101 College St, Toronto ON\n                        {' '}\n                        <br />\n                        TMDT RM 11-310\n                    </div>\n                </div>\n            </div>\n        </StyledFooter>\n    );\n} \n\nexport default Footer;","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n    width: 100%;\n    margin-left: auto;\n    margin-right: auto;\n    max-width: 1700px;\n    color:#3D405A;\n    min-height: 100vh;\n    padding-bottom: 200px;\n`\n\nexport const HeaderGroup = styled.div`\n    display: flex;\n    flex-direction: column;\n    h1 {\n        margin: auto;\n        text-align: left;\n        font-size: 100px;\n        color: #3D405A;\n    }\n    h2 {\n        margin: auto;\n        text-align: left;\n        font-weight: bold;\n        color: #3D405A;\n    }\n\n    @media only screen and (max-width: 700px) {\n        h1 {\n            font-size: 60px\n        }\n        h2 {\n            font-size: 24px;\n            text-align: center;\n        }\n    }\n`\n\nexport const DatasetHeaderGroup = styled.div`\n    display: flex;\n    flex-direction: column;\n    h1 {\n        margin: auto;\n        text-align: left;\n        font-size: 50px;\n        color: #3D405A;\n    }\n    h2 {\n        margin: auto;\n        text-align:left;\n        font-weight: bold;\n        color: #3D405A;\n    }\n`\n\nexport const Button = styled.a`\n    background-color: #3D405A;\n    border-radius: 5px;\n    border: none;\n    padding: 10px 10px;\n    color: white;\n    text-align: center;\n    text-decoration: none;\n    font-size: 14px;\n    font-weight: bold;\n    cursor: pointer;\n    margin-top: 30px;\n\n    :hover {\n        background-color: #555975;\n        color: rgb(241, 144, 33);\n    }\n`\n\nexport const Row = styled.div`\n    margin-top: 30px;\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: center;\n`\n\nexport const Column = styled.div`\n    flex: 28%;\n    max-width: 28%;\n    display: flex;\n    flex-direction: column;\n    justify-content: space-between;\n\n    @media only screen and (max-width: 1000px) {\n        flex: 50%;\n        max-width: 100%;\n    }\n`\n\nexport const Item = styled.div`\n    background-color:rgb(255, 255, 255,0.5);\n    margin: 0px 10px 10px 10px;\n    padding: 0px 20px 30px 20px;\n    border-radius: 10px;\n    width: 95%;\n    min-height:200px;\n    min-width: 300px;\n\n    .content {\n        width: 100%;\n        margin-left: auto;\n        margin-right: auto;\n        p {\n            line-height: 1.5;\n        }\n    }\n\n    .line {\n        margin-bottom: 10px;\n        font-size: 16px;\n        height: 20%;\n        display: flex;\n        align-items: center;\n        span {\n            margin-left: 5px;\n        }\n    }\n\n    .link {\n        margin-top: 50px;\n    }\n`\n\nexport const Number = styled.span`\n    font-size: 70px;\n    font-weight: bold;\n    font-family: Arial, Helvetica, sans-serif;\n    width: 35%;\n    text-align: center;\n    button {\n        font-size: 75px;\n        font-weight: bold;\n        font-family: Arial, Helvetica, sans-serif;\n        color: #3D405A;\n        border: none;\n        background: none;\n        outline: none;\n        cursor: pointer;\n    }\n    button:hover {\n        color: #555975;\n    }\n`\n\n","import React, {useContext, useEffect} from 'react';\nimport { PathContext } from '../../hooks/Context';\nimport * as MainStyle from './MainStyle';\nimport styled from 'styled-components';\nimport {dataTypes} from '../Shared/Enums';\n\nconst StyledBox = styled.div`\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n    background-color:rgb(255, 255, 255,0.5);\n    margin: 0px 10px 10px 10px;\n    padding: 10px 30px 30px 30px;\n    border-radius: 10px;\n    width: 30%;\n    height: 250px;\n    min-width: 200px;\n    max-width: 370px;\n\n    .header {\n        height: 25%;\n        width: 90%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        text-align: center;\n        font-size: 20px;\n        font-weight: bold;\n    }\n\n    button {\n        height: 75%;\n        border: none;\n        outline: none;\n        cursor: pointer;\n        background: none;\n\n        :hover .hover-cover {\n            opacity: 0.7;\n        }\n\n        :hover .hover-text {\n            display: block;\n        }\n    }\n\n    .btn-content {\n        position relative;\n        display: flex;\n        justify-content center;\n        align-items: center;\n    }\n\n    img {\n        width: ${props => (props.imgWidth)};\n        min-width: 130px;\n        margin: 10px;\n    }\n\n    .hover-cover {\n        position absolute;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        background-color: #ffffff;\n        border-radius: 5px;\n        opacity: 0;\n    }\n\n    .hover-text {\n        display: none;\n        position absolute;\n        font-size: 45px;\n        font-weight: bold;\n        color: #3D405A;\n    }\n\n    @media only screen and (max-width: 1000px) {\n        width: 60%;\n        min-width: 360px;\n    }\n`;\n\n\nconst Main = (props) => {\n\n    const path = useContext(PathContext);\n    const { history } = props;\n\n    useEffect(() => {\n        path.setDatatype('');\n    }, []);\n\n    const DatatypeBox = (props) => (\n            <StyledBox imgWidth={props.imgWidth}>\n                <div className='header'>{props.title}</div>\n                <button \n                    onClick={() => {\n                        path.setDatatype(props.datatype);\n                        history.push({pathname: `/${props.datatype}`});\n                    }}\n                    disabled={props.disabled}\n                >\n                    <div className='btn-content'>\n                        <img src={`/images/icons/${props.datatype}.png`} />\n                        <div className='hover-cover'></div>\n                        <div className='hover-text'>{props.text}</div>\n                    </div>\n                </button>\n            </StyledBox>\n    );\n\n    return (\n        <MainStyle.Wrapper>\n            <MainStyle.HeaderGroup>\n                <h1>ORCESTRA</h1>   \n                <h2>Orchestration platform for reproducing multimodal data</h2>\n            </MainStyle.HeaderGroup>\n            <MainStyle.Row>\n                <DatatypeBox title='Pharmacogenomics Data' datatype={dataTypes.pharmacogenomics} text='GO' imgWidth='45%' />\n                <DatatypeBox title='Toxicogenomics Data' datatype={dataTypes.toxicogenomics} text='GO' imgWidth='70%'/>\n                <DatatypeBox title='Xenographic Pharmacogenomics Data' datatype={dataTypes.xenographic} text='GO' imgWidth='70%'/>\n            </MainStyle.Row>  \n            <MainStyle.Row>\n                <DatatypeBox title='Radiogenomics Data' datatype={dataTypes.radiogenomics} text='GO' imgWidth='45%'/>\n                <DatatypeBox title='Clinical Genomics Data' datatype={dataTypes.clinicalgenomics} text='GO'  imgWidth='45%'/>\n            </MainStyle.Row>\n        </MainStyle.Wrapper>\n    );\n    \n}\n\nexport default Main;","import styled from 'styled-components';\nimport {Accordion} from 'primereact/accordion';\n\nexport const TabContainer = styled.div`\n    width: 100%;\n`\n\nexport const TabHeader = styled.h1`\n    margin-left: 20px;\n`\nexport const TabContent = styled.div`\n    margin-left: 40px;\n    margin-right: 20px;\n`\n\nexport const TabContentSection = styled.div`\n    margin-top: 30px;\n    margin-bottom: 50px;\n    h3 {\n        font-size: 16px;\n    }\n    .pubList {\n        margin-bottom: 10px;\n    }\n    .subContent {\n        margin-left: 20px;\n        font-size: 14px;\n        max-width: 90%;\n        .subContentHeader {\n            color: #3D405A;\n            font-weight: bold;\n            font-size: 14px;\n        }\n        td {\n            padding: 10px;\n        }\n        .code {\n            font-family: courier new;\n            font-weight: bold;\n        }\n    }\n`\n\nexport const StyledAccordion = styled(Accordion)`\n    width: 100%;\n    margin-top: 10px;\n    margin-bottom: 30px;\n    h4 {\n        margin-left: 20px;\n        font-size: 14px;\n        max-width: 90%;\n    }\n`","import React from 'react';\nimport {Accordion,AccordionTab} from 'primereact/accordion';\nimport {StyledAccordion} from '../SingleDatasetStyle';\n\nclass PSetToolAccordion extends React.Component {\n\n    render(){\n        const toolAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                {item.commands.length ? \n                    <ul>\n                        {item.commands.map((command) => \n                            <li key={command}>\n                                {command}\n                            </li>    \n                        )}\n                    </ul>\n                    :\n                    \"Not Available\"\n                }\n                   \n            </AccordionTab>\n        );\n        \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {toolAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n\n}\n\nclass RNARefAccordion extends React.Component {\n    \n    render(){\n        const rnaRefAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                <ul>\n                    <li className='listItem-1'>\n                        <div>{item.name.length ? item.name : 'Currently not available'}</div>\n                        <div>{item.source.length ? <a href={item.source}>{item.source}</a> : 'Currently not available'}</div>\n                    </li>                    \n                </ul> \n            </AccordionTab>\n        );\n    \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {rnaRefAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n    \n}\n\nclass DNARefAccordion extends React.Component {\n\n    render(){\n        const exomeRefAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                <ul>\n                    <li className='listItem-1'>\n                        <div>{item.name.length ? item.name: 'Currently not available'}</div>\n                        <div>{item.source.length ? <a href={item.source}>{item.source}</a> : 'Currently not available'}</div>\n                    </li>\n                    <li className='listItem-1'>\n                        <div>{item.cosmic.name}</div>\n                        <div><a href={item.cosmic.source}>{item.cosmic.source}</a> </div>\n                    </li>\n                    <li className='listItem-1'>\n                        <div>{item.exonTarget.name}</div>\n                        <div><a href={item.exonTarget.source}>{item.exonTarget.source}</a></div>\n                    </li>                       \n                </ul> \n            </AccordionTab>\n        );\n    \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {exomeRefAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n\n}\n\nclass GeneralInfoAccordion extends React.Component {\n    render(){   \n        const doi = 'http://doi.org/' + this.props.data.doi\n        return(\n            <StyledAccordion className='generalInfoAccordion' activeIndex={0}>\n                <AccordionTab header=\"General Information\">\n                    <h4>{this.props.datasetType} Name: {this.props.data.name}</h4>\n                    <h4>DOI:  <a href={doi} target=\"_blank\">{this.props.data.doi}</a></h4>\n                    <h4>Date Created: {this.props.data.dateCreated.split('T')[0]}</h4>\n                    {this.props.data.createdBy && <h4>Created By {this.props.data.createdBy}</h4>}\n                </AccordionTab>    \n            </StyledAccordion>    \n        );\n    }\n}\n\nexport {\n    PSetToolAccordion,\n    RNARefAccordion,\n    DNARefAccordion,\n    GeneralInfoAccordion\n}\n","import React from 'react';\nimport {Dialog} from 'primereact/dialog';\nimport {TabView,TabPanel} from 'primereact/tabview';\nimport {Accordion,AccordionTab} from 'primereact/accordion';\nimport styled from 'styled-components';\nimport {PSetToolAccordion, RNARefAccordion, DNARefAccordion} from '../../SingleDataset/PSet/PSetAccordion';\n\nconst TabContent = styled.div`\n    max-width: 700px;\n    max-height: 350px;\n    word-wrap: break-word;\n    overflow-y: scroll;\n`\n\nconst DatasetDialog = (props) => {\n    \n    const datasetAccordionTabs = props.dataset.map((item) => \n        <TabPanel key={item.label} header={item.label}>\n            <TabContent>\n                <Accordion multiple={true}>\n                    {item.versions.map((version) => \n                        <AccordionTab key={version.version} header={version.version}>\n                            <div className='tabContentSection'>\n                                <h3>Drug Sensitivity</h3>\n                                <h4 className='subContent'>Version: {version.drugSensitivity.version}</h4>\n                                <h4 className='subContent'>Source: {version.drugSensitivity.source ? <a href={version.drugSensitivity.source}>{version.drugSensitivity.source}</a> : 'Not available'}</h4>\n                            </div>\n                            <div className='tabContentSection'>\n                                <h3>Publication: </h3>\n                                <ul>\n                                    <div>    \n                                        {version.publication.length ? \n                                            version.publication.map((p) => \n                                                <li key={p.link} className='pubList'>\n                                                    <div className='subContent'>{p.citation}</div>\n                                                    <br />\n                                                    <div className='subContent'><a href={p.link}>{p.link}</a></div>\n                                                </li>\n                                            )\n                                            :\n                                            <div className=\"subContent\">\n                                                Not available.\n                                            </div>\n                                        }  \n                                    </div>\n                                </ul> \n                            </div>\n                        </AccordionTab>\n                    )}     \n                </Accordion>\n            </TabContent> \n        </TabPanel>\n    );\n    \n    return(\n        <Dialog header=\"Dataset Overview\" visible={props.visible} onHide={props.onHide} style={{minWidth: '50vw'}} >\n            <TabView>\n                {datasetAccordionTabs}\n            </TabView>\n        </Dialog>\n    )\n}\n\nconst RNADialog = (props) => {\n    return(\n        <Dialog header=\"RNA Pipeline Overview\" visible={props.visible} onHide={props.onHide} style={{minWidth: '50vw'}} >\n            <TabView renderActiveOnly={false}>\n                <TabPanel key='rnaTools' header=\"RNA Tools\">\n                    <h3>Available RNA Pipeline Tools</h3>\n                    <PSetToolAccordion items={props.rna.tool} />\n                </TabPanel>\n                <TabPanel key='rnaRef' header=\"RNA References\">\n                    <h3>Available RNA Transcriptome References</h3>\n                    <RNARefAccordion items={props.rna.ref} />\n                </TabPanel>\n            </TabView>\n        </Dialog>\n    )\n}\n\nconst DNADialog = (props) => {\n    return(\n        <Dialog header=\"DNA Sequence Alignment Overview\" visible={props.visible} onHide={props.onHide} style={{minWidth: '50vw'}} >\n            <TabView renderActiveOnly={false}>\n                <TabPanel key='dnaTools' header=\"DNA Tools\">\n                    <h3>Available DNA Pipeline Tools</h3>\n                    <PSetToolAccordion items={props.dna.tool} />\n                </TabPanel>\n                <TabPanel key='dnaRef' header=\"DNA References\">\n                    <h3>Available DNA Exome References</h3>\n                    <DNARefAccordion items={props.dna.ref} />\n                </TabPanel>\n            </TabView>\n        </Dialog>\n    )\n}\n\nexport {\n    DatasetDialog,\n    RNADialog,\n    DNADialog\n}","import React from 'react';\nimport * as MainStyle from '../MainStyle';\n\nconst CanonicalBox = (props) => (\n    <MainStyle.Item style={{ alignSelf: 'flex-start'}}>\n        <h3>{`Canonical ${props.datasetName}s`}</h3>\n        <div className='content'>\n            <div>{`The latest version of ${props.datasetName}s created by BHK Lab.`}</div>\n            <div className='link'>\n                <MainStyle.Button href={`/${props.datasetType}/canonical`}>{`View Canonical ${props.datasetName}s`}</MainStyle.Button>\n            </div>\n        </div>\n    </MainStyle.Item>\n);\n\nexport default CanonicalBox;","import React from 'react';\nimport * as MainStyle from '../MainStyle';\n\nconst RequestStatusBox = (props) => (\n    <MainStyle.Item style={{ alignSelf: 'flex-start'}}>\n        <h3>{`View ${props.datasetName} Request Status`}</h3>\n        <div className='content'>\n            <div>{`ORCESTRA is processing following ${props.datasetName} requests:`}</div>\n            <div className='line'>\n                <MainStyle.Number>{props.dashboard.pending}</MainStyle.Number> \n                <span>Requests in queue.</span>\n            </div>\n            <div className='line'>\n                <MainStyle.Number>{props.dashboard.inProcess}</MainStyle.Number> \n                <span >Requests in process.</span>\n            </div>\n            <div className='link'>\n                <MainStyle.Button href={`/${props.datasetType}/status`}>View Request Status</MainStyle.Button>\n            </div>\n        </div>\n    </MainStyle.Item>\n);\n\nexport default RequestStatusBox;","import React from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport * as MainStyle from '../MainStyle';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst PopularDatasetBox = (props) => {\n    \n    const nameColumnTemplate = (rowData, column) => {\n        let route = `/${props.datasetType}/${rowData.doi}`;\n        return(\n            <Link to={route} >{rowData.name}</Link>\n        );\n    };\n\n    return(\n        <MainStyle.Item>\n            <h3>{`${props.datasetName === dataTypes.pharmacogenomics ? 'Top 5 Popular' : 'Popular'} ${props.datasetName}s`}</h3>\n            <div className='content'>\n                <DataTable value={props.statsData} >\n                    <Column className='textField' field='download' header='Download' />\n                    <Column className='textField' field='name' header='Name' body={nameColumnTemplate}/>\n                </DataTable>\n                {\n                    !props.disableBtn &&\n                    <div className='link'>\n                        <MainStyle.Button href={`/${props.datasetType}/stats`}>View Statistics</MainStyle.Button>\n                        </div>\n                }\n            </div>\n        </MainStyle.Item> \n    );\n};\n\nexport default PopularDatasetBox;","import React from 'react';\nimport * as MainStyle from '../MainStyle';\n\nconst YourOwnDataBox = (props) => (\n    <MainStyle.Item>\n        <h3>{`Generate ${props.datasetName}s with Your Data`}</h3>\n        <div className='content'>\n            <p>\n                <b>{`You can generate ${props.datasetName}s using your own datasets.`}</b> <br /> \n                For more information, please read about <a href={`/${props.datasetType}/documentation/datacontribution`}>contributing your data</a>.\n            </p>    \n        </div>\n    </MainStyle.Item> \n);\n\nexport default YourOwnDataBox;","import React, {useState, useEffect} from 'react';\nimport {DatasetDialog, RNADialog, DNADialog} from '../MainDialog/PharmacogenomicsDialog';\nimport * as MainStyle from '../MainStyle';\nimport CanonicalBox from '../MainBoxes/CanonicalBox';\nimport RequestStatusBox from '../MainBoxes/RequestStatusBox';\nimport PopularDatasetBox from '../MainBoxes/PopularDatasetBox';\nimport YourOwnDataBox from '../MainBoxes/YourOwnDataBox';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst Pharmacogenomics = () => {\n    \n    const [statsData, setStatsData] = useState([]);\n    const [formData, setFormData] = useState({\n        dataset: [],\n        rnaTool: [],\n        dnaTool: [],\n        rnaRef: [],\n        dnaRef: []\n    });\n    const [dashboard, setDashboard] = useState({\n        pending: 0,\n        inProcess: 0\n    });\n    const [datasetVisible, setDatasetVisible] = useState(false);\n    const [rnaVisible, setRNAVisible] = useState(false);\n    const [dnaVisible, setDNAVisible] = useState(false);\n\n    useEffect(() => {\n        const fetchData = async (api) => {\n            const res = await fetch(api);\n            const json = await res.json();\n            const dataset = json.form.dataset; \n            let versionCombo = 0\n            for(let i = 0; i < dataset.length; i++){\n                versionCombo += dataset[i].versions.length\n            }\n            setStatsData(json.dataset);\n            setFormData({...json.form, versionCombo: versionCombo});\n            setDashboard(json.dashboard);\n        }\n        fetchData(`/api/${dataTypes.pharmacogenomics}/landing/data`);\n    }, []);\n\n    const showDialog = (type) => {\n        switch(type){\n            case 'dataset':\n                setDatasetVisible(true);\n                break;\n            case 'rna':\n                setRNAVisible(true);\n                break;\n            case 'dna':\n                setDNAVisible(true);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const hideDialog = (type) => {\n        switch(type){\n            case 'dataset':\n                setDatasetVisible(false);\n                break;\n            case 'rna':\n                setRNAVisible(false);\n                break;\n            case 'dna':\n                setDNAVisible(false);\n                break;\n            default:\n                break;\n        }\n    }\n\n    return (\n        <MainStyle.Wrapper>\n            <MainStyle.DatasetHeaderGroup>\n                <h1>ORCESTRA for Pharmacogenomics</h1>   \n                <h2>Explore and request multimodal Pharmacogenomic Datasets (PSets)</h2>\n            </MainStyle.DatasetHeaderGroup>\n            <MainStyle.Row>\n                <MainStyle.Column>\n                    <MainStyle.Item>\n                        <h3>Search and Request PSets</h3>\n                        <div className='content'>\n                            <div>Design your own PSet using:</div>\n                            <div className='line'>\n                                <MainStyle.Number>\n                                    <button onClick={() => {showDialog('dataset')}}>{formData.versionCombo}</button>\n                                </MainStyle.Number> \n                                <span>Dataset/Drug sensitivity combinations</span>\n                            </div>\n                            <div className='line'>\n                                <MainStyle.Number>\n                                    <button onClick={() => {showDialog('rna')}}>{formData.rnaTool.length}</button>\n                                </MainStyle.Number> \n                                <span>RNA pipelines.</span>\n                            </div>\n                            <div className='link'>\n                                <MainStyle.Button href={`/${dataTypes.pharmacogenomics}/search`}>Search and Request</MainStyle.Button>\n                            </div>\n                        </div>\n                    </MainStyle.Item>\n                </MainStyle.Column>\n                <MainStyle.Column>\n                    <CanonicalBox datasetName='PSet' datasetType={dataTypes.pharmacogenomics} />\n                    <RequestStatusBox datasetName='PSet' datasetType={dataTypes.pharmacogenomics} dashboard={dashboard}/>\n                </MainStyle.Column> \n                <MainStyle.Column>\n                    <PopularDatasetBox datasetName='PSet' datasetType={dataTypes.pharmacogenomics} statsData={statsData} />\n                    <YourOwnDataBox datasetName='PSet' datasetType={dataTypes.pharmacogenomics} />\n                </MainStyle.Column>    \n            </MainStyle.Row> \n            <DatasetDialog visible={datasetVisible} onHide={() => {hideDialog('dataset')}} dataset={formData.dataset} />\n            <RNADialog visible={rnaVisible} onHide={() => {hideDialog('rna')}} rna={{tool: formData.rnaTool, ref: formData.rnaRef}} />\n            <DNADialog visible={dnaVisible} onHide={() => {hideDialog('dna')}} dna={{tool: formData.dnaTool, ref: formData.dnaRef}} />  \n        </MainStyle.Wrapper>\n    );\n}\n\nexport default Pharmacogenomics;","import { createContext } from 'react';\n\nconst SearchReqContext = createContext(null);\n\nexport default SearchReqContext;","import React, {useContext} from 'react';\nimport axios from 'axios';\nimport {Button} from 'primereact/button';\nimport { AuthContext } from '../../../hooks/Context';\n\nconst SaveDatasetButton = (props) => {\n    const auth = useContext(AuthContext);\n    const {selectedDatasets, onSaveComplete, disabled} = props;\n    \n    const saveSelectedDatasets = async (event) => {\n        event.preventDefault();\n        if(auth.user && selectedDatasets.length){\n            let userDataset = { \n                username: auth.user.username,\n                datasetId: selectedDatasets.map(item => (item._id))\n            };\n            let res = null;\n            try{\n                res = await axios.post('/api/user/dataset/add', userDataset);\n                onSaveComplete(1, res.data);\n            }catch(err){\n                console.log(err);\n                onSaveComplete(0, res.data);\n            }\n        }\n    }\n\n    return(\n        <Button label='Save' onClick={saveSelectedDatasets} disabled={disabled}/>\n    );\n}\n\nexport default SaveDatasetButton;\n","import styled from 'styled-components';\n\nexport const SearchReqWrapper = styled.div`\n    display: flex;\n`;\n\nexport const Filter = styled.div`\n    width: 300px;\n    max-height: 620px;\n    color: #3D405A;\n    background-color: rgba(255, 255, 255, 0.8);\n    font-size: 12px;\n    padding-top: 5px;\n    padding-left: 20px;\n    padding-right: 20px;\n    padding-bottom: 20px;\n    border-radius: 10px;\n`;\n\nexport const MainPanel = styled.div`\n    width: 75%;\n    margin-left: 20px;\n`;\n\nexport const SearchReqPanel = styled.div`\n    display: flex;\n    justify-content: space-between;\n    max-width: 100%;\n    margin-bottom: 20px;\n    border-radius: 10px;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-bottom: 30px;\n    color: #3D405A;\n    background-color: rgba(255, 255, 255, 0.8);\n`;","import React from 'react';\nimport Loader from 'react-loader-spinner';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n`;\n\nconst SearchTableLoader = () => {\n    return(\n        <Container>\n            <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n        </Container>\n    );\n}\n\nexport default SearchTableLoader;\n","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledSearchSummary = styled.div`\n    margin-right: 20px;\n    .wrapper {\n        display: flex;\n        align-items: flex-end;\n        margin-top: -25px;\n        margin-bottom: 15px;\n    }\n    .number {\n        font-size: 100px;\n        font-weight: bold;\n    }\n    .text {\n        font-size: 20px;\n        margin-left: 5px;\n        padding-bottom: 15px;\n    }\n`;\n\nconst SearchSummary = (props) => {\n    const { title, searchAll, matchNum } = props;\n    return(\n        <StyledSearchSummary>\n            <h3>{title}</h3>\n            <div className='wrapper'>\n                <span className='number'>\n                    {matchNum}\n                </span> \n                <span className='text'>\n                    { searchAll ? 'dataset(s) available.' : `${(matchNum === 1 ? ' match' : ' matches')} found.` }\n                </span>\n            </div>\n        </StyledSearchSummary>\n    );\n}\n\nexport default SearchSummary;","import React from 'react';\nimport {InputSwitch} from 'primereact/inputswitch';\nimport styled from 'styled-components';\n\nconst FilterSet = styled.div`\n    display: flex;\n    align-items: center;\n    margin-top: 20px;\n    margin-bottom: 30px;\n    label{\n        margin-right: 10px;\n        font-weight: bold;\n    }\n`;\n\nconst FilterInputSwitch = (props) => {\n    const { label, checked, tooltip, onChange, disabled } = props;\n    \n    return(\n        <FilterSet>\n            <label>{label}</label> \n            <InputSwitch checked={checked} tooltip={tooltip} onChange={onChange} disabled={disabled} />\n        </FilterSet>\n    );\n}\n\nexport default FilterInputSwitch;","import React from 'react';\nimport {MultiSelect} from 'primereact/multiselect';\nimport {Dropdown} from 'primereact/dropdown';\nimport styled from 'styled-components';\n\nconst FilterSet = styled.div`\n    display: flex;\n    align-items: center;\n    margin-top: 20px;\n    margin-bottom: 30px;\n    label {\n        margin-right: 10px;\n    }\n    .dropdown {\n        flex-grow: 1;\n    }\n    .item-token {\n        padding-left: 3px;\n        padding-right: 3px;\n        margin-top: 2px;\n        margin-left: 2px;\n        margin-right: 2px;\n        border-radius: 2px;\n        background-color: #3D405A;\n        color: #ffffff;\n        font-weight: bold;\n        font-size: 12px;\n        display: inline-block;\n    }\n`;\n\nconst FilterDropdown = (props) => {\n    const { \n        id, \n        hidden, \n        selectOne, \n        label, \n        options, \n        selected, \n        onChange, \n        disabled \n    } = props;\n\n    const dataTemplate =  (option) => {\n        return(\n            <div>\n                <span style={{fontSize:'1em',margin:'1em .5em 0 0'}}>{option.label}</span>\n            </div>\n        );\n    }\n\n    const selectedDataTemplate = (item) => {\n        if (item) {\n            return (\n                <div className=\"item-token\">\n                    <span>{item.label}</span>\n                </div>\n            );\n        }\n        else {\n            return <span>Select...</span>\n        }\n    }\n\n    if(hidden){\n        return(null);\n    }\n    if(selectOne){\n        return(\n            <FilterSet>\n                <label>{label}</label>\n                <Dropdown \n                    id={id} \n                    className='dropdown' \n                    optionLabel='label' \n                    value={selected}   \n                    options={options} \n                    onChange={onChange}\n                    filter={true} \n                    itemTemplate={dataTemplate}\n                    placeholder=\"Select one...\"\n                    disabled={disabled}\n                />\n            </FilterSet>\n        );\n    }\n    return(\n        <FilterSet>\n            <label>{label}</label>\n            <MultiSelect \n                id={id}\n                className='dropdown' \n                optionLabel='label' \n                value={selected} \n                options={options} \n                onChange={onChange}\n                filter={true} \n                itemTemplate={dataTemplate} \n                selectedItemTemplate={selectedDataTemplate}\n                disabled={disabled}\n            />\n        </FilterSet>\n    );\n}\n\nexport default FilterDropdown;","import React, {useState, useEffect, useContext} from 'react';\nimport SearchReqContext from '../SearchReqContext';\n\nimport {Filter} from '../SearchReqStyle';\nimport FilterInputSwitch from '../../Shared/FilterInputSwitch';\nimport FilterDropdown from '../../Shared/FilterDropdown';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst ToxicoSetFilter = () => {\n    \n    const context = useContext(SearchReqContext);\n\n    const [datasetSelect, setDatasetSelect] = useState({selected: [], options: [], hidden: false});\n    const [ready, setReady] = useState(false);\n    \n    useEffect(() => {\n        const initialize = async () => {\n            const res = await fetch(`/api/${dataTypes.toxicogenomics}/formData`);\n            const form = await res.json();\n            setDatasetSelect({...datasetSelect, options: form.dataset});\n            setReady(true);\n        }\n        initialize();\n    }, []);\n    \n    return(\n        <React.Fragment>\n        {\n            ready&&\n            <Filter>\n                <h2>ToxicoSet Parameters</h2>\n                <FilterInputSwitch \n                    label='Request ToxicoSet:'\n                    checked={context.isRequest}\n                    tooltip='Currently unavailable'\n                    disabled={true}\n                />\n                <FilterDropdown \n                    id='dataset' \n                    hidden={false} \n                    label='Dataset:' \n                    selectOne={context.isRequest}  \n                    options={datasetSelect.options} \n                    selected={datasetSelect.selected} \n                    onChange={(e) => {\n                        setDatasetSelect({...datasetSelect, selected: e.value}); \n                        context.setParameters(prev => ({...prev, dataset: e.value, search: true}));\n                    }} \n                />\n            </Filter>\n        }   \n        </React.Fragment>\n    );\n}\n\nexport default ToxicoSetFilter;","import React, {useState, useEffect} from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst ToxicoSetTable = (props) => {\n    \n    const [state, setState] = useState({\n        rows: 10,\n        first: 0,\n        start: 0,\n        end: 10,\n        totalRecords: 0,\n        loading: true\n    })\n\n    useEffect(()=>{\n        setState({...state, loading: false})\n    }, []);\n\n    const downloadPSet = (doi, link) => async (event) => {\n        event.preventDefault();\n        console.log('downloadOnePSet');\n        await fetch(`/api/${dataTypes.toxicogenomics}/download`, {\n            method: 'POST',\n            body: JSON.stringify({datasetDOI: doi}),\n            headers: {'Content-type': 'application/json'}\n        })\n        const anchor = document.createElement('a');\n        anchor.setAttribute('download', null);\n        anchor.style.display = 'none';\n        anchor.setAttribute('href', link);\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n    }\n\n    const drugSensitivityTemplate = (rowData, column) => {\n        const drugSensitivity = rowData[column.field].find(item => (item.name === 'drugResponse'));\n        return(\n            <div>{drugSensitivity ? drugSensitivity.version : 'None'}</div>\n        );\n    }\n\n    const dataTypeTemplate = (rowData, column) => {\n        const dataTypes = rowData[column.field].filter(item => (item.name !== 'drugResponse'));\n        return(\n            <div>{dataTypes.map(item => <div key={item.name}>{item.name} ({item.type})</div>)}</div>\n        );\n    }\n\n    const nameColumnTemplate = (rowData, column) => (\n        <Link to={`/${dataTypes.toxicogenomics}/${rowData.doi}`} target=\"_blank\">{rowData.name}</Link>\n    );\n\n    const downloadTemplate = (rowData, column) => {\n        return(rowData.downloadLink ? <a id={rowData._id} href='#' onClick={downloadPSet(rowData.doi, rowData.downloadLink)}>Download</a> : 'Not Available');\n    };\n\n    const canonicalTemplate = (rowData, column) => (\n        <div>{rowData[column.field] ? 'Yes' : ''}</div>\n    );\n\n    return(\n        <DataTable \n            value={props.tsets} \n            selection={props.selectedDatasets} \n            onSelectionChange={props.updateDatasetSelection} \n            paginator={props.tsets.length > 10} \n            rows={state.rows} \n            resizableColumns={true} \n            columnResizeMode=\"fit\"\n            scrollable={true} \n            scrollHeight={props.scrollHeight }\n        >\n            {props.authenticated && <Column selectionMode=\"multiple\" style={{width: '30px', textAlign: 'center'}} />}\n            <Column className='textField' field='name' header='Name' style={{width:'150px'}} body={nameColumnTemplate} sortable={true} />\n            <Column className='textField' field='dataset.label' header='Dataset' style={{width:'120px'}} sortable={true} />\n            <Column field='dataType' body={drugSensitivityTemplate} style={{width:'100px'}} header='Drug Response' />\n            <Column field='dataType' body={dataTypeTemplate} style={{width:'100px'}} header='Molecular Data' />\n            <Column field='canonical' body={canonicalTemplate} style={{width:'80px', textAlign: 'center'}} header='Canonical' />\n            <Column field='download' style={{width:'100px', textAlign: 'center'}} header='Number of Downloads' sortable={true} />\n            {props.download && <Column field='downloadLink' body={downloadTemplate} style={{width:'60px', textAlign: 'center'}} header='Download' /> }\n        </DataTable>\n    );\n\n}\n\nexport default ToxicoSetTable;","import React, {useState, useEffect, useContext} from 'react';\nimport {Messages} from 'primereact/messages';\nimport { AuthContext } from '../../../hooks/Context';\nimport SearchReqContext from '../SearchReqContext';\nimport {dataTypes} from '../../Shared/Enums';\nimport SaveDatasetButton from '../../Shared/Buttons/SaveDatasetButton';\n\nimport { SearchReqWrapper, MainPanel, SearchReqPanel } from '../SearchReqStyle';\nimport SearchTableLoader from '../SearchTableLoader';\nimport SearchSummary from '../SearchSummary';\nimport ToxicoSetFilter from './ToxicoSetFilter';\nimport ToxicoSetTable from './ToxicoSetTable';\n\nasync function fetchData(url, parameters) {\n    const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify({parameters: {...parameters, status: 'complete', private: false}}),\n        headers: {'Content-type': 'application/json'}\n    });\n    const json = await response.json();\n    return(json);\n}\n\nconst ToxicoSetSearch = () => {\n    \n    const auth = useContext(AuthContext);\n    \n    const [toxicoSets, setToxicoSets] = useState([]);\n    const [searchAll, setSearchAll] = useState(true);\n    const [selectedTSets, setSelectedTSets] = useState([]);\n    const [isRequest, setIsRequest] = useState(false);\n    \n    const [parameters, setParameters] = useState({\n        dataset: [],\n        name: '',\n        email: '',\n        search: false\n    });\n\n    const [ready, setReady] = useState(false);\n\n    useEffect(() => {\n        const initializeView = async () => {\n            const tsets = await fetchData(`/api/${dataTypes.toxicogenomics}/search`);\n            console.log(tsets)\n            setToxicoSets(tsets);\n            setSearchAll(true);\n            setReady(true);\n        }\n        initializeView();\n    }, []);\n\n    useEffect(() => {   \n        async function search() {\n            console.log('search');\n            console.log(parameters);\n            const toxicoSets = await fetchData(`/api/${dataTypes.toxicogenomics}/search`, parameters);\n            let all = true;\n            Object.keys(parameters).forEach(key => {\n                if(Array.isArray(parameters[key]) && parameters[key].length){\n                    all = false;\n                }\n            });\n            setToxicoSets(toxicoSets);\n            setSearchAll(all);\n        }\n\n        if(parameters.search){\n            search();\n        }\n    }, [parameters]);\n\n    const showMessage = (status, data) => {\n        let severity = status ? 'success' : 'error';\n        ToxicoSetSearch.messages.show({severity: severity, summary: data.summary, detail: data.message, sticky: true});\n        setSelectedTSets([]);\n    }\n        \n    return(\n        <SearchReqContext.Provider \n            value={{ \n                parameters: parameters, \n                setParameters: setParameters, \n                isRequest: isRequest, \n                setIsRequest: setIsRequest\n            }}\n        >\n            <div className='pageContent'> \n                <div className='title'>ORCESTRA for Toxicogenomics</div>\n                <SearchReqWrapper>\n                    <ToxicoSetFilter />\n                    <MainPanel>\n                        <Messages ref={(el) => ToxicoSetSearch.messages = el} />\n                        <SearchReqPanel>\n                            <div>\n                                <SearchSummary \n                                    title='Explore multimodal Toxicogenomic Datasets (ToxicoSets)' \n                                    searchAll={searchAll} \n                                    matchNum={toxicoSets.length} \n                                />  \n                                {\n                                    auth.user ?\n                                    <SaveDatasetButton \n                                        selectedDatasets={selectedTSets} \n                                        disabled={selectedTSets.length > 0 ? false : true} \n                                        onSaveComplete={showMessage} \n                                    />\n                                    :\n                                    '*Login or register to save existing ToxicoSets to your profile.'\n                                }\n                            </div>\n                        </SearchReqPanel>\n                        {\n                            ready ?\n                            <ToxicoSetTable \n                                tsets={toxicoSets} \n                                selectedDatasets={selectedTSets} \n                                updateDatasetSelection={(e) => {setSelectedTSets(e.value)}} \n                                scrollHeight='600px'\n                                authenticated={auth.user ? true : false} \n                                download={true}\n                            /> \n                            :\n                            <SearchTableLoader />\n                        }  \n                    </MainPanel>\n                </SearchReqWrapper>\n            </div>\n        </SearchReqContext.Provider>\n    );\n}\n\nexport default ToxicoSetSearch;","import React, {useState, useEffect, useContext} from 'react';\nimport SearchReqContext from '../SearchReqContext';\n\nimport {Filter} from '../SearchReqStyle';\nimport FilterInputSwitch from '../../Shared/FilterInputSwitch';\nimport FilterDropdown from '../../Shared/FilterDropdown';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst XevaSetFilter = () => {\n    const context = useContext(SearchReqContext);\n\n    const [datasetSelect, setDatasetSelect] = useState({selected: [], options: [], hidden: false});\n    const [ready, setReady] = useState(false);\n    \n    useEffect(() => {\n        const initialize = async () => {\n            const res = await fetch(`/api/${dataTypes.xenographic}/formData`);\n            const form = await res.json();\n            setDatasetSelect({...datasetSelect, options: form.dataset});\n            setReady(true);\n        }\n        initialize();\n    }, []);\n    \n    return(\n        <React.Fragment>\n        {\n            ready&&\n            <Filter>\n                <h2>XevaSet Parameters</h2>\n                <FilterInputSwitch \n                    label='Request XevaSet:'\n                    checked={context.isRequest}\n                    tooltip='Currently unavailable'\n                    onChange={(e) => {}}\n                    disabled={true}\n                />\n                <FilterDropdown \n                    id='dataset' \n                    hidden={false} \n                    label='Dataset:' \n                    selectOne={context.isRequest}  \n                    options={datasetSelect.options} \n                    selected={datasetSelect.selected} \n                    onChange={(e) => {\n                        setDatasetSelect({...datasetSelect, selected: e.value}); \n                        context.setParameters(prev => ({...prev, dataset: e.value, search: true}));\n                    }} \n                />\n            </Filter>\n        }   \n        </React.Fragment>\n    );\n}\n\nexport default XevaSetFilter;","import React, {useState, useEffect} from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst XevaSetTable = (props) => {\n    \n    const [state, setState] = useState({\n        rows: 10,\n        first: 0,\n        start: 0,\n        end: 10,\n        totalRecords: 0,\n        loading: true\n    })\n\n    useEffect(()=>{\n        setState({...state, loading: false})\n    }, []);\n\n    const downloadPSet = (doi, link) => async (event) => {\n        event.preventDefault();\n        console.log('downloadOneXevaSet');\n        await fetch(`/api/${dataTypes.xenographic}/download`, {\n            method: 'POST',\n            body: JSON.stringify({datasetDOI: doi}),\n            headers: {'Content-type': 'application/json'}\n        })\n        const anchor = document.createElement('a');\n        anchor.setAttribute('download', null);\n        anchor.style.display = 'none';\n        anchor.setAttribute('href', link);\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n    }\n\n    const drugSensitivityTemplate = (rowData, column) => {\n        const drugSensitivity = rowData[column.field].find(item => (item.name === 'drugResponse'));\n        return(\n            <div>{drugSensitivity ? drugSensitivity.version : 'Not Available'}</div>\n        );\n    }\n\n    const dataTypeTemplate = (rowData, column) => {\n        const dataTypes = rowData[column.field].filter(item => (item.name !== 'drugResponse'));\n        return(\n        <div>{dataTypes.map(item => <div key={item.name}>{item.name} ({item.type})</div>)}</div>\n        );\n    }\n\n    const nameColumnTemplate = (rowData, column) => (\n        <Link to={`/${dataTypes.xenographic}/${rowData.doi}`} target=\"_blank\">{rowData.name}</Link>\n    );\n\n    const downloadTemplate = (rowData, column) => {\n        return(rowData.downloadLink ? <a id={rowData._id} href='#' onClick={downloadPSet(rowData.doi, rowData.downloadLink)}>Download</a> : 'Not Available');\n    };\n\n    const canonicalTemplate = (rowData, column) => (\n        <div>{rowData[column.field] ? 'Yes' : ''}</div>\n    );\n\n    return(\n        <DataTable \n            value={props.xevasets} \n            selection={props.selectedDatasets} \n            onSelectionChange={props.updateDatasetSelection} \n            paginator={props.xevasets.length > 10} rows={state.rows} \n            resizableColumns={true} columnResizeMode=\"fit\"\n            scrollable={true} scrollHeight={props.scrollHeight }\n        >\n            {props.authenticated && <Column selectionMode=\"multiple\" style={{width: '30px', textAlign: 'center'}} />}\n            <Column className='textField' field='name' header='Name' style={{width:'150px'}} body={nameColumnTemplate} sortable={true} />\n            <Column className='textField' field='dataset.name' header='Dataset' style={{width:'100px'}} sortable={true} />\n            <Column field='dataType' body={drugSensitivityTemplate} style={{width:'100px'}} header='Drug Response' />\n            <Column field='dataType' body={dataTypeTemplate} style={{width:'100px'}} header='Molecular Data' />\n            <Column field='canonical' body={canonicalTemplate} style={{width:'90px', textAlign: 'center'}} header='Canonical' />\n            <Column field='download' style={{width:'100px', textAlign: 'center'}} header='Number of Downloads' sortable={true} />\n            {props.download && <Column field='downloadLink' body={downloadTemplate} style={{width:'60px', textAlign: 'center'}} header='Download' /> }\n        </DataTable>\n    );\n\n}\n\nexport default XevaSetTable;","import React, {useState, useEffect, useContext} from 'react';\nimport {Messages} from 'primereact/messages';\nimport { AuthContext } from '../../../hooks/Context';\nimport SearchReqContext from '../SearchReqContext';\nimport SaveDatasetButton from '../../Shared/Buttons/SaveDatasetButton';\n\nimport { SearchReqWrapper, MainPanel, SearchReqPanel } from '../SearchReqStyle';\nimport SearchTableLoader from '../SearchTableLoader';\nimport SearchSummary from '../SearchSummary';\nimport XevaSetFilter from './XevaSetFilter';\nimport XevaSetTable from './XevaSetTable';\nimport {dataTypes} from '../../Shared/Enums';\n\nasync function fetchData(url, parameters) {\n    const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify({parameters: {...parameters, status: 'complete', private: false}}),\n        headers: {'Content-type': 'application/json'}\n    });\n    const json = await response.json();\n    return(json);\n}\n\nconst XevaSetSearch = () => {\n    \n    const auth = useContext(AuthContext);\n    \n    const [xevaSets, setXevaSets] = useState([]);\n    const [searchAll, setSearchAll] = useState(true);\n    const [selectedXevaSets, setSelectedXevaSets] = useState([]);\n    const [isRequest, setIsRequest] = useState(false);\n    \n    const [parameters, setParameters] = useState({\n        dataset: [],\n        name: '',\n        email: '',\n        search: false\n    });\n\n    const [ready, setReady] = useState(false);\n\n    useEffect(() => {\n        const initializeView = async () => {\n            const xevasets = await fetchData(`/api/${dataTypes.xenographic}/search`);\n            console.log(xevasets)\n            setXevaSets(xevasets);\n            setSearchAll(true);\n            setReady(true);\n        }\n        initializeView();\n    }, []);\n\n    useEffect(() => {   \n        async function search() {\n            console.log('search');\n            console.log(parameters);\n            const xevaSets = await fetchData(`/api/${dataTypes.xenographic}/search`, parameters);\n            let all = true;\n            Object.keys(parameters).forEach(key => {\n                if(Array.isArray(parameters[key]) && parameters[key].length){\n                    all = false;\n                }\n            });\n            setXevaSets(xevaSets);\n            setSearchAll(all);\n        }\n\n        if(parameters.search){\n            search();\n        }\n    }, [parameters]);\n\n    const showMessage = (status, data) => {\n        let severity = status ? 'success' : 'error';\n        XevaSetSearch.messages.show({severity: severity, summary: data.summary, detail: data.message, sticky: true});\n        setSelectedXevaSets([]);\n    }\n        \n    return(\n        <SearchReqContext.Provider \n            value={{ \n                parameters: parameters, \n                setParameters: setParameters, \n                isRequest: isRequest, \n                setIsRequest: setIsRequest\n            }}\n        >\n            <div className='pageContent'>\n                <div className='title'>ORCESTRA for Xenographic Pharmacogenomics</div>   \n                <SearchReqWrapper>\n                    <XevaSetFilter />\n                    <MainPanel>\n                    <Messages ref={(el) => XevaSetSearch.messages = el} />\n                        <SearchReqPanel>\n                            <div>\n                                <SearchSummary \n                                    title='Explore Xenographic Pharmacogenomics Datasets (XevaSets)' \n                                    searchAll={searchAll} \n                                    matchNum={xevaSets.length} \n                                />\n                                {\n                                    auth.user ?\n                                    <SaveDatasetButton \n                                        selectedDatasets={selectedXevaSets} \n                                        disabled={selectedXevaSets.length > 0 ? false : true} \n                                        onSaveComplete={showMessage} \n                                    />\n                                    :\n                                    '*Login or register to save existing XevaSets to your profile.'\n                                }\n                            </div>\n                        </SearchReqPanel>\n                        {\n                            ready ?\n                            <XevaSetTable\n                                xevasets={xevaSets} \n                                selectedDatasets={selectedXevaSets} \n                                updateDatasetSelection={(e) => {setSelectedXevaSets(e.value)}} \n                                scrollHeight='600px'\n                                authenticated={auth.user ? true : false} \n                                download={true}\n                            /> \n                            :\n                            <SearchTableLoader />\n                        }  \n                    </MainPanel>\n                </SearchReqWrapper>\n            </div>\n        </SearchReqContext.Provider>\n    );\n}\n\nexport default XevaSetSearch;","import React, {useState, useEffect, useContext} from 'react';\nimport SearchReqContext from '../SearchReqContext';\n\nimport {Filter} from '../SearchReqStyle';\nimport FilterInputSwitch from '../../Shared/FilterInputSwitch';\nimport FilterDropdown from '../../Shared/FilterDropdown';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst ClinGenSetFilter = () => {    \n    const context = useContext(SearchReqContext);\n\n    const [datasetSelect, setDatasetSelect] = useState({selected: [], options: [], hidden: false});\n    const [ready, setReady] = useState(false);\n    \n    useEffect(() => {\n        const initialize = async () => {\n            const res = await fetch(`/api/${dataTypes.clinicalgenomics}/formData`);\n            const form = await res.json();\n            setDatasetSelect({...datasetSelect, options: form.dataset});\n            setReady(true);\n        }\n        initialize();\n    }, []);\n    \n    return(\n        <React.Fragment>\n        {\n            ready&&\n            <Filter>\n                <h2>Clinical Genomics Dataset Parameters</h2>\n                <FilterInputSwitch \n                    label='Request Clinical Genomics Dataset:'\n                    checked={context.isRequest}\n                    tooltip='Currently unavailable'\n                    disabled={true}\n                />\n                <FilterDropdown \n                    id='dataset' \n                    hidden={false} \n                    label='Dataset:' \n                    selectOne={context.isRequest}  \n                    options={datasetSelect.options} \n                    selected={datasetSelect.selected} \n                    onChange={(e) => {\n                        setDatasetSelect({...datasetSelect, selected: e.value}); \n                        context.setParameters(prev => ({...prev, dataset: e.value, search: true}));\n                    }} \n                />\n            </Filter>\n        }   \n        </React.Fragment>\n    );\n}\n\nexport default ClinGenSetFilter;","import React, {useState, useEffect} from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst ClinGenSetTable = (props) => {\n    \n    const [state, setState] = useState({\n        rows: 10,\n        first: 0,\n        start: 0,\n        end: 10,\n        totalRecords: 0,\n        loading: true\n    })\n\n    useEffect(()=>{\n        setState({...state, loading: false})\n    }, []);\n\n    const downloadDataset = (doi, link) => async (event) => {\n        event.preventDefault();\n        console.log('downloadOnePSet');\n        await fetch(`/api/${dataTypes.clinicalgenomics}/download`, {\n            method: 'POST',\n            body: JSON.stringify({datasetDOI: doi}),\n            headers: {'Content-type': 'application/json'}\n        })\n        const anchor = document.createElement('a');\n        anchor.setAttribute('download', null);\n        anchor.style.display = 'none';\n        anchor.setAttribute('href', link);\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n    }\n\n    const drugSensitivityTemplate = (rowData, column) => {\n        const drugSensitivity = rowData[column.field].find(item => (item.name === 'drugResponse'));\n        return(\n            <div>{drugSensitivity ? drugSensitivity.version : 'None'}</div>\n        );\n    }\n\n    const dataTypeTemplate = (rowData, column) => {\n        const dataTypes = rowData[column.field].filter(item => (item.name !== 'drugResponse'));\n        return(\n            <div>{dataTypes.map(item => <div key={item.name}>{item.name} ({item.type})</div>)}</div>\n        );\n    }\n\n    const nameColumnTemplate = (rowData, column) => (\n        <Link to={`/${dataTypes.clinicalgenomics}/${rowData.doi}`} target=\"_blank\">{rowData.name}</Link>\n    );\n\n    const downloadTemplate = (rowData, column) => {\n        return(rowData.downloadLink ? <a id={rowData._id} href='#' onClick={downloadDataset(rowData.doi, rowData.downloadLink)}>Download</a> : 'Not Available');\n    };\n\n    const canonicalTemplate = (rowData, column) => (\n        <div>{rowData[column.field] ? 'Yes' : ''}</div>\n    );\n\n    return(\n        <DataTable \n            value={props.datasets} \n            selection={props.selectedDatasets} \n            onSelectionChange={props.updateDatasetSelection} \n            paginator={props.datasets.length > 10} \n            rows={state.rows} \n            resizableColumns={true} \n            columnResizeMode=\"fit\"\n            scrollable={true} \n            scrollHeight={props.scrollHeight }\n        >\n            {props.authenticated && <Column selectionMode=\"multiple\" style={{width: '30px', textAlign: 'center'}} />}\n            <Column className='textField' field='name' header='Name' style={{width:'150px'}} body={nameColumnTemplate} sortable={true} />\n            <Column className='textField' field='dataset.name' header='Dataset' style={{width:'100px'}} sortable={true} />\n            <Column field='dataType' body={drugSensitivityTemplate} style={{width:'100px'}} header='Drug Response' />\n            <Column field='dataType' body={dataTypeTemplate} style={{width:'100px'}} header='Molecular Data' />\n            <Column field='canonical' body={canonicalTemplate} style={{width:'90px', textAlign: 'center'}} header='Canonical' />\n            <Column field='download' style={{width:'100px', textAlign: 'center'}} header='Number of Downloads' sortable={true} />\n            {props.download && <Column field='downloadLink' body={downloadTemplate} style={{width:'60px', textAlign: 'center'}} header='Download' /> }\n        </DataTable>\n    );\n\n}\n\nexport default ClinGenSetTable;","import React, {useState, useEffect, useContext} from 'react';\nimport {Messages} from 'primereact/messages';\nimport { AuthContext } from '../../../hooks/Context';\nimport SearchReqContext from '../SearchReqContext';\nimport SaveDatasetButton from '../../Shared/Buttons/SaveDatasetButton';\n\nimport { SearchReqWrapper, MainPanel, SearchReqPanel } from '../SearchReqStyle';\nimport SearchTableLoader from '../SearchTableLoader';\nimport SearchSummary from '../SearchSummary';\nimport ClinGenSetFilter from './ClinGenSetFilter';\nimport ClinGenSetTable from './ClinGenSetTable';\nimport {dataTypes} from '../../Shared/Enums';\n\nasync function fetchData(url, parameters) {\n    const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify({parameters: {...parameters, status: 'complete', private: false}}),\n        headers: {'Content-type': 'application/json'}\n    });\n    const json = await response.json();\n    return(json);\n}\n\nconst ClinGenSetSearch = () => {\n    \n    const auth = useContext(AuthContext);\n    \n    const [datasets, setDatasets] = useState([]);\n    const [searchAll, setSearchAll] = useState(true);\n    const [selectedDatasets, setSelectedDatasets] = useState([]);\n    const [isRequest, setIsRequest] = useState(false);\n    \n    const [parameters, setParameters] = useState({\n        dataset: [],\n        name: '',\n        email: '',\n        search: false\n    });\n\n    const [ready, setReady] = useState(false);\n\n    useEffect(() => {\n        const initializeView = async () => {\n            const res = await fetchData(`/api/${dataTypes.clinicalgenomics}/search`);\n            console.log(res)\n            setDatasets(res);\n            setSearchAll(true);\n            setReady(true);\n        }\n        initializeView();\n    }, []);\n\n    useEffect(() => {   \n        async function search() {\n            console.log('search');\n            console.log(parameters);\n            const result = await fetchData(`/api/${dataTypes.clinicalgenomics}/search`, parameters);\n            let all = true;\n            Object.keys(parameters).forEach(key => {\n                if(Array.isArray(parameters[key]) && parameters[key].length){\n                    all = false;\n                }\n            });\n            setDatasets(result);\n            setSearchAll(all);\n        }\n\n        if(parameters.search){\n            search();\n        }\n    }, [parameters]);\n\n    const showMessage = (status, data) => {\n        let severity = status ? 'success' : 'error';\n        ClinGenSetSearch.messages.show({severity: severity, summary: data.summary, detail: data.message, sticky: true});\n        setSelectedDatasets([]);\n    }\n        \n    return(\n        <SearchReqContext.Provider value={{ \n                parameters: parameters, \n                setParameters: setParameters, \n                isRequest: isRequest, \n                setIsRequest: setIsRequest\n            }}\n        >\n            <div className='pageContent'>\n                <div className='title'>ORCESTRA for Clinical Genomics</div>  \n                <SearchReqWrapper>\n                    <ClinGenSetFilter />\n                    <MainPanel>\n                        <Messages ref={(el) => ClinGenSetSearch.messages = el} />\n                        <SearchReqPanel>\n                            <div>\n                                <SearchSummary \n                                    title='Explore multimodal Clinical Genomics Datasets' \n                                    searchAll={searchAll} \n                                    matchNum={datasets.length} \n                                />\n                                {\n                                    auth.user ?\n                                    <SaveDatasetButton \n                                        selectedDatasets={selectedDatasets} \n                                        disabled={selectedDatasets.length > 0 ? false : true} \n                                        onSaveComplete={showMessage} \n                                    />\n                                    :\n                                    '*Login or register to save existing Clinical Genomics Datasets to your profile.'\n                                }\n                            </div>\n                        </SearchReqPanel>\n                        {\n                            ready ?\n                            <ClinGenSetTable \n                                datasets={datasets} \n                                selectedDatasets={selectedDatasets} \n                                updateDatasetSelection={(e) => {setSelectedDatasets(e.value)}} \n                                scrollHeight='600px'\n                                authenticated={auth.user ? true : false}  \n                                download={true}\n                            /> \n                            :\n                            <SearchTableLoader />\n                        }  \n                    </MainPanel>\n                </SearchReqWrapper>\n            </div>\n        </SearchReqContext.Provider>\n    );\n}\n\nexport default ClinGenSetSearch;","import React, {useState, useEffect, useContext} from 'react';\nimport SearchReqContext from '../SearchReqContext';\n\nimport {Filter} from '../SearchReqStyle';\nimport FilterInputSwitch from '../../Shared/FilterInputSwitch';\nimport FilterDropdown from '../../Shared/FilterDropdown';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst RadioSetFilter = () => {\n    const context = useContext(SearchReqContext);\n    \n    const [datasetSelect, setDatasetSelect] = useState({selected: [], options: [], hidden: false});\n    const [ready, setReady] = useState(false);\n    \n    useEffect(() => {\n        const initialize = async () => {\n            const res = await fetch(`/api/${dataTypes.radiogenomics}/formData`);\n            const form = await res.json();\n            setDatasetSelect({...datasetSelect, options: form.dataset});\n            setReady(true);\n        }\n        initialize();\n    }, []);\n    \n    return(\n        <React.Fragment>\n        {\n            ready&&\n            <Filter>\n                <h2>RadioSet Parameters</h2>\n                <FilterInputSwitch \n                    label='Request RadioSet:'\n                    checked={context.isRequest}\n                    tooltip='Currently unavailable'\n                    disabled={true}\n                />\n                <FilterDropdown \n                    id='dataset' \n                    hidden={false} \n                    label='Dataset:' \n                    selectOne={context.isRequest}  \n                    options={datasetSelect.options} \n                    selected={datasetSelect.selected} \n                    onChange={(e) => {\n                        setDatasetSelect({...datasetSelect, selected: e.value}); \n                        context.setParameters(prev => ({...prev, dataset: e.value, search: true}));\n                    }} \n                />\n            </Filter>\n        }   \n        </React.Fragment>\n    );\n}\n\nexport default RadioSetFilter;","import React, {useState, useEffect} from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst RadioSetTable = (props) => {\n    \n    const [state, setState] = useState({\n        rows: 10,\n        first: 0,\n        start: 0,\n        end: 10,\n        totalRecords: 0,\n        loading: true\n    })\n\n    useEffect(()=>{\n        setState({...state, loading: false})\n    }, []);\n\n    const downloadDataset = (doi, link) => async (event) => {\n        event.preventDefault();\n        console.log('downloadOnePSet');\n        await fetch(`/api/${dataTypes.radiogenomics}/download`, {\n            method: 'POST',\n            body: JSON.stringify({datasetDOI: doi}),\n            headers: {'Content-type': 'application/json'}\n        })\n        const anchor = document.createElement('a');\n        anchor.setAttribute('download', null);\n        anchor.style.display = 'none';\n        anchor.setAttribute('href', link);\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n    }\n\n    const radiationSensitivityTemplate = (rowData, column) => {\n        const radiationSensitivity = rowData[column.field].find(item => (item.name === 'radiationSensitivity'));\n        return(\n            <div>{radiationSensitivity ? radiationSensitivity.version : 'Not Available'}</div>\n        );\n    }\n\n    const dataTypeTemplate = (rowData, column) => {\n        const dataTypes = rowData[column.field].filter(item => (item.name !== 'radiationSensitivity'));\n        return(\n            <div>{dataTypes.map(item => <div key={item.name}>{item.name} ({item.type})</div>)}</div>\n        );\n    }\n\n    const nameColumnTemplate = (rowData, column) => (\n        <Link to={`/${dataTypes.radiogenomics}/${rowData.doi}`} target=\"_blank\">{rowData.name}</Link>\n    );\n\n    const downloadTemplate = (rowData, column) => {\n        return(rowData.downloadLink ? <a id={rowData._id} href='#' onClick={downloadDataset(rowData.doi, rowData.downloadLink)}>Download</a> : 'Not Available');\n    };\n\n    const canonicalTemplate = (rowData, column) => (\n        <div>{rowData[column.field] ? 'Yes' : ''}</div>\n    );\n\n    return(\n        <DataTable \n            value={props.datasets} \n            selection={props.selectedDatasets} \n            onSelectionChange={props.updateDatasetSelection} \n            paginator={props.datasets.length > 10} rows={state.rows} \n            resizableColumns={true} columnResizeMode=\"fit\"\n            scrollable={true} scrollHeight={props.scrollHeight }\n        >\n            {props.authenticated && <Column selectionMode=\"multiple\" style={{width: '30px', textAlign: 'center'}} />}\n            <Column className='textField' field='name' header='Name' style={{width:'150px'}} body={nameColumnTemplate} sortable={true} />\n            <Column className='textField' field='dataset.name' header='Dataset' style={{width:'100px'}} sortable={true} />\n            <Column field='dataType' body={radiationSensitivityTemplate} style={{width:'100px'}} header='Radation Sensitivity' />\n            <Column field='dataType' body={dataTypeTemplate} style={{width:'100px'}} header='Molecular Data' />\n            <Column field='canonical' body={canonicalTemplate} style={{width:'90px', textAlign: 'center'}} header='Canonical' />\n            <Column field='download' style={{width:'100px', textAlign: 'center'}} header='Number of Downloads' sortable={true} />\n            {props.download && <Column field='downloadLink' body={downloadTemplate} style={{width:'60px', textAlign: 'center'}} header='Download' /> }\n        </DataTable>\n    );\n\n}\n\nexport default RadioSetTable;","import React, {useState, useEffect, useContext} from 'react';\nimport {Messages} from 'primereact/messages';\nimport { AuthContext } from '../../../hooks/Context';\nimport SearchReqContext from '../SearchReqContext';\nimport SaveDatasetButton from '../../Shared/Buttons/SaveDatasetButton';\n\nimport { SearchReqWrapper, MainPanel, SearchReqPanel } from '../SearchReqStyle';\nimport SearchTableLoader from '../SearchTableLoader';\nimport SearchSummary from '../SearchSummary';\nimport RadioSetFilter from './RadioSetFilter';\nimport RadioSetTable from './RadioSetTable';\nimport {dataTypes} from '../../Shared/Enums';\n\nasync function fetchData(url, parameters) {\n    const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify({parameters: {...parameters, status: 'complete', private: false}}),\n        headers: {'Content-type': 'application/json'}\n    });\n    const json = await response.json();\n    return(json);\n}\n\nconst RadioSetSearch = () => {\n    \n    const auth = useContext(AuthContext);\n    \n    const [datasets, setDatasets] = useState([]);\n    const [searchAll, setSearchAll] = useState(true);\n    const [selectedDatasets, setSelectedDatasets] = useState([]);\n    const [isRequest, setIsRequest] = useState(false);\n    \n    const [parameters, setParameters] = useState({\n        dataset: [],\n        name: '',\n        email: '',\n        search: false\n    });\n\n    const [ready, setReady] = useState(false);\n\n    useEffect(() => {\n        const initializeView = async () => {\n            const res = await fetchData(`/api/${dataTypes.radiogenomics}/search`);\n            console.log(res)\n            setDatasets(res);\n            setSearchAll(true);\n            setReady(true);\n        }\n        initializeView();\n    }, []);\n\n    useEffect(() => {   \n        async function search() {\n            console.log('search');\n            console.log(parameters);\n            const result = await fetchData(`/api/${dataTypes.radiogenomics}/search`, parameters);\n            let all = true;\n            Object.keys(parameters).forEach(key => {\n                if(Array.isArray(parameters[key]) && parameters[key].length){\n                    all = false;\n                }\n            });\n            setDatasets(result);\n            setSearchAll(all);\n        }\n\n        if(parameters.search){\n            search();\n        }\n    }, [parameters]);\n\n    const showMessage = (status, data) => {\n        let severity = status ? 'success' : 'error';\n        RadioSetSearch.messages.show({severity: severity, summary: data.summary, detail: data.message, sticky: true});\n        setSelectedDatasets([]);\n    }\n        \n    return(\n        <SearchReqContext.Provider \n            value={{ \n                parameters: parameters, \n                setParameters: setParameters, \n                isRequest: isRequest, \n                setIsRequest: setIsRequest\n            }}\n        >\n            <div className='pageContent'>\n                <div className='title'>ORCESTRA for Radiogenomics</div>  \n                <SearchReqWrapper>\n                    <RadioSetFilter />\n                    <MainPanel>\n                        <Messages ref={(el) => RadioSetSearch.messages = el} />\n                        <SearchReqPanel>\n                            <div>\n                                <SearchSummary \n                                    title='Explore multimodal Radiogenomic Datasets (RadioSets)' \n                                    searchAll={searchAll} \n                                    matchNum={datasets.length} \n                                />\n                                {\n                                    auth.user ?\n                                    <SaveDatasetButton \n                                        selectedDatasets={selectedDatasets} \n                                        disabled={selectedDatasets.length > 0 ? false : true} \n                                        onSaveComplete={showMessage} \n                                    />\n                                    :\n                                    '*Login or register to save existing RadioSets to your profile.'\n                                }\n                            </div>\n                        </SearchReqPanel>\n                        {\n                            ready ?\n                            <RadioSetTable \n                                datasets={datasets} \n                                selectedDatasets={selectedDatasets} \n                                updateDatasetSelection={(e) => {setSelectedDatasets(e.value)}} \n                                scrollHeight='600px'\n                                authenticated={auth.user ? true : false} \n                                download={true}\n                            />\n                            :\n                            <SearchTableLoader />\n                        }  \n                    </MainPanel>\n                </SearchReqWrapper>\n            </div>\n        </SearchReqContext.Provider>\n    );\n}\n\nexport default RadioSetSearch;","import React from 'react';\nimport {dataTypes} from '../Shared/Enums';\nimport Pharmacogenomics from './DatasetMainContent/Pharmacogenomics';\n// import Toxicogenomics from './DatasetMainContent/Toxicogenomics';\n// import Xenographic from './DatasetMainContent/Xenographic';\nimport ToxicoSetSearch from '../SearchRequest/ToxicoSet/ToxicoSetSearch';\nimport XevaSetSearch from '../SearchRequest/XevaSet/XevaSetSearch';\nimport ClinGenSearch from '../SearchRequest/ClinicalGenomics/ClinGenSetSearch';\nimport RadioSetSearch from '../SearchRequest/RadioSet/RadioSetSearch';\n\nconst DatasetMain = (props) => {\n    return(\n        <React.Fragment>\n            {props.match.params.datatype === dataTypes.pharmacogenomics && <Pharmacogenomics />}\n            {props.match.params.datatype === dataTypes.toxicogenomics && <ToxicoSetSearch />}\n            {props.match.params.datatype === dataTypes.xenographic && <XevaSetSearch />}\n            {props.match.params.datatype === dataTypes.clinicalgenomics && <ClinGenSearch />}\n            {props.match.params.datatype === dataTypes.radiogenomics && <RadioSetSearch />}\n        </React.Fragment>\n    );\n}\n\nexport default DatasetMain;\n","import React from 'react';\nimport {Checkbox} from 'primereact/checkbox';\nimport styled from 'styled-components';\n\nconst CheckBoxContainer = styled.div`\n    display: flex;\n    align-items: center;\n    margin-bottom: 30px;\n    .label{\n        margin-right: 10px;\n    }\n`\n\nconst PSetCheckbox = (props) => {\n    return(\n        <CheckBoxContainer>\n            <div className='label'>{props.label}</div>\n            <Checkbox inputId=\"filteredSens\" \n                onChange={props.onChange} \n                checked={props.checked}>\n            </Checkbox>\n        </CheckBoxContainer>\n    );\n}\n\nexport default PSetCheckbox;","import React, {useState, useEffect, useContext} from 'react';\nimport SearchReqContext from '../SearchReqContext';\n\nimport {Filter} from '../SearchReqStyle';\nimport FilterInputSwitch from '../../Shared/FilterInputSwitch';\nimport FilterDropdown from '../../Shared/FilterDropdown';\nimport CustomCheckbox from '../../Shared/CustomCheckbox';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst PSetFilter = () => {\n    \n    const context = useContext(SearchReqContext);\n\n    const [datasetSelect, setDatasetSelect] = useState({selected: [], options: [], hidden: false});\n    const [dataTypeSelect, setDataTypeSelect] = useState({selected: [], options: [], hidden: false, searchOptions: []});\n    const [miArraySelect, setMiArraySelect] = useState({selected: [], options: [], hidden: true});\n    const [drugSensSelect, setDrugSensSelect] = useState({selected: [], options: [], hidden: false, disabled: true});\n    const [genomeSelect, setGenomeSelect] = useState({selected: [], options: [], hidden: false});\n    const [rnaToolSelect, setRNAToolSelect] = useState({selected: [], options: [], hidden: false});\n    const [rnaRefSelect, setRNARefSelect] = useState({selected: [], options: [], hidden: false});\n    const [checkBoxes, setCheckBoxes] = useState({canonicalOnly: false, filteredSensitivity: false});\n    \n    const [toolRefDisabled, setToolRefDisabled] = useState(false);\n    const [dataTypeDisabled, setDataTypeDisabled] = useState(false);\n    const [ready, setReady] = useState(false);\n    \n    useEffect(() => {\n        const initialize = async () => {\n            const res = await fetch(`/api/${dataTypes.pharmacogenomics}/formData`);\n            const form = await res.json();\n            console.log(form);\n            setDatasetSelect({...datasetSelect, options: form.dataset});\n            setDataTypeSelect({...dataTypeSelect, options: form.dataType, searchOptions: form.dataType});\n            setGenomeSelect({...genomeSelect, options: form.genome});\n            setRNAToolSelect({...rnaToolSelect, options: form.rnaTool});\n            setRNARefSelect({...rnaRefSelect, options: form.rnaRef});\n            setReady(true);\n        }\n        initialize();\n    }, []);\n\n    useEffect(() => {\n        // set drug sensitivity options based on dataset selection.\n        if(context.isRequest){\n            // disable the drug sensitivity options if no dataset is selected.\n            let options = [];\n            if(typeof datasetSelect.selected !== 'undefined'){\n                options = options.concat(getDrugSensOptions(datasetSelect.selected));\n                onDatasetSelection(datasetSelect.selected);\n            }\n            setDrugSensSelect({\n                selected: [],\n                options: options,\n                disabled: typeof datasetSelect.selected === 'undefined' ? true : false     \n            });\n        }else{\n            // enable the drug sensitivity options only if at least one dataset is selected.\n            let options = [];\n            if(typeof datasetSelect.selected !== 'undefined'){\n                datasetSelect.selected.forEach(item => {\n                    options = options.concat(getDrugSensOptions(item));\n                });\n                setDrugSensSelect({\n                    selected: [],\n                    options: options,\n                    disabled: datasetSelect.selected.length > 0 ? false : true     \n                });\n            }\n        }\n    }, [datasetSelect.selected]);\n\n    useEffect(() => {\n        if(context.isRequest){\n            // disable dataset option(s) that are not available to use for a PSet request.\n            let datasetOptions = datasetSelect.options.map(item => ({...item, disabled: item.unavailable ? true : false}));\n            setDatasetSelect({...datasetSelect, options: datasetOptions, selected: undefined});\n            setDataTypeSelect({...dataTypeSelect, selected: [], disabled: true, options: []});\n            setDataTypeDisabled(true);\n            setToolRefDisabled(true);\n            \n        }else{\n            setDatasetSelect({selected: [], hidden: false, options: datasetSelect.options.map(option => ({...option, disabled: false}))});\n            setDataTypeSelect({...dataTypeSelect, selected: [], disabled: false, hidden: false, options: dataTypeSelect.searchOptions.map(option => ({...option, hidden: false}))});\n            setDataTypeDisabled(false);\n            setToolRefDisabled(false);\n        }\n        setGenomeSelect({selected: [], hidden: false, options: genomeSelect.options});\n        setRNAToolSelect({selected: [], hidden: false, options: rnaToolSelect.options});\n        setRNARefSelect({selected: [], hidden: false, options: rnaRefSelect.options.map(option => ({...option, hidden: false}))});\n        setCheckBoxes({canonicalOnly: false, filteredSensitivity: false});\n        context.setParameters({\n            dataset: [],\n            drugSensitivity: [],\n            canonicalOnly: false,\n            filteredSensitivity: false,\n            genome: [],\n            dataType: [],\n            defaultData: [],\n            rnaTool: [],\n            rnaRef: [],\n            name: '',\n            email: '',\n            search: true\n        });\n    }, [context.isRequest]);\n\n    useEffect(() => {\n        // Show rnaRef options that belong to a selected genome(s), and hide others.\n        let rnaRefOptions = [...rnaRefSelect.options];\n        // if genomes are not selected, show all rnaRef options\n        if(genomeSelect.selected.length === 0 || typeof genomeSelect.selected === 'undefined'){\n            rnaRefOptions = rnaRefOptions.map(item => ({...item, hidden: false}));\n        // if one or more genome is selected, show rnaRef options that belong to the selected genome(s)\n        }else{\n            if(Array.isArray(genomeSelect.selected)){\n                rnaRefOptions = rnaRefOptions.map(\n                    item => ({...item, hidden: (genomeSelect.selected.find(genome => (item.genome === genome.name)) ? false : true)})\n                );\n            }else{\n                rnaRefOptions = rnaRefOptions.map(item => ({...item, hidden: (item.genome === genomeSelect.selected.name) ? false : true}));\n            }\n        }\n        setRNARefSelect({...rnaRefSelect, options: rnaRefOptions});\n    }, [genomeSelect.selected]);\n\n    useEffect(() => {\n        if(context.isRequest && typeof datasetSelect.selected !== 'undefined' && datasetSelect.selected.name === 'GDSC'){\n            let found = dataTypeSelect.selected.find(item => (item.name === 'microarray'));\n            if(miArraySelect.hidden && found){\n                setMiArraySelect({...miArraySelect, options: found.options, hidden: false});\n            }else if(!found){\n                setMiArraySelect({...miArraySelect, selected: undefined, options: [], hidden: true});\n                \n            }\n        }else{\n            setMiArraySelect({...miArraySelect, selected: undefined, options: [], hidden: true});\n        }\n    }, [dataTypeSelect.selected]);\n\n    const onDatasetSelection = (dataset) => {\n        // Handle form options depending on a selected dataset.\n        // Empty downstream selections everytime a different dataset it selected.\n        let defaultMolData = [];\n        switch(dataset.name){\n            case 'CCLE':\n                defaultMolData = dataTypeSelect.searchOptions.filter(item => (item.default));\n                setDataTypeSelect({...dataTypeSelect, selected: [], options: dataset.accompanyData, disabled: false});\n                setToolRefDisabled(false);\n                setDataTypeDisabled(false);\n                break;\n            case 'CTRPv2':\n                setDataTypeSelect({...dataTypeSelect, selected: [], options: [], disabled: true});\n                setToolRefDisabled(true);\n                setDataTypeDisabled(true);\n                break;\n            case 'FIMM':\n                setDataTypeSelect({...dataTypeSelect, selected: [], options: [], disabled: true});\n                setToolRefDisabled(true);\n                setDataTypeDisabled(true);\n                break;\n            case 'gCSI':\n                defaultMolData = dataTypeSelect.searchOptions.filter(item => (item.default));\n                setDataTypeSelect({...dataTypeSelect, selected: [], options: dataset.accompanyData, disabled: false});\n                setToolRefDisabled(false);\n                setDataTypeDisabled(false);\n                break;\n            case 'GDSC':\n                defaultMolData = dataTypeSelect.searchOptions.filter(item => (item.default));\n                setDataTypeSelect({...dataTypeSelect, selected: [], options: dataset.accompanyData, disabled: false});\n                setToolRefDisabled(false);\n                setDataTypeDisabled(false);\n                break;\n            default:\n                defaultMolData = dataTypeSelect.searchOptions.filter(item => (item.default));   \n                setDataTypeSelect({...dataTypeSelect, selected: [], options: dataset.accompanyData, disabled: dataset.accompanyData.length === 0}); \n                setToolRefDisabled(false);\n                setDataTypeDisabled(false);\n                break;\n        }\n        setGenomeSelect({...genomeSelect, selected: []});\n        setRNAToolSelect({...rnaToolSelect, selected: []});\n        setRNARefSelect(prev => ({...prev, selected: [], options: prev.options.map(item => ({...item, hidden: false}))}));\n        context.setParameters({\n            dataset: dataset,\n            drugSensitivity: [],\n            canonicalOnly: false,\n            filteredSensitivity: false,\n            genome: [],\n            dataType: [],\n            defaultData: defaultMolData,\n            rnaTool: [],\n            rnaRef: [],\n            name: '',\n            email: '',\n            search: true\n        });\n    }\n\n    const getDrugSensOptions = (dataset) => {\n        let options = [];\n        dataset.versions.forEach(version => {\n            if(!options.some(item => item.label === version.label)){\n                options.push(version);\n            }\n        });\n        return options;\n    }\n    \n    return(\n        <React.Fragment>\n        {\n            ready&&\n            <Filter>\n                <h2>PSet Parameters</h2>\n                <FilterInputSwitch \n                    label='Request PSet:'\n                    checked={context.isRequest}\n                    tooltip=\"Turn this on to request a PSet.\"\n                    onChange={(e) => {context.setIsRequest(e.value)}}\n                />\n                {\n                    !context.isRequest &&\n                    <CustomCheckbox \n                        label='Canonical PSets only: '\n                        onChange={(e) => {\n                            setCheckBoxes({...checkBoxes, canonicalOnly: e.checked});\n                            context.setParameters(prev => ({...prev, canonicalOnly: e.checked, search: true}));\n                        }} \n                        checked={checkBoxes.canonicalOnly} \n                    />\n                }\n                <FilterDropdown \n                    id='dataset' \n                    hidden={false} \n                    label='Dataset:' \n                    selectOne={context.isRequest}  \n                    options={datasetSelect.options} \n                    selected={datasetSelect.selected} \n                    onChange={(e) => {\n                        setDatasetSelect({...datasetSelect, selected: e.value}); \n                        context.setParameters(prev => ({...prev, dataset: e.value, search: true}));\n                    }} \n                />\n                {\n                    (context.isRequest && !dataTypeDisabled) && \n                    <div>\n                        Molecular Data: \n                        {\n                            context.parameters.defaultData.length === 1 ?\n                            <span style={{marginLeft: '10px', fontWeight: 'bold'}}>{context.parameters.defaultData[0].label}</span>\n                            :\n                            <ul>\n                            {\n                                context.parameters.defaultData.map(data => {\n                                    return(<li key={Math.random()}>{data.label}</li>);\n                                })\n                            }\n                            </ul>\n                        } \n                    </div>\n                }\n                <FilterDropdown \n                    id='dataType' \n                    hidden={dataTypeSelect.hidden} \n                    label={ context.isRequest ? 'Optional Molecular Data:' : 'Molecular Data Type:'}\n                    options={dataTypeSelect.options} \n                    disabled={dataTypeSelect.disabled}\n                    selected={dataTypeSelect.selected} \n                    onChange={(e) => {\n                        setDataTypeSelect({...dataTypeSelect, selected: e.value});\n                        context.setParameters(prev => ({...prev, dataType: e.value, search: true}));\n                    }} \n                />\n                <FilterDropdown \n                    id='microarrayOptions' \n                    hidden={miArraySelect.hidden} \n                    label='Microarray Type:'\n                    selectOne={true}\n                    options={miArraySelect.options} \n                    disabled={miArraySelect.disabled}\n                    selected={miArraySelect.selected} \n                    onChange={(e) => {\n                        setMiArraySelect({...miArraySelect, selected: e.value});\n                        let dataType = JSON.parse(JSON.stringify(context.parameters.dataType));\n                        dataType.find(item => (item.name === 'microarray')).microarrayType = e.value;\n                        context.setParameters(prev => ({...prev, dataType: dataType, search: false}));\n                    }} \n                />\n                <FilterDropdown \n                    id='drugSensitivity' \n                    hidden={drugSensSelect.hidden} \n                    label='Drug Sensitivity:' \n                    selectOne={context.isRequest} \n                    disabled={drugSensSelect.disabled}\n                    options={drugSensSelect.options} \n                    selected={drugSensSelect.selected} \n                    onChange={(e) => {\n                        setDrugSensSelect({...drugSensSelect, selected: e.value});\n                        context.setParameters(prev => ({...prev, drugSensitivity: e.value, search: true}));\n                    }} \n                />\n                \n                {\n                    context.isRequest ?\n                    !drugSensSelect.disabled &&\n                    <CustomCheckbox \n                        label='Standardize drug dose range and filter noisy sensitivity curves?'\n                        onChange={(e) => {\n                            setCheckBoxes({...checkBoxes, filteredSensitivity: e.checked});\n                            context.setParameters(prev => ({...prev, filteredSensitivity: e.checked}));\n                        }} \n                        checked={checkBoxes.filteredSensitivity} \n                    />\n                    :\n                    <CustomCheckbox \n                        label='Filtered sensitivity data only: '\n                        onChange={(e) => {\n                            setCheckBoxes({...checkBoxes, filteredSensitivity: e.checked});\n                            context.setParameters(prev => ({...prev, filteredSensitivity: e.checked, search: !context.isRequest}));\n                        }} \n                        checked={checkBoxes.filteredSensitivity} \n                    />\n                }\n                \n                <FilterDropdown \n                    id='genome' \n                    disabled={toolRefDisabled} \n                    hidden={false} \n                    label='Genome:' \n                    selectOne={context.isRequest} \n                    options={genomeSelect.options} \n                    selected={genomeSelect.selected} \n                    onChange={(e) => {\n                        setGenomeSelect({...genomeSelect, selected: e.value});\n                        // onGenomeSelection(e.value)\n                        context.setParameters(prev => ({...prev, genome: e.value, search: true}));\n                    }} \n                />\n\n                <FilterDropdown \n                    id='rnaTool' \n                    disabled={toolRefDisabled} \n                    label='RNA Tool:' \n                    options={rnaToolSelect.options} \n                    selected={rnaToolSelect.selected} \n                    onChange={(e) => {\n                        if(context.isRequest && e.value.length > 2){\n                            while(e.value.length > 2){ e.value.shift() }\n                        }\n                        setRNAToolSelect({...rnaToolSelect, selected: e.value});\n                        context.setParameters(prev => ({...prev, rnaTool: e.value, search: true}));\n                    }} \n                />\n\n                <FilterDropdown \n                    id='rnaRef' \n                    disabled={toolRefDisabled} \n                    label='RNA Ref:' \n                    selectOne={context.isRequest} \n                    options={rnaRefSelect.options.filter(item => !item.hidden)} \n                    selected={rnaRefSelect.selected} \n                    onChange={(e) => {\n                        setRNARefSelect({...rnaRefSelect, selected: e.value});\n                        context.setParameters(prev => ({...prev, rnaRef: e.value, search: true}));\n                    }} \n                />\n            </Filter>\n        }   \n        </React.Fragment>\n    );\n}\n\nexport default PSetFilter;","import React from 'react';\nimport {InputText} from 'primereact/inputtext';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\n    display: flex;\n    align-items: center;\n    font-size: 12px; \n    label {\n        margin-right: 10px;\n    }\n`;\n\nconst StyledInputText = styled(InputText)`\n    flex-grow: 1;\n`;\n\nconst CustomInputText = (props) => {\n    const {label, id, className, value, onChange, disabled} = props;\n    return(\n        <Container>\n            <label>{label}</label>\n            <StyledInputText \n                id={id} \n                className={className} \n                value={value} \n                onChange={onChange}\n                disabled={disabled} \n            />\n        </Container>\n    );\n}\n\nexport default CustomInputText;","import React, {useContext} from 'react';\nimport SearchReqContext from '../SearchReqContext';\n\nimport CustomInputText from '../../Shared/CustomInputText';\nimport {Button} from 'primereact/button';\nimport Loader from 'react-loader-spinner';\nimport {usePromiseTracker} from \"react-promise-tracker\";\nimport {trackPromise} from 'react-promise-tracker';\nimport styled from 'styled-components';\n\nconst RequestForm = styled.div`\n    width: 300px;\n    div {\n        margin-top: 25px;\n    }\n`\n\nconst LoaderContainer = styled.div`\n    height: 30px;\n    width: 100%;\n    display: flex;\n    justify-content: left;\n    align-items: center;\n`\n\nconst PSetRequestForm = (props) => {\n\n    const context = useContext(SearchReqContext);\n\n    const submitRequest = async event => {\n        event.preventDefault();\n        let dataset = {\n            name: context.parameters.dataset.name, \n            label: context.parameters.dataset.label, \n            versionInfo: context.parameters.drugSensitivity.version, \n            filteredSensitivity: context.parameters.filteredSensitivity\n        }\n        let reqData = {...context.parameters};\n        let dataType = context.parameters.defaultData.concat(context.parameters.dataType);\n        let rnaRef = {...context.parameters.rnaRef};\n\n        reqData.dataset = dataset;\n        reqData.dataType = dataType;\n        reqData.rnaRef = (Object.keys(rnaRef).length === 0 && rnaRef.constructor === Object ? [] : [rnaRef]);\n        \n        // delete any unnecessary fields for the database.\n        delete reqData.canonicalOnly;\n        delete reqData.drugSensitivity;\n        delete reqData.filteredSensitivity;\n        delete reqData.defaultData;\n        delete reqData.search;\n        reqData.dataType.forEach(dt => {\n            delete dt.hidden;\n            delete dt.options;\n        });\n        reqData.rnaRef.forEach(ref => {delete ref.hidden});\n\n        console.log(reqData);\n        \n        const res = await trackPromise(fetch('/api/pset/request', {\n                method: 'POST',\n                body: JSON.stringify({reqData: reqData}),\n                headers: {'Content-type': 'application/json'}\n            }));\n        const resData = await res.json();\n        props.onRequestComplete(res.ok, resData);\n        // props.onRequestComplete(true, {});\n    }\n\n    const SubmitRequestButton = () => {\n        const {promiseInProgress} = usePromiseTracker();\n        return(\n            promiseInProgress ? \n                <LoaderContainer>\n                    <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                </LoaderContainer>\n                :\n                <Button label='Submit Request' type='submit' disabled={!props.readyToSubmit} onClick={submitRequest}/>\n        );\n    }\n\n    return(\n        <RequestForm>\n            <h3>Request PSet</h3>\n            <CustomInputText \n                label='PSet Name:'\n                value={context.parameters.name || ''} \n                onChange={(e) => {context.setParameters({...context.parameters, name: e.target.value, search: false})}}\n            />\n            <CustomInputText \n                label='Email to receive DOI:'\n                value={context.parameters.email || ''} \n                onChange={(e) => {context.setParameters({...context.parameters, email: e.target.value, search: false})}}\n            />\n            <div>\n                <SubmitRequestButton />\n            </div>\n        </RequestForm>\n    );\n}\n\nexport default PSetRequestForm;","import React, {useState, useEffect} from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport {dataTypes} from '../../Shared/Enums';\n\nconst PSetTable = (props) => {\n\n    const { \n        psets, \n        selectedPSets, \n        updatePSetSelection, \n        scrollHeight, \n        download, \n        authenticated, \n    } = props;\n    \n    const [state, setState] = useState({\n        rows: 10,\n        first: 0,\n        start: 0,\n        end: 10,\n        totalRecords: 0,\n        loading: true\n    });\n\n    useEffect(()=>{\n        setState({...state, loading: false})\n    }, []);\n\n    const downloadPSet = (doi, link) => async (event) => {\n        event.preventDefault();\n        console.log('downloadOnePSet');\n        await fetch(`/api/${dataTypes.pharmacogenomics}/download`, {\n            method: 'POST',\n            body: JSON.stringify({datasetDOI: doi}),\n            headers: {'Content-type': 'application/json'}\n        })\n        const anchor = document.createElement('a');\n        anchor.setAttribute('download', null);\n        anchor.style.display = 'none';\n        anchor.setAttribute('href', link);\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n    }\n\n    const toolsRefTemplate = (rowData, column) => (\n        <div>{rowData[column.field] ? rowData[column.field].map(item => <div key={item.name}>{item.label}</div>) : ''}</div>\n    );\n\n    const dataTypeTemplate = (rowData, column) => (\n        <div>\n            {\n                rowData[column.field] ? \n                rowData[column.field].map(item => <div key={item.name}>{item.name}{item.microarrayType ? ` [${item.microarrayType.label}]` : ''} ({item.type})</div>) \n                : ''\n            }\n        </div>\n    );\n\n    const nameColumnTemplate = (rowData, column) => (\n        rowData.doi.length > 0 ? \n        <Link to={`/${dataTypes.pharmacogenomics}/${rowData.doi}`} target=\"_blank\">{rowData.name}</Link>\n        :\n        rowData.name\n    );\n\n    const downloadTemplate = (rowData, column) => {\n        return(rowData.downloadLink ? <a id={rowData._id} href='#' onClick={downloadPSet(rowData.doi, rowData.downloadLink)}>Download</a> : 'Not Available');\n    };\n\n    const filteredTemplate = (rowData, column) => (\n        <div>{rowData.dataset.filteredSensitivity ? 'Yes' : 'No'}</div>\n    );\n\n    const canonicalTemplate = (rowData, column) => (\n        <div>{rowData[column.field] ? 'Yes' : ''}</div>\n    );\n\n\n    return(\n        <DataTable \n            value={psets} \n            selection={selectedPSets} \n            onSelectionChange={updatePSetSelection} \n            paginator={true} \n            rows={state.rows} \n            resizableColumns={true} \n            columnResizeMode=\"fit\"\n            scrollable={true} \n            scrollHeight={scrollHeight}\n        >\n            {\n                authenticated && \n                <Column selectionMode=\"multiple\" style={{width: '40px', textAlign: 'center'}} />\n            }\n            <Column className='textField' field='name' header='Name' style={{width:'150px'}} body={nameColumnTemplate} sortable={true} />\n            <Column className='textField' field='dataset.name' header='Dataset' style={{width:'100px'}} sortable={true} />\n            <Column className='textField' field='dataset.versionInfo' header='Drug Sensitivity' style={{width:'120px'}} sortable={true} />\n            <Column field='dataset.filteredSensitivity' body={filteredTemplate} style={{width:'90px', textAlign: 'center'}} header='Filtered Drug Sensitivity' />\n            <Column field='rnaTool' body={toolsRefTemplate} style={{width:'120px'}} header='RNA Tool' sortable={true}  />\n            <Column field='rnaRef' body={toolsRefTemplate} style={{width:'120px'}} header='RNA Ref' sortable={true} />\n            <Column field='dataType' body={dataTypeTemplate} style={{width:'125px'}} header='Molecular Data' />\n            <Column field='canonical' body={canonicalTemplate} style={{width:'90px', textAlign: 'center'}} header='Canonical' />\n            {\n                download && \n                <Column field='downloadLink' body={downloadTemplate} style={{width:'90px', textAlign: 'center'}} header='Download' /> \n            }\n        </DataTable>\n    );\n\n}\n\nexport default PSetTable;","// Helper functions used for PSet API requests.\n\nexport function isNoneSelected(filterset){\n    if(!filterset.datatype.length && \n        !filterset.datasetName.length && \n        !filterset.genome.length && \n        !filterset.rnaTool.length &&\n        !filterset.dnaTool.length &&\n        !filterset.rnaRef.length &&\n        !filterset.dnaRef.length &&\n        !filterset.drugSensitivity.length){\n        return(true);\n    }\n    return(false);\n}\n\nexport function isReadyToSubmit(request){\n    if(!isSelected(request.dataset)){\n        return(false)\n    }\n    if(!isSelected(request.drugSensitivity)){\n        return(false);\n    }\n    if(!hasName(request.name)){return(false)}\n\n    if(!isValidEmail(request.email)){return(false)}\n\n    if(!isSelected(request.genome) && !(request.dataset.name === 'CTRPv2' || request.dataset.name === 'FIMM')){\n        return(false);\n    }\n    if(!isSelected(request.rnaTool) && !(request.dataset.name === 'CTRPv2' || request.dataset.name === 'FIMM')){\n        return(false);\n    }\n    if(!isSelected(request.rnaRef) && !(request.dataset.name === 'CTRPv2' || request.dataset.name === 'FIMM')){\n        return(false);\n    }\n\n    return(true);\n}\n\nexport function isSelected(reqParam){\n    if(typeof reqParam === 'undefined' || reqParam === null){\n        return(false);\n    }\n    if(Array.isArray(reqParam) && !reqParam.length){\n        return(false);\n    }\n    return(true);\n}\n\nexport function messageAfterRequest(status, data, initialize=null, msgComponent){\n    if(initialize){\n        initialize();\n    }\n    if(status){\n        msgComponent.show({severity: 'success', summary: data.summary, detail: data.message, sticky: true});\n    }else{\n        msgComponent.show({severity: 'error', summary: 'An error occured', detail: data.toString(), sticky: true});\n    } \n}\n\nfunction hasName(name){\n    if(typeof name === 'undefined' || name === null){\n        return(false);\n    }\n    if(name.length === 0){\n        return(false);\n    }\n    return(true);\n}\n\nfunction isValidEmail(email){\n    const regex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if(typeof email === 'undefined' || email === null){\n        return(false);\n    }\n    if(email.length === 0){\n        return(false);\n    }\n    if(!regex.test(email)){\n        return(false);\n    }\n    return(true);\n}\n","import React, {useState, useEffect, useContext} from 'react';\nimport { AuthContext } from '../../../hooks/Context';\nimport SearchReqContext from '../SearchReqContext';\n\nimport { SearchReqWrapper, MainPanel, SearchReqPanel } from '../SearchReqStyle';\nimport PSetFilter from './PSetFilter';\nimport PSetRequestForm from './PSetRequestForm';\nimport PSetTable from './PSetTable';\nimport SearchSummary from '../SearchSummary';\nimport SaveDatasetButton from '../../Shared/Buttons/SaveDatasetButton';\nimport SearchTableLoader from '../SearchTableLoader';\nimport {Messages} from 'primereact/messages';\nimport * as Helper from '../../Shared/Helper';\nimport {dataTypes} from '../../Shared/Enums';\n\nasync function fetchData(url, parameters) {\n    const response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify({parameters: {...parameters, status: 'complete', private: false}}),\n        headers: {'Content-type': 'application/json'}\n    });\n    const json = await response.json();\n    return(json);\n}\n\nconst PSetSearch = () => {\n    \n    const auth = useContext(AuthContext);\n    \n    const [psets, setPSets] = useState([]);\n    const [searchAll, setSearchAll] = useState(true);\n    const [selectedPSets, setSelectedPSets] = useState([]);\n    const [isRequest, setIsRequest] = useState(false);\n    const [readyToSubmit, setReadyToSubmit] = useState(true);\n    \n    const [parameters, setParameters] = useState({\n        dataset: [],\n        drugSensitivity: [],\n        canonicalOnly: false,\n        filteredSensitivity: false,\n        genome: [],\n        dataType: [],\n        defaultData: [],\n        rnaTool: [],\n        rnaRef: [],\n        name: '',\n        email: '',\n        search: false\n    });\n\n    const [ready, setReady] = useState(false)\n\n    useEffect(() => {\n        const initializeView = async () => {\n            const psets = await fetchData(`/api/${dataTypes.pharmacogenomics}/search`);\n            console.log(psets)\n            setPSets(psets);\n            setSearchAll(true);\n            setReady(true);\n        }\n        initializeView();\n    }, []);\n\n    useEffect(() => {   \n        async function search() {\n            console.log('search');\n            console.log(parameters);\n            let copy = JSON.parse(JSON.stringify(parameters));\n            Object.keys(copy).forEach(key => {\n                if(!Array.isArray(copy[key]) && !(key === 'canonicalOnly' || key === 'filteredSensitivity')){\n                    copy[key] = [copy[key]];\n                }\n            });\n            const psets = await fetchData(`/api/${dataTypes.pharmacogenomics}/search`, copy);\n            let all = true;\n            Object.keys(parameters).forEach(key => {\n                if(Array.isArray(parameters[key]) && parameters[key].length){\n                    all = false;\n                }\n            });\n            setPSets(psets);\n            setSearchAll(all);\n        }\n\n        if(parameters.search){\n            search();\n        }\n        \n        if(isRequest){\n            setReadyToSubmit(Helper.isReadyToSubmit(parameters));\n        }\n    }, [parameters]);\n\n    const showMessage = (status, data) => {\n        let severity = status ? 'success' : 'error';\n        PSetSearch.messages.show({severity: severity, summary: data.summary, detail: data.message, sticky: true});\n        setSelectedPSets([]);\n    }\n        \n    return(\n        <SearchReqContext.Provider \n            value={{ \n                parameters: parameters, \n                setParameters: setParameters, \n                isRequest: isRequest, \n                setIsRequest: setIsRequest\n            }}\n        >\n            <div className='pageContent'>\n                <SearchReqWrapper>\n                    <PSetFilter />\n                    <MainPanel>\n                        <Messages ref={(el) => PSetSearch.messages = el} />\n                        <SearchReqPanel>\n                            <div>\n                                <SearchSummary \n                                    title='Search or Request Pharmacogenomic Datasets (PSets)' \n                                    searchAll={searchAll} \n                                    matchNum={psets.length} \n                                />\n                                {\n                                    auth.user ?\n                                    <SaveDatasetButton \n                                        selectedDatasets={selectedPSets} \n                                        disabled={selectedPSets.length > 0 ? false : true} \n                                        onSaveComplete={showMessage} \n                                    />\n                                    :\n                                    '*Login or register to save existing PSets to your profile.'\n                                }\n                            </div>\n                            {\n                                isRequest &&\n                                <PSetRequestForm readyToSubmit={readyToSubmit} onRequestComplete={showMessage} />\n                            }\n                        </SearchReqPanel>\n                        {\n                            ready ?\n                            <PSetTable \n                                psets={psets} \n                                selectedPSets={selectedPSets} \n                                updatePSetSelection={(e) => {setSelectedPSets(e.value)}} \n                                scrollHeight='600px'\n                                authenticated={auth.user ? true : false} \n                                download={true}\n                            /> \n                            :\n                            <SearchTableLoader />\n                        }  \n                    </MainPanel>\n                </SearchReqWrapper>\n            </div>\n        </SearchReqContext.Provider>\n    );\n}\n\nexport default PSetSearch;","import React from 'react';\nimport {dataTypes} from '../Shared/Enums';\nimport PSetSearch from './PSet/PSetSearch';\nimport ToxicoSetSearch from './ToxicoSet/ToxicoSetSearch';\nimport XevaSetSearch from './XevaSet/XevaSetSearch';\n\nconst SearchRequst = (props) => {\n    return(\n        <React.Fragment>\n            {props.match.params.datatype === dataTypes.pharmacogenomics && <PSetSearch />}\n            {props.match.params.datatype === dataTypes.toxicogenomics && <ToxicoSetSearch />}\n            {props.match.params.datatype === dataTypes.xenographic && <XevaSetSearch />}\n        </React.Fragment>\n    );\n}\n\nexport default SearchRequst;","import React from 'react';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nclass DatasetTabContent extends React.Component{\n\n    render(){          \n        const publication = (\n            <div>    \n            {this.props.metadata.dataset.versionInfo.publication.length ? \n                this.props.metadata.dataset.versionInfo.publication.map((item) => \n                    <li key={item.link} className='pubList'>\n                        <div className='subContent'>{item.citation}</div>\n                        <br />\n                        <div className='subContent'><a href={item.link}>{item.link}</a></div>\n                    </li>\n                )\n                :\n                <div className=\"subContent\">\n                    Not available.\n                </div>\n                }  \n            </div> \n        );\n        \n        return(\n            <React.Fragment>\n                <TabHeader>Dataset: {this.props.metadata.dataset.label}</TabHeader>\n                <TabContent>\n                    <TabContentSection>\n                        <h3>Drug Sensitivity</h3>\n                        <h4 className='subContent'>Source: {\n                            this.props.metadata.dataset.versionInfo.drugSensitivity.source ? \n                            <a href={this.props.metadata.dataset.versionInfo.drugSensitivity.source}>{this.props.metadata.dataset.versionInfo.drugSensitivity.source}</a> \n                            : 'Not available'\n                            }\n                        </h4>\n                        <h4 className='subContent'>Version: {this.props.metadata.dataset.versionInfo.drugSensitivity.version}</h4>\n                        <h4 className='subContent'>Filtered Sensitivity Data: {this.props.metadata.dataset.filteredSensitivity ? 'YES' : 'NO'}</h4>\n                    </TabContentSection>\n                    \n                    <TabContentSection>\n                        <h3>Publication: </h3>\n                        <ul>\n                            {publication}\n                        </ul> \n                    </TabContentSection>\n                    \n                    <TabContentSection>\n                        <h3>Genome Version</h3>\n                        <div className='subContent'>{this.props.metadata.genome.name ? this.props.metadata.genome.name : \"Not Available\"}</div>\n                    </TabContentSection>\n                </TabContent> \n            </React.Fragment>\n        );\n    }\n}\n\nexport default DatasetTabContent;","import React from 'react';\nimport { TabContentSection} from '../../SingleDatasetStyle';\n\nconst getType = function(type){\n    switch(type){\n        case 'rna':\n            return 'Microarray'\n        case 'cnv':\n            return 'Copy Number Variation'\n        case 'mut':\n            return 'Mutation'\n        case 'fusion':\n            return 'Fusion'\n        default:\n            return ''\n    }\n}\n\nconst AccompanyDataTabContent = props => {\n    \n    return(\n        <React.Fragment>\n            {\n                props.data.map(d => {\n                    return(\n                        <div key={Math.random()}>\n                        {\n                            Array.isArray(d.source) ?\n                            d.source.map(s => {\n                                return(\n                                    <TabContentSection key={Math.random()}>\n                                        <h3>{s.label}</h3>\n                                        <h4 className='subContent'>Source: {s.source.length > 0 ? <a href={s.source}>{s.source}</a> : 'Not available'}</h4>\n                                    </TabContentSection>\n                                )\n                            })\n                            :\n                            <TabContentSection key={Math.random()}>\n                                <h3>{getType(d.type)}</h3>\n                                <h4 className='subContent'>Source: {d.source.length > 0 ? <a href={d.source}>{d.source}</a> : 'Not available'}</h4>\n                            </TabContentSection>\n                        }\n                        </div>\n                    )\n                })\n            }\n        </React.Fragment>    \n    )\n}\n\nexport default AccompanyDataTabContent","import React from 'react';\nimport {PSetToolAccordion, RNARefAccordion} from '../PSetAccordion';\nimport AccompanyDataTabContent from './AccompanyDataTabContent';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst RNATabContent = props => {\n    const rawSeqDataRNA = props.metadata.find(x => x.name === 'rawSeqDataRNA')\n    const rnaRef = props.metadata.find(x => x.name === 'rnaRef')\n    const rnaTool = props.metadata.find(x => x.name === 'rnaTool')\n    const accRNA = props.metadata.find(x => x.name === 'accRNA')\n\n    return(\n        <React.Fragment>\n            <TabHeader>RNA Data</TabHeader>\n            <TabContent>\n                {\n                    rawSeqDataRNA &&\n                    <TabContentSection>\n                        <h3>Raw Data Source: </h3>\n                        <div className='subContent'>\n                        {\n                            rawSeqDataRNA.value ? \n                            <a href={rawSeqDataRNA.value}>{rawSeqDataRNA.value}</a>\n                            :\n                            'Not Available'\n                        }\n                        </div>\n                    </TabContentSection>\n                }\n                {\n                    rnaRef &&\n                    <TabContentSection>\n                        <h3>RNA Transcriptome</h3>\n                        <RNARefAccordion items={rnaRef.value} />\n                    </TabContentSection>\n                }\n                {\n                    rnaTool &&\n                    <TabContentSection>\n                        <h3>Tools and Commands Used</h3>\n                        <PSetToolAccordion items={rnaTool.value} />\n                    </TabContentSection>\n                }\n                {\n                    rnaTool &&\n                    <TabContentSection>\n                        <h3>Data Transformations Applied</h3>\n                        <div className='subContent'>\n                            <table>\n                                <tbody>\n                                    <tr className='subContentSection'>\n                                        <td><span className='subContentHeader'>Gene TPM Values:</span></td>\n                                        <td>After estimation by the tool detailed above, gene TPM values are transformed by <span className='code'>log2(x + 0.001)</span>.</td>\n                                    </tr>\n                                    <tr className='subContentSection'>\n                                        <td><span className='subContentHeader'>Gene Count Values:</span></td>\n                                        <td>After estimation by the tool detailed above, gene count values are transformed by <span className='code'>log2(x + 1)</span>.</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </TabContentSection>\n                }\n                {\n                    accRNA &&\n                    <AccompanyDataTabContent data={accRNA.value} />\n                }\n            </TabContent>\n        </React.Fragment>\n    );\n}\n\nexport default RNATabContent;","import React from 'react';\nimport {PSetToolAccordion, DNARefAccordion} from '../PSetAccordion';\nimport AccompanyDataTabContent from './AccompanyDataTabContent';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst DNATabContent = props => {\n    const rawSeqDataDNA = props.metadata.find(x => x.name === 'rawSeqDataDNA')\n    const dnaRef = props.metadata.find(x => x.name === 'dnaRef')\n    const dnaTool = props.metadata.find(x => x.name === 'dnaTool')\n    const accDNA = props.metadata.find(x => x.name === 'accDNA')\n\n    return(\n        <React.Fragment>\n            <TabHeader>DNA Data</TabHeader>\n            <TabContent>\n                {\n                    rawSeqDataDNA &&\n                    <TabContentSection>\n                        <h3>Raw Data Source: </h3>\n                        <div className='subContent'>\n                            <a href={rawSeqDataDNA.value}>{rawSeqDataDNA.value}</a>\n                        </div>\n                    </TabContentSection>\n                }\n                {\n                    dnaRef &&\n                    <TabContentSection>\n                        <h3>Exome Reference</h3>\n                        <DNARefAccordion items={dnaRef.value} />\n                    </TabContentSection>\n                }\n                {\n                    dnaTool &&\n                    <TabContentSection>\n                        <h3>Tools and Commands Used</h3>\n                        <PSetToolAccordion items={dnaTool.value} />\n                    </TabContentSection>\n                }\n                {\n                    accDNA &&\n                    <AccompanyDataTabContent data={accDNA.value} />\n                }\n            </TabContent>\n        </React.Fragment>\n    );\n}\n\nexport default DNATabContent;","import React from 'react';\nimport { TabHeader, TabContent, StyledAccordion} from '../../SingleDatasetStyle';\nimport {Accordion,AccordionTab} from 'primereact/accordion';\nimport styled from 'styled-components';\n\nconst PipelineContent = styled.div`\n    display: flex;\n    align-items: center;\n    h3 {\n        margin-right: 10px;\n    }\n`\n\nconst PipelineTabContent = props => {\n    return(\n        <React.Fragment>\n            <TabHeader>Pipeline Data</TabHeader>\n            <TabContent>\n                <PipelineContent>\n                    <h3>Pachyderm CommitID:</h3>\n                    <div>{props.data.commitID}</div>\n                </PipelineContent>\n                <PipelineContent>\n                    <h3>Docker Image: </h3>\n                    <a target=\"_blank\" href={'https://hub.docker.com/r/' + props.data.config.transform.image.split(':')[0]}>\n                        {props.data.config.transform.image}\n                    </a>\n                </PipelineContent>\n                <PipelineContent>\n                    <h3>Pipeline Repository: </h3>\n                    <a target=\"_blank\" href={props.data.config.input.cross[0].git.url}>{props.data.config.input.cross[0].git.url}</a>\n                </PipelineContent>\n                <StyledAccordion>\n                    <AccordionTab header='Pipeline Configuration File'>\n                        <pre>\n                            {JSON.stringify(props.data.config, null, 2)}\n                        </pre>\n                    </AccordionTab>\n                </StyledAccordion>\n            </TabContent>\n        </React.Fragment> \n    )\n}\n\nexport default PipelineTabContent","import React, {useState} from 'react';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport DatasetTabContent from './DatasetTabContent';\nimport ReleaseNoteTableGroup from './ReleaseNoteTableGroup';\n\n\nconst StyledReleaseNotes = styled.div`\n    width: 95%;\n    margin-left: auto;\n    margin-right: auto;\n`\n\nconst StyledMetricsPanel = styled.div`\n    margin-bottom: 30px;\n`\n\nconst StyledMetricGroupMenu = styled.div`\n    display: flex;\n    margin-top: 15px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    .menuItem {\n        margin-right: 10px;\n        padding-bottom: 5px;\n        button {\n            border: none;\n            background: none;\n            cursor: pointer;\n            font-size: 16px;\n            color: #3D405A;\n        }\n        button:focus {\n            outline: none;\n        }\n    }\n    .selected {\n        button {\n            font-weight: bold;\n        }\n        border-bottom: 3px solid rgb(241, 144, 33);\n    }\n`\n\nconst StyledMetricDataGroup = styled.div`\n    margin-top: 20px;    \n    margin-bottom: 20px;\n    table {\n        td {\n            padding: 0.3rem;\n            font-size: 14px;\n            .number {\n                color: #3D405A;\n                font-weight: bold;\n                font-size: 16px;\n            }\n        }\n        .title {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n`\n\nconst AdditionalInformation = styled.div`\n    margin-bottom: 20px;\n    table {\n        td {\n            padding: 0.3rem;\n            font-size: 14px;\n            .number {\n                color: #3D405A;\n                font-weight: bold;\n                font-size: 16px;\n            }\n        }\n        .title {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n`\n\nconst ReleaseNoteTabContent = (props) => {\n\n    //const [display, setDisplay] = useState('cellLines');\n\n    const getMetricDataText = (key, label, count) => {\n        switch(key){\n            case 'current':\n                return `${label}${count > 1 ? 's' : ''} in this dataset.`;\n            case 'new':\n                return `newly added ${label}${count > 1 ? 's' : ''}.`;\n            case 'removed':\n                return `${label}${count > 1 ? 's' : ''} ${count > 1 ? 'were' : 'was'} removed from previous version.`;\n        }\n    }\n\n    const getMolDataName = (key) => {\n        switch(key){\n            case 'rnaSeq':\n                return 'RNA-seq: ';\n            case 'microarray': \n                return 'Microarray: ';\n            case 'mutation':\n                return 'Mutation: ';\n            case 'mutationExome':\n                return 'Mutation (Exome): ';\n            case 'cnv':\n                return 'CNV: ';\n            case 'fusion':\n                return 'Fusion: ';\n            case 'methylation':\n                return 'Methylation: '\n        }\n    }\n\n    const metricDataGroup = (title, name, label, data, renderRow) => (\n        <StyledMetricDataGroup>\n            <h2>{title}</h2>\n            <table>\n                <tbody>\n                    { renderRow(name, data, label) }\n                </tbody>\n            </table>\n        </StyledMetricDataGroup>\n    );\n\n    const renderDataRow = (name=null, data, label) => (\n        Object.keys(data).map(key => (\n            data[key] > 0 &&\n            <tr key={key}>\n                <td><span className='number'>{ data[key] }</span></td>\n                <td className='text'>{ getMetricDataText(key, label, data[key]) }</td>\n            </tr>\n        ))\n    );\n\n    const renderMolDataRow = (name, data) => (\n        Object.keys(data).map(key => (\n            key === 'mutationExome' ? name === 'GDSC' && molDataTableRow(key, data) :  molDataTableRow(key, data)\n        ))\n    );\n\n    const molDataTableRow = (key, data) => (\n        <tr key={key}>\n            <td className='title'>{getMolDataName(key)}</td>\n            <td>\n                {\n                    data[key].available ?  \n                    <span><span className='number'>{data[key].count}</span> cell lines {data[key].noUpdates && '(no updates from previous version)'}</span>\n                    : 'Not available for this dataset.'\n                }\n            </td>\n        </tr>\n    );\n\n    return(\n        <StyledReleaseNotes>\n            {metricDataGroup('Cell Lines', props.data.name, 'cell line', props.data.releaseNotes.cellLines, renderDataRow)} \n            {metricDataGroup('Drugs', props.data.name, 'drug', props.data.releaseNotes.drugs, renderDataRow)} \n            {metricDataGroup('Drug Sensitivity Experiments', props.data.name, 'experiment', props.data.releaseNotes.experiments, renderDataRow)} \n            {metricDataGroup('Molecular Data', props.data.name, '', props.data.releaseNotes.molData, renderMolDataRow)} \n            {\n                props.data.name === 'GDSC' &&\n                <AdditionalInformation>\n                    <h2>Additional Information</h2>\n                    <table>\n                        <tbody>\n                            <tr>\n                                <td className='title'>GDSC Official Release Notes: </td>\n                                <td>\n                                    <a href={props.data.releaseNotes.additional.link} target=\"_blank\" rel=\"noopener noreferrer\">{props.data.releaseNotes.additional.link}</a>\n                                </td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </AdditionalInformation>\n            }\n            {/* <StyledMetricsPanel>\n                <StyledMetricGroupMenu>\n                    <div className={display === 'cellLines' ? 'menuItem selected' : 'menuItem'}>\n                        <button type='button' onClick={() => setDisplay('cellLines')}>Cell Lines</button>\n                    </div>\n                    <div className={display === 'drugs' ? 'menuItem selected' : 'menuItem'}>\n                        <button type='button' onClick={() => setDisplay('drugs')}>Drugs</button>\n                    </div>    \n                    <div className={display === 'experiments' ? 'menuItem selected' : 'menuItem'}>\n                        <button type='button' onClick={() => setDisplay('experiments')}>Experiments</button>\n                    </div>\n                    <div className={display === 'molData' ? 'menuItem selected' : 'menuItem'}>\n                        <button type='button' onClick={() => setDisplay('molData')}>Molecular Data</button>\n                    </div>\n                </StyledMetricGroupMenu>\n                {display === 'cellLines' && <ReleaseNoteTableGroup dataset={{name: props.data.name, version: props.data.version}} type='cellLines'/>}\n                {display === 'drugs' && <ReleaseNoteTableGroup dataset={{name: props.data.name, version: props.data.version}} type='drugs'/>}\n                {display === 'experiments' && <ReleaseNoteTableGroup dataset={{name: props.data.name, version: props.data.version}} type='experiments'/>}\n                {display === 'molData' && molDataGroup(props.data.molData)}\n            </StyledMetricsPanel> */}\n        </StyledReleaseNotes>\n    );\n}\n\nexport default ReleaseNoteTabContent;","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledFilter = styled.div`\n    margin-left: ${props => props.style.margin ? props.style.margin.left : '0.5rem'};\n    margin-right: ${props => props.style.margin ? props.style.margin.right : '0.5rem'};\n`\n\nconst DefaultFilterInput = styled.input`\n    width: 100%;\n    margin-bottom: 1.0rem;\n    font-size: 14px;\n    padding: 5px;\n    border: 1px solid #999999;\n    border-radius: 3px;\n    :focus {\n        outline: none;\n    }\n`\n\nexport const Filter = ({column, style}) => {\n    return(\n        <StyledFilter style={style}>\n            {column.canFilter && column.render('Filter')}\n        </StyledFilter>\n    );\n}\n\nexport const DefaultColumnFilter = ({\n    column: {\n        filterValue, \n        setFilter, \n        preFilteredRows,\n        filterPlaceholder\n    }\n}) => {\n    return(\n        <DefaultFilterInput\n            value={filterValue || \"\"}\n            onChange={e => {\n                setFilter(e.target.value || undefined); // Set undefined to remove the filter entirely\n            }}\n            placeholder={filterPlaceholder}\n        />\n    );\n};\n\n","import React from 'react';\nimport { Dropdown } from 'primereact/dropdown';\nimport styled from 'styled-components';\n\nexport const StyledPagination = styled.div`\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    padding: 10px 0 10px 0;\n\n    .pageIndex {\n        max-width: 500px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-left: 1%;\n        margin-right: 1%;\n\n        button {\n            border: none;\n            background: none;\n            padding: 0;\n            line-height: 0;\n            cursor: pointer;\n        }\n    \n        button:focus {\n            outline: none;\n        }\n    \n        button: disabled {\n            cursor: not-allowed;\n            pointer-events: none;\n            color: #999999;\n        }\n\n        .arrows {\n            line-height: 0;\n        }\n    \n        .arrowbtn {\n            font-size: 20px;\n            color: #3D405A;\n        }\n    \n        .indexbtn {\n            font-size: 15px;\n            margin-left: 5px;\n            margin-right: 5px;\n            color: #666666;\n        }\n    \n        .current {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n\n    .pageCounter {\n        line-height: 0;\n        color: #666666;\n        margin-left: 1%;\n        margin-right: 1%;\n    }\n\n    .pageSkip {\n        margin-left: 1%;\n        margin-right: 1%;\n        span {\n            margin-right: 10px;\n            color: #666666;\n        }\n\n        input[type=number] {\n            width: 10%;\n            min-width: 50px;\n            padding: 5px;\n            color: #666666;\n            border: 1px solid #666666;\n            border-radius: 5px;\n        }\n\n        input:focus {\n            outline: none;\n        }\n    }\n\n    .pageSizeChange {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-left: 1%;\n        margin-right: 1%;\n        span {\n            margin-left: 10px;\n            color: #666666;\n        }\n    }\n`;\n\nconst Pagination = (props) => {\n    return(\n        <StyledPagination style={props.style}>\n            {\n                props.pageOptions.length > 1 && \n                <div className='pageIndex'>\n                    <div className='arrows'>\n                        <button className='arrowbtn' onClick={() => props.gotoPage(0)} disabled={props.pageIndex === 0}>\n                            <i className='pi pi-fw pi-angle-double-left'></i>\n                        </button>\n                        <button className='arrowbtn' onClick={() => props.previousPage()} disabled={!props.canPreviousPage}>\n                            <i className='pi pi-fw pi-angle-left'></i>\n                        </button>\n                    </div>\n                    {\n                        props.pageIndexArray.map(index => (\n                            <button key={index} className={`indexbtn ${index === props.pageIndex ? 'current' : ''}`} onClick={() => props.gotoPage(index)}>\n                                {index + 1}\n                            </button>\n                        ))\n                    }\n                    <div className='arrows'>\n                        <button className='arrowbtn' onClick={() => props.nextPage()} disabled={!props.canNextPage}>\n                            <i className='pi pi-fw pi-angle-right'></i>\n                        </button>\n                        <button className='arrowbtn' onClick={() => props.gotoPage(props.pageOptions.length - 1)} disabled={props.pageIndex === props.pageOptions.length - 1}>\n                            <i className='pi pi-fw pi-angle-double-right'></i>\n                        </button>\n                    </div>\n                </div>\n            }\n            \n            {\n                props.pageCounter && \n                <div className='pageCounter'>\n                    {props.pageIndex + 1} of {props.pageOptions.length}\n                </div>\n            }\n            {\n                props.pageSkip &&\n                <div className='pageSkip'>\n                    <span>Go to:</span>\n                    <input\n                        type=\"number\"\n                        defaultValue={props.pageIndex + 1 || 1}\n                        onChange={e => {\n                            const page = e.target.value ? Number(e.target.value) - 1 : 0\n                            props.gotoPage(page)\n                        }}\n                    />\n                </div>\n            }\n            {\n                props.pageSizeChange &&\n                <div className='pageSizeChange'>\n                    <Dropdown \n                        options={[5, 10, 20, 30, 40, 50, 100].map(option => ({value: option, label: option}))} \n                        value={props.pageSize}\n                        default={props.pageSize}\n                        placeholder=''\n                        onChange={(e) => {\n                            props.setPageSize(e.value);\n                        }}\n                    />\n                    <span>rows/page</span>\n                </div>\n            }\n        </StyledPagination>\n    );\n}\n\nexport default Pagination;","import React, {useEffect, useState} from 'react';\nimport {useTable, usePagination, useFilters, useGlobalFilter, useSortBy} from 'react-table';\nimport {Filter, DefaultColumnFilter} from './TableFilters';\nimport Pagination from './Pagination';\nimport styled from 'styled-components';\n\nexport const StyledReactTable = styled.div`\n    width: ${props => props.style.width ? props.style.width : '100%'};\n    color: #666666;\n\n    table{\n        border-collapse: collapse;\n        width: ${props => props.style.width ? props.style.width : '100%'};\n    }\n\n    thead {\n        font-size: 12px;\n        color: #666666;\n    }  \n\n    tbody {\n        font-size: 12px;\n    }\n\n    tbody tr:nth-child(even) {\n\n    }\n\n    th[class='header'] {\n        vertical-align: top;\n        .headerContent {\n            display: flex;\n            align-items: ${props => props.style.headerTextAlign ? props.style.headerTextAlign : 'center'};\n            justify-content: ${props => props.style.headerTextAlign ? props.style.headerTextAlign : 'center'};\n            margin: 0.5rem 0.5rem;\n        }\n    }\n\n    th {\n        text-align: ${props => props.style.headerTextAlign ? props.style.headerTextAlign : 'center'};\n        letter-spacing: 0.5px;\n    }\n\n    tbody td {\n        padding: ${props => props.style.cellPadding ? props.style.cellPadding : '1.5rem 0.5rem'};\n        text-align: ${props => props.style.cellTextAlign ? props.style.cellTextAlign : 'center'};\n    }\n`;\n\nconst ReactDataTable = (props) => {\n\n    const [pageIndexArray, setPageIndexArray] = useState(Array.from(Array(5).keys()));\n\n    const {\n        getTableProps,\n        getTableBodyProps,\n        headerGroups,\n        prepareRow,\n        pageOptions,\n        page,\n        state: { pageIndex, pageSize, hideHeader},\n        gotoPage,\n        previousPage,\n        nextPage,\n        setPageSize,\n        canPreviousPage,\n        canNextPage,\n    } = useTable(\n        {\n            columns: props.columns, \n            data: props.data, \n            initialState: { \n                pageIndex: 0,\n                pageSize: props.pageSize,\n                sortBy: props.sortBy ? props.sortBy : [],\n                hideHeader: props.hideHeader\n            },\n            defaultColumn: {Filter: DefaultColumnFilter},\n        },\n        useFilters,\n        useSortBy,\n        usePagination\n    );\n\n    useEffect(() => {\n        let numPages = pageOptions.length >= 5 ? 5 : pageOptions.length;\n        let start = 0;\n        // if index of the current page is not 2, shift the index array.\n        // if current index is 2 or less away from the end, shift the index array only to the last page index.\n        if(pageIndexArray.indexOf(pageIndex) != 2 && pageIndex -2 > 0 && pageIndex + 2 < pageOptions.length - 1){\n            start = pageOptions[pageIndex - 2];\n        }else if(pageIndex + 2 >= pageOptions.length - 1){ \n            start = pageOptions.length - numPages;\n        }\n        setPageIndexArray(Array(numPages).fill().map((_, i) => (start + i)));\n    }, [pageIndex]);\n\n    const getSortArrow = (column) => {\n        if(column.disableSortBy){\n            return '';\n        }else{\n            if(column.isSorted){\n                if(column.isSortedDesc){\n                    return <i className='pi pi-fw pi-arrow-down'></i>\n                }else{\n                    return <i className='pi pi-fw pi-arrow-up'></i>\n                }\n            }else{\n                return <i className='pi pi-fw pi-sort-alt'></i>\n            }\n        }\n    }\n\n    return(\n        <StyledReactTable style={props.style}>\n            <table {...getTableProps()}>\n                <thead>\n                    {\n                        headerGroups.map(headerGroup => (\n                            <tr {...headerGroup.getHeaderGroupProps()}>\n                                {\n                                    headerGroup.headers.map(column => (\n                                        <th className='header' {...column.getHeaderProps({style: {width: column.width || 'auto'}})}>\n                                            {\n                                                !hideHeader &&\n                                                <div className='headerContent' {...column.getSortByToggleProps()}>\n                                                    { column.render('Header') }\n                                                    { getSortArrow(column) }\n                                                </div>\n                                            }\n                                            <Filter column={column} style={props.filterStyle} />\n                                        </th>\n                                    ))\n                                }\n                            </tr>\n                        )) \n                    }\n                </thead>\n                <tbody {...getTableBodyProps()}>\n                    {\n                        page.map(row => {\n                            prepareRow(row);\n                            return(\n                                <tr {...row.getRowProps()}>\n                                    {\n                                        row.cells.map(cell => {\n                                            return(\n                                                <td key={Math.random()} {...cell.getCellProps}>\n                                                    {cell.render('Cell')}\n                                                </td>\n                                            );\n                                        })\n                                    }\n                                </tr>\n                            );\n                        })\n                    }\n                </tbody>\n            </table>\n            <Pagination \n                style={props.style} \n                gotoPage={gotoPage} \n                previousPage={previousPage} \n                nextPage={nextPage} \n                pageIndex={pageIndex} \n                pageIndexArray={pageIndexArray} \n                canPreviousPage={canPreviousPage} \n                canNextPage={canNextPage}\n                pageOptions={pageOptions}\n                pageSize={pageSize}\n                setPageSize={setPageSize}\n                pageCounter={props.pageCounter}\n                pageSkip={props.pageSkip}\n                pageSizeChange={props.pageSizeChange}\n            />\n        </StyledReactTable>\n    );\n}\n\nexport default ReactDataTable;","import React, {useState, useEffect, useMemo} from 'react';\nimport {usePromiseTracker} from \"react-promise-tracker\";\nimport {trackPromise} from 'react-promise-tracker';\nimport Loader from 'react-loader-spinner';\nimport styled from 'styled-components';\nimport ReactDataTable from '../../../Shared/ReactDataTable/ReactDataTable';\n\nconst StyledReleaseNoteTableGroup = styled.div`\n    margin-left: 10px;\n    .flex{\n        display: flex;\n    }\n    .column {\n        width: 30%;\n        min-width: 270px;\n        margin-right: 30px;\n    }\n    .none {\n        margin-left: 10px;\n        font-weight: bold;\n        font-size: 20px;\n        color: #3D405A;\n    }\n`\n\nconst LoaderContainer = styled.div`\n    height: 300px;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n`\n\nconst ReleaseNoteTableGroup = (props) => {\n    const {promiseInProgress} = usePromiseTracker();\n    const [data, setData] = useState({});\n    const [ready, setReady] = useState(false);\n\n    useEffect(() => {\n        const getData = async () => {\n            const res = await trackPromise(fetch(`/api/pset/releasenotes/${props.dataset.name}/${props.dataset.version}/${props.type}`));\n            const json = await res.json();\n            console.log(json);\n            setData(json);\n            setReady(true);\n        }\n        getData();\n    }, []);\n\n    const current = useMemo(\n        () => [\n            {\n                Header: ``,\n                accessor: 'name',\n                filterPlaceholder: '',\n                disableFilters: false,\n                disableSortBy: true\n            },\n        ],\n        []\n    );\n\n    const currentExp = useMemo(\n        () => [\n            {\n                Header: `Experiment ID`,\n                accessor: 'experimentID',\n                filterPlaceholder: '',\n                disableFilters: false,\n                disableSortBy: true,\n                width: '20%'\n            },\n            {\n                Header: `Cell Line`,\n                accessor: 'cellLine',\n                filterPlaceholder: '',\n                disableFilters: false,\n                disableSortBy: true,\n                width: '10%'\n            },\n            {\n                Header: `Drug`,\n                accessor: 'drug',\n                filterPlaceholder: '',\n                disableFilters: false,\n                disableSortBy: true,\n                width: '15%'\n            },\n            {\n                Header: `Min. Conc. Range`,\n                accessor: 'concRangeMin',\n                filterPlaceholder: '',\n                disableFilters: false,\n                disableSortBy: true,\n                width: '10%'\n            },\n            {\n                Header: `Max. Conc. Range`,\n                accessor: 'concRangeMax',\n                filterPlaceholder: '',\n                disableFilters: false,\n                disableSortBy: true,\n                width: '10%'\n            },\n        ],\n        []\n    );\n\n    const newData = useMemo(\n        () => [\n            {\n                Header: ``,\n                accessor: 'name',\n                filterPlaceholder: '',\n                disableFilters: false,\n                disableSortBy: true\n            },\n        ],\n        []\n    );\n\n    const removed = useMemo(\n        () => [\n            {\n                Header: ``,\n                accessor: 'name',\n                filterPlaceholder: '',\n                disableFilters: false,\n                disableSortBy: true\n            },\n        ],\n        []\n    );\n\n    const getTable = (columns, data, currentExp=false) => (\n        <ReactDataTable \n            columns={columns} \n            data={data} \n            pageSize={20} \n            pageCounter={true} \n            pageSkip={false} \n            pageSizeChange={false}\n            hideHeader={currentExp ? false : true}\n            style={{\n                headerTextAlign: 'left',\n                cellPadding: '0.5rem 0.5rem',\n                cellTextAlign: 'left'\n            }}\n            filterStyle={{\n                margin: {\n                    left: '0',\n                    right: '0'\n                }\n            }}\n        />\n    );\n\n    return(\n        <StyledReleaseNoteTableGroup>\n            {\n                (!promiseInProgress && ready) ?\n                <div>\n                    {\n                        props.type === 'experiments' &&\n                        <div>\n                            <h3>{`Current (${data[props.type].current.length})`}</h3>\n                            {getTable(currentExp, data[props.type].current, true)}\n                        </div>\n                    }\n                    <div className='flex'>\n                        {\n                            props.type != 'experiments' &&\n                            <div className='column'>\n                                <h3>{`Current (${data[props.type].current.length})`}</h3>\n                                {getTable(current, data[props.type].current)}\n                            </div>\n                        }\n                        <div className='column'>\n                            <h3>{`New${data[props.type].new.length ? ` (${data[props.type].new.length})` : ''}`}</h3>\n                            {\n                                data[props.type].new.length ? \n                                getTable(newData, data[props.type].new) : \n                                <div className='none'>N/A</div>\n                            }\n                        </div>\n                        <div className='column'>\n                            <h3>{`Removed${data[props.type].removed.length ? ` (${data[props.type].removed.length})` : ''}`}</h3>\n                            {\n                                data[props.type].removed.length ? \n                                getTable(removed, data[props.type].removed) : \n                                <div className='none'>N/A</div>\n                            }\n                        </div>\n                    </div>\n                </div>\n                :\n                <LoaderContainer>\n                    <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                </LoaderContainer>\n            }\n        </StyledReleaseNoteTableGroup>\n    );\n}\n\nexport default ReleaseNoteTableGroup;","import React from 'react';\nimport {Button} from 'primereact/button';\n\nconst DownloadDatasetButton = props => {\n\n    const downloadDataset = async (event) => {\n        event.preventDefault();\n        \n        const anchor = document.createElement('a');\n        anchor.setAttribute('download', null);\n        anchor.style.display = 'none';\n        anchor.setAttribute('href', props.dataset.downloadLink)\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n\n        await fetch(`/api/${props.datasetType}/download`, {\n            method: 'POST',\n            body: JSON.stringify({datasetDOI: props.dataset.doi}),\n            headers: {'Content-type': 'application/json'}\n        })\n    }\n\n    return(\n        <Button label='Download' disabled={props.disabled} onClick={downloadDataset} style={{marginLeft: '30px'}}/>\n    );\n}\n\nexport default DownloadDatasetButton;","import React, {useState, useEffect} from 'react';\nimport {TabView,TabPanel} from 'primereact/tabview';\nimport DatasetTabContent from './TabContents/DatasetTabContent';\nimport RNATabContent from './TabContents/RNATabContent';\nimport DNATabContent from './TabContents/DNATabContent';\nimport PipelineTabContent from './TabContents/PipelineTabContent';\nimport ReleaseNoteTabContent from './TabContents/ReleaseNoteTabContent';\nimport {GeneralInfoAccordion} from './PSetAccordion';\nimport DownloadDatasetButton from '../../Shared/Buttons/DownloadDatasetButton';\nimport {TabContainer} from '../SingleDatasetStyle';\nimport {dataTypes} from '../../Shared/Enums';\nimport styled from 'styled-components';\n\nconst StyledTitle = styled.div`\n    display: flex;\n    align-items: baseline;\n`\n\nconst PSet = (props) => {\n    const [pset, setPSet] = useState({})\n    const [ready, setReady] = useState(false)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const getData = async () => {\n            try{\n                const res = await fetch(`/api/${dataTypes.pharmacogenomics}/one/${props.params.id1}/${props.params.id2}`);\n                if(res.ok){\n                    const json = await res.json()\n                    console.log(json)\n                    setPSet(json)\n                    setReady(true)\n                }else{\n                    setError(true)\n                }\n            }catch(error){\n                console.log(error)\n                setError(true)\n            } \n        }\n        getData()\n    }, [])\n\n    return(\n        <div className='pageContent'>\n            {\n                ready &&\n                <React.Fragment>\n                    <StyledTitle>\n                        <h2>Explore PSet - {pset.name}</h2>\n                        <DownloadDatasetButton disabled={false} datasetType={dataTypes.pharmacogenomics} dataset={pset} />\n                    </StyledTitle>\n                    <GeneralInfoAccordion datasetType='PSet' data={pset.generalInfo}/>\n                    <TabContainer>\n                        <TabView renderActiveOnly={false}>\n                            {\n                                pset.tabData.map(td => (\n                                    <TabPanel key={Math.random()} header={td.header}>\n                                        {td.header === 'Dataset' && <DatasetTabContent metadata={td.data} />}\n                                        {td.header === 'RNA' && <RNATabContent metadata={td.data} />}\n                                        {td.header === 'DNA' && <DNATabContent metadata={td.data} />}\n                                        {td.header === 'Pipeline' && <PipelineTabContent data={td.data} />}\n                                        {td.header === 'Release Notes' && <ReleaseNoteTabContent data={td.data} />}\n                                    </TabPanel>\n                                ))\n                            }\n                        </TabView>\n                    </TabContainer>\n                </React.Fragment>\n            } \n            { error && <h3>PSet with the specified DOI could not be found</h3>}\n        </div>\n    );\n}\n\nexport default PSet;","import React from 'react';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst DatasetTabContent = (props) => {\n\n    const dataList = (data) => (\n        <div>    \n        {data.length ? \n            <li key={data} className='pubList'>\n                <div className='subContent'>\n                    <a href={data}>{data}</a>\n                </div>\n            </li>\n            :\n            <div className=\"subContent\">\n                Not available.\n            </div>\n            }  \n        </div> \n    );\n\n    const drugResponse = (data) => (\n        <div>    \n        {data ? \n            <li key={data} className='pubList'>\n                <div className='subContent'>\n                    Version: {data.version}\n                </div>\n                <div className='subContent'>\n                    Source: <a href={data.source}>{data.source}</a>\n                </div>\n            </li>\n            :\n            <div className=\"subContent\">\n                No drug response data in this dataset.\n            </div>\n            }  \n        </div> \n    );\n\n    const publication = (\n        <div>    \n        {props.metadata.dataset.versionInfo.publication.length ? \n            props.metadata.dataset.versionInfo.publication.map((item) => \n                <li key={item.link} className='pubList'>\n                    <div className='subContent'>{item.citation}</div>\n                    <br />\n                    <div className='subContent'><a href={item.link}>{item.link}</a></div>\n                </li>\n            )\n            :\n            <div className=\"subContent\">\n                Not available.\n            </div>\n            }  \n        </div> \n    );\n    \n    return(\n        <React.Fragment>\n            <TabHeader>Dataset: {props.metadata.dataset.label}</TabHeader>\n            <TabContent>\n                <TabContentSection>\n                    <h3>Microarray Data: </h3>\n                    <ul>\n                        {dataList(props.metadata.dataset.versionInfo.data.rawMicroarrayData)}\n                    </ul> \n                </TabContentSection>\n                <TabContentSection>\n                    <h3>Drug Response Data: </h3>\n                    <ul>\n                        {drugResponse(props.metadata.dataset.versionInfo.data.drugResponseData)}\n                    </ul> \n                </TabContentSection>\n                <TabContentSection>\n                    <h3>Publication: </h3>\n                    <ul>\n                        {publication}\n                    </ul> \n                </TabContentSection>\n            </TabContent> \n        </React.Fragment>\n    );\n}\n\nexport default DatasetTabContent;","import React from 'react';\nimport styled from 'styled-components';\n\n\nconst StyledReleaseNotes = styled.div`\n    width: 95%;\n    margin-left: auto;\n    margin-right: auto;\n`\n\nconst StyledMetricDataGroup = styled.div`\n    margin-top: 20px;    \n    margin-bottom: 20px;\n    table {\n        td {\n            padding: 0.3rem;\n            font-size: 14px;\n            .number {\n                color: #3D405A;\n                font-weight: bold;\n                font-size: 16px;\n            }\n        }\n        .title {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n`\n\nconst ReleaseNoteTabContent = (props) => {\n\n    const getMetricDataText = (key, label, count) => {\n        switch(key){\n            case 'current':\n                return `${label}${count > 1 ? 's' : ''} in this dataset.`;\n            case 'new':\n                return `newly added ${label}${count > 1 ? 's' : ''}.`;\n            case 'removed':\n                return `${label}${count > 1 ? 's' : ''} ${count > 1 ? 'were' : 'was'} removed from previous version.`;\n        }\n    }\n\n    const metricDataGroup = (title, label, data, renderRow) => (\n        <StyledMetricDataGroup>\n            <h2>{title}</h2>\n            <table>\n                <tbody>\n                    { renderRow(data, label) }\n                </tbody>\n            </table>\n        </StyledMetricDataGroup>\n    );\n\n    const renderDataRow = (data, label) => {\n        if(data){\n            return(\n                Object.keys(data).map(key => (\n                    data[key] > 0 &&\n                    <tr key={key}>\n                        <td><span className='number'>{ data[key] }</span></td>\n                        <td className='text'>{ getMetricDataText(key, label, data[key]) }</td>\n                    </tr>\n                ))\n            );\n        }else{\n            return(\n                <tr>\n                    <td>Not Available</td>\n                    <td className='text'></td>\n                </tr>\n            );\n        }\n    }\n\n    return(\n        <StyledReleaseNotes>\n            {\n                metricDataGroup('Cell Lines', 'cell line', props.data.releaseNotes.cellLines, renderDataRow)\n            } \n            {\n                metricDataGroup('Drugs', 'drug', props.data.releaseNotes.drugs, renderDataRow)\n            } \n            {\n                metricDataGroup('Drug Sensitivity Experiments', 'experiment', props.data.releaseNotes.experiments, renderDataRow)\n            } \n        </StyledReleaseNotes>\n    );\n}\n\nexport default ReleaseNoteTabContent;","import React, {useState, useEffect} from 'react';\nimport {TabView,TabPanel} from 'primereact/tabview';\nimport DatasetTabContent from './TabContents/DatasetTabContent';\nimport PipelineTabContent from '../PSet/TabContents/PipelineTabContent';\nimport ReleaseNoteTabContent from './TabContents/ReleaseNoteTabContent';\nimport {GeneralInfoAccordion} from '../PSet/PSetAccordion';\nimport DownloadDataSetButton from '../../Shared/Buttons/DownloadDatasetButton';\nimport {TabContainer} from '../SingleDatasetStyle';\nimport {dataTypes} from '../../Shared/Enums';\nimport styled from 'styled-components';\n\nconst StyledTitle = styled.div`\n    display: flex;\n    align-items: baseline;\n`\n\nconst ToxicoSet = (props) => {\n    const [toxicoSet, setToxicoSet] = useState({});\n    const [ready, setReady] = useState(false);\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const getData = async () => {\n            try{\n                const res = await fetch(`/api/${dataTypes.toxicogenomics}/one/${props.params.id1}/${props.params.id2}`);\n                if(res.ok){\n                    const json = await res.json();\n                    console.log(json);\n                    setToxicoSet(json);\n                    setReady(true);\n                }else{\n                    setError(true);\n                }\n            }catch(error){\n                console.log(error);\n                setError(true);\n            } \n        }\n        getData();\n    }, []);\n\n    return(\n        <div className='pageContent'>\n            {\n                ready &&\n                <React.Fragment>\n                    <StyledTitle>\n                        <h2>Explore ToxicoSet - {toxicoSet.name}</h2>\n                        <DownloadDataSetButton disabled={false} datasetType={dataTypes.toxicogenomics} dataset={toxicoSet} />\n                    </StyledTitle>\n                    <GeneralInfoAccordion datasetType='ToxicoSet' data={toxicoSet.generalInfo}/>\n                    <TabContainer>\n                        <TabView renderActiveOnly={false}>\n                            {\n                                toxicoSet.tabData.map(td => (\n                                    <TabPanel key={Math.random()} header={td.header}>\n                                        {td.header === 'Dataset' && <DatasetTabContent metadata={td.data} />}\n                                        {td.header === 'Pipeline' && <PipelineTabContent data={td.data} />}\n                                        {td.header === 'Release Notes' && <ReleaseNoteTabContent data={td.data} />}\n                                    </TabPanel>\n                                ))\n                            }\n                        </TabView>\n                    </TabContainer>\n                </React.Fragment>\n            } \n            { error && <h3>ToxicoSet with the specified DOI could not be found</h3>}\n        </div>\n    );\n}\n\nexport default ToxicoSet;","import React from 'react';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst DatasetTabContent = (props) => {\n\n    const dataListDrugResponse = (data) => (\n        <div>     \n            <li key={data} className='pubList'>\n            <div className='subContent'>\n                    Version: {data.version}\n                </div>\n                <div className='subContent'>\n                    Source: <a href={data.source}>{data.source}</a>\n                </div>\n                <div className='subContent'>\n                    Data: <a href={data.data}>{data.data}</a>\n                </div>\n            </li>\n        </div> \n    );\n\n    const publication = (\n        <div>    \n        {props.metadata.dataset.versionInfo.publication.length ? \n            props.metadata.dataset.versionInfo.publication.map((item) => \n                <li key={item.link} className='pubList'>\n                    <div className='subContent'>{item.citation}</div>\n                    <br />\n                    <div className='subContent'><a href={item.link}>{item.link}</a></div>\n                </li>\n            )\n            :\n            <div className=\"subContent\">\n                Not available.\n            </div>\n            }  \n        </div> \n    );\n    \n    return(\n        <React.Fragment>\n            <TabHeader>Dataset: {props.metadata.dataset.label}</TabHeader>\n            <TabContent>\n                <TabContentSection>\n                    <h3>Drug Response Data: </h3>\n                    <ul>\n                        {dataListDrugResponse(props.metadata.dataset.versionInfo.drugSensitivity)}\n                    </ul> \n                </TabContentSection>\n                <TabContentSection>\n                    <h3>Publication: </h3>\n                    <ul>\n                        {publication}\n                    </ul> \n                </TabContentSection>\n            </TabContent> \n        </React.Fragment>\n    );\n}\n\nexport default DatasetTabContent;","import React from 'react';\nimport {Accordion,AccordionTab} from 'primereact/accordion';\nimport {StyledAccordion} from '../SingleDatasetStyle';\n\nclass PSetToolAccordion extends React.Component {\n\n    render(){\n        const toolAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                {item.commands.length ? \n                    <ul>\n                        {item.commands.map((command) => \n                            <li key={command}>\n                                {command}\n                            </li>    \n                        )}\n                    </ul>\n                    :\n                    \"Not Available\"\n                }\n                   \n            </AccordionTab>\n        );\n        \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {toolAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n\n}\n\nclass RNARefAccordion extends React.Component {\n    \n    render(){\n        const rnaRefAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                <ul>\n                    <li className='listItem-1'>\n                        <div>{item.name.length ? item.name : 'Currently not available'}</div>\n                        <div>{item.source.length ? <a href={item.source}>{item.source}</a> : 'Currently not available'}</div>\n                    </li>                    \n                </ul> \n            </AccordionTab>\n        );\n    \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {rnaRefAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n    \n}\n\nclass DNARefAccordion extends React.Component {\n\n    render(){\n        const exomeRefAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                <ul>\n                    <li className='listItem-1'>\n                        <div>{item.name.length ? item.name: 'Currently not available'}</div>\n                        <div>{item.source.length ? <a href={item.source}>{item.source}</a> : 'Currently not available'}</div>\n                    </li>\n                    <li className='listItem-1'>\n                        <div>{item.cosmic.name}</div>\n                        <div><a href={item.cosmic.source}>{item.cosmic.source}</a> </div>\n                    </li>\n                    <li className='listItem-1'>\n                        <div>{item.exonTarget.name}</div>\n                        <div><a href={item.exonTarget.source}>{item.exonTarget.source}</a></div>\n                    </li>                       \n                </ul> \n            </AccordionTab>\n        );\n    \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {exomeRefAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n\n}\n\nclass GeneralInfoAccordion extends React.Component {\n    render(){   \n        const doi = 'http://doi.org/' + this.props.data.doi\n        return(\n            <StyledAccordion className='generalInfoAccordion' activeIndex={0}>\n                <AccordionTab header=\"General Information\">\n                    <h4>{this.props.datasetType} Name: {this.props.data.name}</h4>\n                    <h4>DOI:  <a href={doi} target=\"_blank\">{this.props.data.doi}</a></h4>\n                    <h4>Date Created: {this.props.data.dateCreated.split('T')[0]}</h4>\n                    {this.props.data.createdBy && <h4>Created By {this.props.data.createdBy}</h4>}\n                </AccordionTab>    \n            </StyledAccordion>    \n        );\n    }\n}\n\nexport {\n    PSetToolAccordion,\n    RNARefAccordion,\n    DNARefAccordion,\n    GeneralInfoAccordion\n}","import React from 'react';\nimport { TabContentSection} from '../../SingleDatasetStyle';\n\nconst getType = function(type){\n    switch(type){\n        case 'rnaseq':\n            return 'RNA Sequence'\n        case 'rna':\n            return 'Microarray'\n        case 'cnv':\n            return 'Copy Number Variation'\n        case 'mut':\n            return 'Mutation'\n        case 'fusion':\n            return 'Fusion'\n        default:\n            return ''\n    }\n}\n\nconst AccompanyDataTabContent = props => {\n    \n    return(\n        <React.Fragment>\n            {\n                props.data.map(d => {\n                    return(\n                        <div key={Math.random()}>\n                        {\n                            Array.isArray(d.source) ?\n                            d.source.map(s => {\n                                return(\n                                    <TabContentSection key={Math.random()}>\n                                        <h3>{s.label}</h3>\n                                        <h4 className='subContent'>Source: {<a href={s.source}>{s.source}</a>}</h4>\n                                    </TabContentSection>\n                                )\n                            })\n                            :\n                            <TabContentSection key={Math.random()}>\n                                <h3>{getType(d.type)}</h3>\n                                <h4 className='subContent'>Source: {<a href={d.source}>{d.source}</a>}</h4>\n                            </TabContentSection>\n                        }\n                        </div>\n                    )\n                })\n            }\n        </React.Fragment>    \n    )\n}\n\nexport default AccompanyDataTabContent","import React from 'react';\nimport {PSetToolAccordion, RNARefAccordion} from '../PSetAccordion';\nimport AccompanyDataTabContent from './AccompanyDataTabContent';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst RNATabContent = props => {\n    const rawSeqDataRNA = props.metadata.find(x => x.name === 'rawSeqDataRNA')\n    const rnaRef = props.metadata.find(x => x.name === 'rnaRef')\n    const rnaTool = props.metadata.find(x => x.name === 'rnaTool')\n    const accRNA = props.metadata.find(x => x.name === 'accRNA')\n\n    return(\n        <React.Fragment>\n            <TabHeader>RNA Data</TabHeader>\n            <TabContent>\n                {\n                    rawSeqDataRNA &&\n                    <TabContentSection>\n                        <h3>Raw Data Source: </h3>\n                        <div className='subContent'>\n                            <a href={rawSeqDataRNA.value}>{rawSeqDataRNA.value}</a>\n                        </div>\n                    </TabContentSection>\n                }\n                {\n                    rnaRef &&\n                    <TabContentSection>\n                        <h3>RNA Transcriptome</h3>\n                        <RNARefAccordion items={rnaRef.value} />\n                    </TabContentSection>\n                }\n                {\n                    rnaTool &&\n                    <TabContentSection>\n                        <h3>Tools and Commands Used</h3>\n                        <PSetToolAccordion items={rnaTool.value} />\n                    </TabContentSection>\n                }\n                {\n                    accRNA &&\n                    <AccompanyDataTabContent data={accRNA.value} />\n                }\n            </TabContent>\n        </React.Fragment>\n    );\n}\n\nexport default RNATabContent;","import React from 'react';\nimport {PSetToolAccordion, DNARefAccordion} from '../PSetAccordion';\nimport AccompanyDataTabContent from './AccompanyDataTabContent';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst DNATabContent = props => {\n    const rawSeqDataDNA = props.metadata.find(x => x.name === 'rawSeqDataDNA')\n    const dnaRef = props.metadata.find(x => x.name === 'dnaRef')\n    const dnaTool = props.metadata.find(x => x.name === 'dnaTool')\n    const accDNA = props.metadata.find(x => x.name === 'accDNA')\n\n    return(\n        <React.Fragment>\n            <TabHeader>DNA Data</TabHeader>\n            <TabContent>\n                {\n                    rawSeqDataDNA &&\n                    <TabContentSection>\n                        <h3>Raw Data Source: </h3>\n                        <div className='subContent'>\n                            <a href={rawSeqDataDNA.value}>{rawSeqDataDNA.value}</a>\n                        </div>\n                    </TabContentSection>\n                }\n                {\n                    dnaRef &&\n                    <TabContentSection>\n                        <h3>Exome Reference</h3>\n                        <DNARefAccordion items={dnaRef.value} />\n                    </TabContentSection>\n                }\n                {\n                    dnaTool &&\n                    <TabContentSection>\n                        <h3>Tools and Commands Used</h3>\n                        <PSetToolAccordion items={dnaTool.value} />\n                    </TabContentSection>\n                }\n                {\n                    accDNA &&\n                    <AccompanyDataTabContent data={accDNA.value} />\n                }\n            </TabContent>\n        </React.Fragment>\n    );\n}\n\nexport default DNATabContent;","import React from 'react';\nimport styled from 'styled-components';\n\n\nconst StyledReleaseNotes = styled.div`\n    width: 95%;\n    margin-left: auto;\n    margin-right: auto;\n`\n\nconst StyledMetricDataGroup = styled.div`\n    margin-top: 20px;    \n    margin-bottom: 20px;\n    table {\n        td {\n            padding: 0.3rem;\n            font-size: 14px;\n            .number {\n                color: #3D405A;\n                font-weight: bold;\n                font-size: 16px;\n            }\n        }\n        .title {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n`\n\nconst ReleaseNoteTabContent = (props) => {\n\n    const getMetricDataText = (key, label, count) => {\n        switch(key){\n            case 'current':\n                return `${label}${count > 1 ? 's' : ''} in this dataset.`;\n            case 'new':\n                return `newly added ${label}${count > 1 ? 's' : ''}.`;\n            case 'removed':\n                return `${label}${count > 1 ? 's' : ''} ${count > 1 ? 'were' : 'was'} removed from previous version.`;\n        }\n    }\n\n    const metricDataGroup = (title, label, data, renderRow) => (\n        <StyledMetricDataGroup>\n            <h2>{title}</h2>\n            <table>\n                <tbody>\n                    { renderRow(data, label) }\n                </tbody>\n            </table>\n        </StyledMetricDataGroup>\n    );\n\n    const renderDataRow = (data, label) => {\n        if(data){\n            return(\n                Object.keys(data).map(key => (\n                    data[key] > 0 &&\n                    <tr key={key}>\n                        <td><span className='number'>{ data[key] }</span></td>\n                        <td className='text'>{ getMetricDataText(key, label, data[key]) }</td>\n                    </tr>\n                ))\n            );\n        }else{\n            return(\n                <tr>\n                    <td>Not Available</td>\n                    <td className='text'></td>\n                </tr>\n            );\n        }\n    }\n\n    return(\n        <StyledReleaseNotes>\n            {\n                metricDataGroup('Models', 'model', props.data.releaseNotes.models, renderDataRow)\n            } \n            {\n                metricDataGroup('Patients', 'patient', props.data.releaseNotes.patients, renderDataRow)\n            }\n            {\n                metricDataGroup('Drugs', 'drug', props.data.releaseNotes.drugs, renderDataRow)\n            } \n            {\n                metricDataGroup('Drug Sensitivity Experiments', 'experiment', props.data.releaseNotes.experiments, renderDataRow)\n            } \n        </StyledReleaseNotes>\n    );\n}\n\nexport default ReleaseNoteTabContent;","import React, {useState, useEffect} from 'react';\nimport {TabView,TabPanel} from 'primereact/tabview';\nimport DatasetTabContent from './TabContents/DatasetTabContent';\nimport RNATabContent from './TabContents/RNATabContent';\nimport DNATabContent from './TabContents/DNATabContent';\nimport PipelineTabContent from '../PSet/TabContents/PipelineTabContent';\nimport ReleaseNoteTabContent from './TabContents/ReleaseNoteTabContent';    \nimport {GeneralInfoAccordion} from '../PSet/PSetAccordion';\nimport DownloadDataSetButton from '../../Shared/Buttons/DownloadDatasetButton';\nimport {TabContainer} from '../SingleDatasetStyle';\nimport {dataTypes} from '../../Shared/Enums';\nimport styled from 'styled-components';\n\nconst StyledTitle = styled.div`\n    display: flex;\n    align-items: baseline;\n`\n\nconst XevaSet = (props) => {\n    const [xevaSet, setXevaSet] = useState({});\n    const [ready, setReady] = useState(false);\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const getData = async () => {\n            try{\n                const res = await fetch(`/api/${dataTypes.xenographic}/one/${props.params.id1}/${props.params.id2}`);\n                if(res.ok){\n                    const json = await res.json();\n                    console.log(json);\n                    setXevaSet(json);\n                    setReady(true);\n                }else{\n                    setError(true);\n                }\n            }catch(error){\n                console.log(error);\n                setError(true);\n            } \n        }\n        getData();\n    }, []);\n\n    return(\n        <div className='pageContent'>\n            {\n                ready &&\n                <React.Fragment>\n                    <StyledTitle>\n                        <h2>Explore XevaSet - {xevaSet.name}</h2>\n                        <DownloadDataSetButton disabled={false} datasetType={dataTypes.xenographic} dataset={xevaSet} />\n                    </StyledTitle>\n                    <GeneralInfoAccordion datasetType='XevaSet' data={xevaSet.generalInfo}/>\n                    <TabContainer>\n                        <TabView renderActiveOnly={false}>\n                            {\n                                xevaSet.tabData.map(td => (\n                                    <TabPanel key={Math.random()} header={td.header}>\n                                        {td.header === 'Dataset' && <DatasetTabContent metadata={td.data} />}\n                                        {td.header === 'RNA' && <RNATabContent metadata={td.data} />}\n                                        {td.header === 'DNA' && <DNATabContent metadata={td.data} />}\n                                        {td.header === 'Pipeline' && <PipelineTabContent data={td.data} />}\n                                        {td.header === 'Release Notes' && <ReleaseNoteTabContent data={td.data} />}\n                                    </TabPanel>\n                                ))\n                            }\n                        </TabView>\n                    </TabContainer>\n                </React.Fragment>\n            } \n            { error && <h3>XevaSet with the specified DOI could not be found</h3>}\n        </div>\n    );\n}\n\nexport default XevaSet;","import React from 'react';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst DatasetTabContent = (props) => {\n\n    const dataList = (data) => (\n        <div>    \n        {data.length ? \n            <li key={data} className='pubList'>\n                <div className='subContent'>\n                    <a href={data}>{data}</a>\n                </div>\n            </li>\n            :\n            <div className=\"subContent\">\n                Not available.\n            </div>\n            }  \n        </div> \n    );\n\n    const drugResponse = (data) => (\n        <div>    \n        {data ? \n            <li key={data} className='pubList'>\n                <div className='subContent'>\n                    Version: {data.version}\n                </div>\n                <div className='subContent'>\n                    Source: <a href={data.source}>{data.source}</a>\n                </div>\n            </li>\n            :\n            <div className=\"subContent\">\n                No drug response data in this dataset.\n            </div>\n            }  \n        </div> \n    );\n\n    const publication = (\n        <div>    \n        {props.metadata.dataset.versionInfo.publication.length ? \n            props.metadata.dataset.versionInfo.publication.map((item) => \n                <li key={item.link} className='pubList'>\n                    <div className='subContent'>{item.citation}</div>\n                    <br />\n                    <div className='subContent'><a href={item.link}>{item.link}</a></div>\n                </li>\n            )\n            :\n            <div className=\"subContent\">\n                Not available.\n            </div>\n            }  \n        </div> \n    );\n    \n    return(\n        <React.Fragment>\n            <TabHeader>Dataset: {props.metadata.dataset.label}</TabHeader>\n            <TabContent>\n                <TabContentSection>\n                    <h3>Microarray Data: </h3>\n                    <ul>\n                        {dataList(props.metadata.dataset.versionInfo.data.rawMicroarrayData)}\n                    </ul> \n                </TabContentSection>\n                <TabContentSection>\n                    <h3>Drug Response Data: </h3>\n                    <ul>\n                        {drugResponse(props.metadata.dataset.versionInfo.data.drugResponseData)}\n                    </ul> \n                </TabContentSection>\n                <TabContentSection>\n                    <h3>Publication: </h3>\n                    <ul>\n                        {publication}\n                    </ul> \n                </TabContentSection>\n            </TabContent> \n        </React.Fragment>\n    );\n}\n\nexport default DatasetTabContent;","import React from 'react';\nimport styled from 'styled-components';\n\n\nconst StyledReleaseNotes = styled.div`\n    width: 95%;\n    margin-left: auto;\n    margin-right: auto;\n`\n\nconst StyledMetricDataGroup = styled.div`\n    margin-top: 20px;    \n    margin-bottom: 20px;\n    table {\n        td {\n            padding: 0.3rem;\n            font-size: 14px;\n            .number {\n                color: #3D405A;\n                font-weight: bold;\n                font-size: 16px;\n            }\n        }\n        .title {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n`\n\nconst ReleaseNoteTabContent = (props) => {\n\n    const getMetricDataRowText = (key) => {\n        switch(key){\n            case 'current':\n                return('Currently Available:');\n            case 'new':\n                return('Newly Added:');\n            case 'removed':\n                return('Removed from Previous Version:');\n        }\n    }\n\n    const metricDataGroup = (title, data, renderRow) => (\n        <StyledMetricDataGroup>\n            <h2>{title}</h2>\n            <table>\n                <tbody>\n                    { renderRow(data) }\n                </tbody>\n            </table>\n        </StyledMetricDataGroup>\n    );\n\n    const renderDataRow = (data) => {\n        if(data){\n            return(\n                    Object.keys(data).map(key => (\n                        data[key] !== null &&\n                        <tr key={key}>\n                            <td>\n                                {getMetricDataRowText(key)}\n                            </td>\n                            <td>\n                                <span className='number'>{ data[key].samples }</span> samples in <span className='number'>{ data[key].datasets }</span> datasets\n                            </td>\n                        </tr>\n                    )\n                )\n            );\n        }else{\n            return(\n                <tr>\n                    <td>Not Available</td>\n                    <td className='text'></td>\n                </tr>\n            );\n        }\n    }\n\n    return(\n        <StyledReleaseNotes>\n            {\n                metricDataGroup('Number of Samples', props.data.releaseNotes.samples, renderDataRow)\n            } \n        </StyledReleaseNotes>\n    );\n}\n\nexport default ReleaseNoteTabContent;","import React, {useState, useEffect} from 'react';\nimport {TabView,TabPanel} from 'primereact/tabview';\nimport DatasetTabContent from './TabContents/DatasetTabContent';\nimport PipelineTabContent from '../PSet/TabContents/PipelineTabContent';\nimport ReleaseNoteTabContent from './TabContents/ReleaseNoteTabContent';\nimport {GeneralInfoAccordion} from '../PSet/PSetAccordion';\nimport DownloadDataSetButton from '../../Shared/Buttons/DownloadDatasetButton';\nimport {TabContainer} from '../SingleDatasetStyle';\nimport {dataTypes} from '../../Shared/Enums';\nimport styled from 'styled-components';\n\nconst StyledTitle = styled.div`\n    display: flex;\n    align-items: baseline;\n`\n\nconst ClinicalGenomics = (props) => {\n    const [clinGenSet, setClinGenSet] = useState({});\n    const [ready, setReady] = useState(false);\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const getData = async () => {\n            try{\n                const res = await fetch(`/api/${dataTypes.clinicalgenomics}/one/${props.params.id1}/${props.params.id2}`);\n                if(res.ok){\n                    const json = await res.json();\n                    console.log(json);\n                    setClinGenSet(json);\n                    setReady(true);\n                }else{\n                    setError(true);\n                }\n            }catch(error){\n                console.log(error);\n                setError(true);\n            } \n        }\n        getData();\n    }, []);\n\n    return(\n        <div className='pageContent'>\n            {\n                ready &&\n                <React.Fragment>\n                    <StyledTitle>\n                        <h2>Explore Clinical Genomics Dataset - {clinGenSet.name}</h2>\n                        <DownloadDataSetButton disabled={false} datasetType={dataTypes.clinicalgenomics} dataset={clinGenSet} />\n                    </StyledTitle>\n                    <GeneralInfoAccordion datasetType='' data={clinGenSet.generalInfo}/>\n                    <TabContainer>\n                        <TabView renderActiveOnly={false}>\n                            {\n                                clinGenSet.tabData.map(td => (\n                                    <TabPanel key={Math.random()} header={td.header}>\n                                        {td.header === 'Dataset' && <DatasetTabContent metadata={td.data} />}\n                                        {td.header === 'Pipeline' && <PipelineTabContent data={td.data} />}\n                                        {td.header === 'Release Notes' && <ReleaseNoteTabContent data={td.data} />}\n                                    </TabPanel>\n                                ))\n                            }\n                        </TabView>\n                    </TabContainer>\n                </React.Fragment>\n            } \n            { error && <h3>Clinical Genomics Data with the specified DOI could not be found</h3>}\n        </div>\n    );\n}\n\nexport default ClinicalGenomics;","import React from 'react';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst DatasetTabContent = (props) => {\n         \n    const publication = (\n        <div>    \n        {props.metadata.dataset.versionInfo.publication.length ? \n            props.metadata.dataset.versionInfo.publication.map((item) => \n                <li key={item.link} className='pubList'>\n                    <div className='subContent'>{item.citation}</div>\n                    <br />\n                    <div className='subContent'><a href={item.link}>{item.link}</a></div>\n                </li>\n            )\n            :\n            <div className=\"subContent\">\n                Not available.\n            </div>\n            }  \n        </div> \n    );\n        \n    return(\n        <React.Fragment>\n            <TabHeader>Dataset: {props.metadata.dataset.label}</TabHeader>\n            <TabContent>\n                <TabContentSection>\n                    <h3>Radiation Sensitivity</h3>\n                    <h4 className='subContent'>Source: \n                    {\n                        props.metadata.dataset.versionInfo.radiationSensitivity ? \n                        <a href={props.metadata.dataset.versionInfo.radiationSensitivity.source}>{props.metadata.dataset.versionInfo.radiationSensitivity.source}</a> \n                        : 'Not available'\n                    }\n                    </h4>\n                    <h4 className='subContent'>Version: {props.metadata.dataset.versionInfo.radiationSensitivity.version}</h4>\n                </TabContentSection>\n                \n                <TabContentSection>\n                    <h3>Publication: </h3>\n                    <ul>\n                        {publication}\n                    </ul> \n                </TabContentSection>\n                \n                <TabContentSection>\n                    <h3>Genome Version</h3>\n                    <div className='subContent'>{props.metadata.genome.name ? props.metadata.genome.name : \"Not Available\"}</div>\n                </TabContentSection>\n            </TabContent> \n        </React.Fragment>\n    );\n}\n\nexport default DatasetTabContent;","import React from 'react';\nimport {Accordion,AccordionTab} from 'primereact/accordion';\nimport {StyledAccordion} from '../SingleDatasetStyle';\n\nclass PSetToolAccordion extends React.Component {\n\n    render(){\n        const toolAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                {item.commands.length ? \n                    <ul>\n                        {item.commands.map((command) => \n                            <li key={command}>\n                                {command}\n                            </li>    \n                        )}\n                    </ul>\n                    :\n                    \"Not Available\"\n                }\n                   \n            </AccordionTab>\n        );\n        \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {toolAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n\n}\n\nclass RNARefAccordion extends React.Component {\n    \n    render(){\n        const rnaRefAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                <ul>\n                    <li className='listItem-1'>\n                        <div>{item.name.length ? item.name : 'Currently not available'}</div>\n                        <div>{item.source.length ? <a href={item.source}>{item.source}</a> : 'Currently not available'}</div>\n                    </li>                    \n                </ul> \n            </AccordionTab>\n        );\n    \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {rnaRefAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n    \n}\n\nclass DNARefAccordion extends React.Component {\n\n    render(){\n        const exomeRefAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                <ul>\n                    <li className='listItem-1'>\n                        <div>{item.name.length ? item.name: 'Currently not available'}</div>\n                        <div>{item.source.length ? <a href={item.source}>{item.source}</a> : 'Currently not available'}</div>\n                    </li>\n                    <li className='listItem-1'>\n                        <div>{item.cosmic.name}</div>\n                        <div><a href={item.cosmic.source}>{item.cosmic.source}</a> </div>\n                    </li>\n                    <li className='listItem-1'>\n                        <div>{item.exonTarget.name}</div>\n                        <div><a href={item.exonTarget.source}>{item.exonTarget.source}</a></div>\n                    </li>                       \n                </ul> \n            </AccordionTab>\n        );\n    \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {exomeRefAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n\n}\n\nclass GeneralInfoAccordion extends React.Component {\n    render(){   \n        const doi = 'http://doi.org/' + this.props.data.doi\n        return(\n            <StyledAccordion className='generalInfoAccordion' activeIndex={0}>\n                <AccordionTab header=\"General Information\">\n                    <h4>{this.props.datasetType} Name: {this.props.data.name}</h4>\n                    <h4>DOI:  <a href={doi} target=\"_blank\">{this.props.data.doi}</a></h4>\n                    <h4>Date Created: {this.props.data.dateCreated.split('T')[0]}</h4>\n                    {this.props.data.createdBy && <h4>Created By {this.props.data.createdBy}</h4>}\n                </AccordionTab>    \n            </StyledAccordion>    \n        );\n    }\n}\n\nexport {\n    PSetToolAccordion,\n    RNARefAccordion,\n    DNARefAccordion,\n    GeneralInfoAccordion\n}\n","import React from 'react';\nimport { TabContentSection} from '../../SingleDatasetStyle';\n\nconst getType = function(type){\n    switch(type){\n        case 'rna':\n            return 'Microarray'\n        case 'cnv':\n            return 'Copy Number Variation'\n        case 'mut':\n            return 'Mutation'\n        case 'fusion':\n            return 'Fusion'\n        default:\n            return ''\n    }\n}\n\nconst AccompanyDataTabContent = props => {\n    \n    return(\n        <React.Fragment>\n            {\n                props.data.map(d => {\n                    return(\n                        <div key={Math.random()}>\n                        {\n                            Array.isArray(d.source) ?\n                            d.source.map(s => {\n                                return(\n                                    <TabContentSection key={Math.random()}>\n                                        <h3>{s.label}</h3>\n                                        <h4 className='subContent'>Source: {<a href={s.source}>{s.source}</a>}</h4>\n                                    </TabContentSection>\n                                )\n                            })\n                            :\n                            <TabContentSection key={Math.random()}>\n                                <h3>{getType(d.type)}</h3>\n                                <h4 className='subContent'>Source: {<a href={d.source}>{d.source}</a>}</h4>\n                            </TabContentSection>\n                        }\n                        </div>\n                    )\n                })\n            }\n        </React.Fragment>    \n    )\n}\n\nexport default AccompanyDataTabContent","import React from 'react';\nimport {PSetToolAccordion, RNARefAccordion} from '../PSetAccordion';\nimport AccompanyDataTabContent from './AccompanyDataTabContent';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst RNATabContent = props => {\n    const rawSeqDataRNA = props.metadata.find(x => x.name === 'rawSeqDataRNA')\n    const rnaRef = props.metadata.find(x => x.name === 'rnaRef')\n    const rnaTool = props.metadata.find(x => x.name === 'rnaTool')\n    const accRNA = props.metadata.find(x => x.name === 'accRNA')\n\n    return(\n        <React.Fragment>\n            <TabHeader>RNA Data</TabHeader>\n            <TabContent>\n                {\n                    rawSeqDataRNA &&\n                    <TabContentSection>\n                        <h3>Raw Data Source: </h3>\n                        <div className='subContent'>\n                            <a href={rawSeqDataRNA.value}>{rawSeqDataRNA.value}</a>\n                        </div>\n                    </TabContentSection>\n                }\n                {\n                    rnaRef &&\n                    <TabContentSection>\n                        <h3>RNA Transcriptome</h3>\n                        <RNARefAccordion items={rnaRef.value} />\n                    </TabContentSection>\n                }\n                {\n                    rnaTool &&\n                    <TabContentSection>\n                        <h3>Tools and Commands Used</h3>\n                        <PSetToolAccordion items={rnaTool.value} />\n                    </TabContentSection>\n                }\n                {\n                    rnaTool &&\n                    <TabContentSection>\n                        <h3>Data Transformations Applied</h3>\n                        <div className='subContent'>\n                            <table>\n                                <tbody>\n                                    <tr className='subContentSection'>\n                                        <td><span className='subContentHeader'>Gene TPM Values:</span></td>\n                                        <td>After estimation by the tool detailed above, gene TPM values are transformed by <span className='code'>log2(x + 0.001)</span>.</td>\n                                    </tr>\n                                    <tr className='subContentSection'>\n                                        <td><span className='subContentHeader'>Gene Count Values:</span></td>\n                                        <td>After estimation by the tool detailed above, gene count values are transformed by <span className='code'>log2(x + 1)</span>.</td>\n                                    </tr>\n                                </tbody>\n                            </table>\n                        </div>\n                    </TabContentSection>\n                }\n                {\n                    accRNA &&\n                    <AccompanyDataTabContent data={accRNA.value} />\n                }\n            </TabContent>\n        </React.Fragment>\n    );\n}\n\nexport default RNATabContent;","import React from 'react';\nimport {PSetToolAccordion, DNARefAccordion} from '../PSetAccordion';\nimport AccompanyDataTabContent from './AccompanyDataTabContent';\nimport { TabHeader, TabContent, TabContentSection} from '../../SingleDatasetStyle';\n\nconst DNATabContent = props => {\n    const rawSeqDataDNA = props.metadata.find(x => x.name === 'rawSeqDataDNA')\n    const dnaRef = props.metadata.find(x => x.name === 'dnaRef')\n    const dnaTool = props.metadata.find(x => x.name === 'dnaTool')\n    const accDNA = props.metadata.find(x => x.name === 'accDNA')\n\n    return(\n        <React.Fragment>\n            <TabHeader>DNA Data</TabHeader>\n            <TabContent>\n                {\n                    rawSeqDataDNA &&\n                    <TabContentSection>\n                        <h3>Raw Data Source: </h3>\n                        <div className='subContent'>\n                            <a href={rawSeqDataDNA.value}>{rawSeqDataDNA.value}</a>\n                        </div>\n                    </TabContentSection>\n                }\n                {\n                    dnaRef &&\n                    <TabContentSection>\n                        <h3>Exome Reference</h3>\n                        <DNARefAccordion items={dnaRef.value} />\n                    </TabContentSection>\n                }\n                {\n                    dnaTool &&\n                    <TabContentSection>\n                        <h3>Tools and Commands Used</h3>\n                        <PSetToolAccordion items={dnaTool.value} />\n                    </TabContentSection>\n                }\n                {\n                    accDNA &&\n                    <AccompanyDataTabContent data={accDNA.value} />\n                }\n            </TabContent>\n        </React.Fragment>\n    );\n}\n\nexport default DNATabContent;","import React from 'react';\nimport { TabHeader, TabContent, StyledAccordion} from '../../SingleDatasetStyle';\nimport {Accordion,AccordionTab} from 'primereact/accordion';\nimport styled from 'styled-components';\n\nconst PipelineContent = styled.div`\n    display: flex;\n    align-items: center;\n    h3 {\n        margin-right: 10px;\n    }\n`\n\nconst PipelineTabContent = props => {\n    return(\n        <React.Fragment>\n            <TabHeader>Pipeline Data</TabHeader>\n            <TabContent>\n                <PipelineContent>\n                    <h3>Pachyderm CommitID:</h3>\n                    <div>{props.data.commitID}</div>\n                </PipelineContent>\n                <PipelineContent>\n                    <h3>Docker Image: </h3>\n                    <a target=\"_blank\" href={'https://hub.docker.com/r/' + props.data.config.transform.image.split(':')[0]}>\n                        {props.data.config.transform.image}\n                    </a>\n                </PipelineContent>\n                <PipelineContent>\n                    <h3>Pipeline Repository: </h3>\n                    <a target=\"_blank\" href={props.data.config.input.cross[0].git.url}>{props.data.config.input.cross[0].git.url}</a>\n                </PipelineContent>\n                <StyledAccordion>\n                    <AccordionTab header='Pipeline Configuration File'>\n                        <pre>\n                            {JSON.stringify(props.data.config, null, 2)}\n                        </pre>\n                    </AccordionTab>\n                </StyledAccordion>\n            </TabContent>\n        </React.Fragment> \n    )\n}\n\nexport default PipelineTabContent","import React from 'react';\nimport styled from 'styled-components';\n\nconst StyledReleaseNotes = styled.div`\n    width: 95%;\n    margin-left: auto;\n    margin-right: auto;\n`\n\nconst StyledMetricDataGroup = styled.div`\n    margin-top: 20px;    \n    margin-bottom: 20px;\n    table {\n        td {\n            padding: 0.3rem;\n            font-size: 14px;\n            .number {\n                color: #3D405A;\n                font-weight: bold;\n                font-size: 16px;\n            }\n        }\n        .title {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n`\n\nconst ReleaseNoteTabContent = (props) => {\n\n    const getMetricDataText = (key, label, count) => {\n        switch(key){\n            case 'current':\n                return `${label}${count > 1 ? 's' : ''} in this dataset.`;\n            case 'new':\n                return `newly added ${label}${count > 1 ? 's' : ''}.`;\n            case 'removed':\n                return `${label}${count > 1 ? 's' : ''} ${count > 1 ? 'were' : 'was'} removed from previous version.`;\n        }\n    }\n\n    const metricDataGroup = (title, name, label, data, renderRow) => (\n        <StyledMetricDataGroup>\n            <h2>{title}</h2>\n            <table>\n                <tbody>\n                    { renderRow(name, data, label) }\n                </tbody>\n            </table>\n        </StyledMetricDataGroup>\n    );\n\n    const renderDataRow = (name=null, data, label) => (\n        Object.keys(data).map(key => (\n            data[key] > 0 &&\n            <tr key={key}>\n                <td><span className='number'>{ data[key] }</span></td>\n                <td className='text'>{ getMetricDataText(key, label, data[key]) }</td>\n            </tr>\n        ))\n    );\n\n    return(\n        <StyledReleaseNotes>\n            {metricDataGroup('Samples', props.data.name, 'sample', props.data.releaseNotes.samples, renderDataRow)} \n            {metricDataGroup('Radiation Types', props.data.name, 'radiation type', props.data.releaseNotes.radiationTypes, renderDataRow)} \n        </StyledReleaseNotes>\n    );\n}\n\nexport default ReleaseNoteTabContent;","import React, {useState, useEffect} from 'react';\nimport {TabView,TabPanel} from 'primereact/tabview';\nimport DatasetTabContent from './TabContents/DatasetTabContent';\nimport RNATabContent from './TabContents/RNATabContent';\nimport DNATabContent from './TabContents/DNATabContent';\nimport PipelineTabContent from './TabContents/PipelineTabContent';\nimport ReleaseNoteTabContent from './TabContents/ReleaseNoteTabContent';\nimport {GeneralInfoAccordion} from './PSetAccordion';\nimport DownloadDatasetButton from '../../Shared/Buttons/DownloadDatasetButton';\nimport {TabContainer} from '../SingleDatasetStyle';\nimport {dataTypes} from '../../Shared/Enums';\nimport styled from 'styled-components';\n\nconst StyledTitle = styled.div`\n    display: flex;\n    align-items: baseline;\n`\n\nconst RadioSet = (props) => {\n    const [radioset, setRadioSet] = useState({})\n    const [ready, setReady] = useState(false)\n    const [error, setError] = useState(false)\n\n    useEffect(() => {\n        const getData = async () => {\n            try{\n                const res = await fetch(`/api/${dataTypes.radiogenomics}/one/${props.params.id1}/${props.params.id2}`);\n                if(res.ok){\n                    const json = await res.json()\n                    console.log(json)\n                    setRadioSet(json)\n                    setReady(true)\n                }else{\n                    setError(true)\n                }\n            }catch(error){\n                console.log(error)\n                setError(true)\n            } \n        }\n        getData()\n    }, [])\n\n    return(\n        <div className='pageContent'>\n            {\n                ready &&\n                <React.Fragment>\n                    <StyledTitle>\n                        <h2>Explore RadioSet - {radioset.name}</h2>\n                        <DownloadDatasetButton disabled={false} datasetType={dataTypes.radiogenomics} dataset={radioset} />\n                    </StyledTitle>\n                    <GeneralInfoAccordion datasetType='RadioSet' data={radioset.generalInfo}/>\n                    <TabContainer>\n                        <TabView renderActiveOnly={false}>\n                            {\n                                radioset.tabData.map(td => (\n                                    <TabPanel key={Math.random()} header={td.header}>\n                                        {td.header === 'Dataset' && <DatasetTabContent metadata={td.data} />}\n                                        {td.header === 'RNA' && <RNATabContent metadata={td.data} />}\n                                        {td.header === 'DNA' && <DNATabContent metadata={td.data} />}\n                                        {td.header === 'Pipeline' && <PipelineTabContent data={td.data} />}\n                                        {td.header === 'Release Notes' && <ReleaseNoteTabContent data={td.data} />}\n                                    </TabPanel>\n                                ))\n                            }\n                        </TabView>\n                    </TabContainer>\n                </React.Fragment>\n            } \n            { error && <h3>RadioSet with the specified DOI could not be found</h3>}\n        </div>\n    );\n}\n\nexport default RadioSet;","import React from 'react';\nimport {dataTypes} from '../Shared/Enums';\nimport PSet from './PSet/PSet';\nimport ToxicoSet from './ToxicoSet/ToxicoSet';\nimport XevaSet from './XevaSet/XevaSet';\nimport ClinicalGenomics from './ClinicalGenomics/ClinicalGenomics';\nimport RadioSet from './RadioSet/RadioSet';\n\nconst SingleDataset = (props) => {\n    return(\n        <React.Fragment>\n            {props.match.params.datatype === dataTypes.pharmacogenomics && <PSet params={props.match.params} />}\n            {props.match.params.datatype === dataTypes.toxicogenomics && <ToxicoSet params={props.match.params} />}\n            {props.match.params.datatype === dataTypes.xenographic && <XevaSet params={props.match.params} />}\n            {props.match.params.datatype === dataTypes.clinicalgenomics && <ClinicalGenomics params={props.match.params} />}\n            {props.match.params.datatype === dataTypes.radiogenomics && <RadioSet params={props.match.params} />}\n        </React.Fragment>\n    );\n}\n\nexport default SingleDataset;","import React, {useState, useEffect, useContext} from 'react';\nimport './RequestStatus.css';\nimport Loader from 'react-loader-spinner';\nimport {Messages} from 'primereact/messages';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { AuthContext } from '../../hooks/Context';\n\nconst RequestStatus = () => {\n    \n    const auth = useContext(AuthContext);\n    const [data, setData] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const getData = async () => {\n            const res = await fetch('/api/pset/search', {\n                method: 'POST',\n                body: JSON.stringify({parameters: {status: ['pending', 'in-process']}}),\n                headers: {'Content-type': 'application/json'}\n            });\n            const json = await res.json();\n            console.log(json);\n            setData(json);\n            setLoading(false);\n        }\n        getData();\n    }, []);\n\n    const show = (message) => {\n        RequestStatus.messages.show(message);\n    }\n\n    const submitRequest = async (id) => {\n        const result = await fetch(\n            '/api/pset/process', \n            { \n                method: 'POST', \n                body: JSON.stringify({id: id}), \n                headers: {'Content-type': 'application/json'} \n            }\n        );\n        const json = await result.json();\n        return({ok: result.ok, data: json});\n    }\n    \n    const onSubmit = async (event) => {\n        event.preventDefault();\n        console.log(event.target.id);\n        const result = await submitRequest(event.target.id);\n        if(result.ok){\n            show({severity: 'success', summary: result.data.summary, detail: result.data.message, sticky: true});\n        }else{\n            show({severity: 'error', summary: result.data.summary, detail: result.data.message, sticky: true});\n        }\n        const res = await fetch('/api/pset/search', {\n            method: 'POST',\n            body: JSON.stringify({parameters: {status: ['pending', 'in-process']}}),\n            headers: {'Content-type': 'application/json'}\n        });\n        const json = await res.json();\n        console.log(json);\n        setData(json);\n    }\n\n    const dateTimeTemplate = (rowData, column) => {\n        let dateTimeStr = '';\n        if(rowData[column.field]){\n            dateTimeStr = new Date(rowData[column.field]).toLocaleString(undefined, {dateStyle: 'long', timeStyle: 'medium'});\n        }\n        return(<div>{dateTimeStr}</div>)\n    }\n\n    const buttonTemplate = (rowData, column) => {\n        let button = '';\n        if(rowData.status === 'pending'){\n            button = <button id={rowData._id} onClick={onSubmit} className='dashboardBtn' type='button'>Submit</button>\n        }\n        return(<div className='dashBoardBtnContainer'>{button}</div>)\n    }\n\n    return(\n        <div className='pageContent'>\n            <div className='dashboardWrapper'>\n                <Messages ref={(el) => RequestStatus.messages = el }></Messages>\n                <div className='dashboardSummary'>\n                    <h2>Request Status</h2>\n                    <div className='dashboardSummaryContainer'>\n                        <div className='dashboardSummarySection'>\n                            <span className='number'>{ data.filter(d => d.status === 'pending').length }</span> pending request(s).\n                        </div>\n                        <div className='dashboardSummarySection'>\n                            <span className='number'>{ data.filter(d => d.status === 'in-process').length }</span> request(s) in process.\n                        </div>    \n                    </div>    \n                </div>\n                <div className='dashboardTable'>\n                    {\n                        !loading ?\n                            data.length > 0 ?\n                            <DataTable value={data} paginator={true}  scrollable={true} rows={10} >\n                                <Column className='textField' field='status' header='Status' style={{width:'2em'}} sortable={true} />\n                                <Column className='textField' field='name' header='Name' style={{width:'5em'}} sortable={true} />\n                                <Column className='textField' field='dateSubmitted' header='Submitted Date' body={dateTimeTemplate} style={{width:'4em'}} sortable={true} />\n                                <Column className='textField' field='dateProcessed' header='Process Start Date' body={dateTimeTemplate} style={{width:'4em'}} sortable={true} />\n                                { auth.user.isAdmin && <Column body={buttonTemplate} style={{width:'1.5em'}}/> }\n                            </DataTable>\n                            :\n                            <h3>There are no pending or in-process requests.</h3>\n                        :   \n                        <div className='dashboardTableLoaderContainer'>\n                            <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                        </div>\n                    } \n                </div> \n            </div>   \n        </div>  \n    );\n}\n\nexport default RequestStatus;","import React from 'react';\nimport Plotly from \"plotly.js-basic-dist\";\nimport createPlotlyComponent from \"react-plotly.js/factory\";\nconst Plot = createPlotlyComponent(Plotly);\n\nconst UpsetPlot = (props) => {\n\n    return(\n        <div className='upsetPlot'>\n            {\n                Object.keys(props.data).length && \n                <React.Fragment>\n                    <Plot\n                        data= {props.data.bars}\n                        layout={ {\n                            autosize: true,\n                            xaxis: {\n                                showgrid: false,\n                                zeroline: false,\n                                showticklabels: false,\n                                range: [-1, props.data.bars.length + 1]\n                            },\n                            yaxis: {\n                                tickfont: {\n                                    size: 12\n                                },\n                                showgrid: true,\n                                showticklabels: true\n                            },\n                            margin: {t: 10, b: 0, l: 120, r: 10},\n                            showlegend: false\n                        } }\n                        style = {{width: '2000px', height: '250px'}}\n                        useResizeHandler = {true}\n                        config = {{displayModeBar: false}}\n                    />\n                    <Plot\n                        data= {props.data.points}\n                        layout={ {\n                            autosize: true,\n                            xaxis: {\n                                showgrid: false,\n                                zeroline: false,\n                                showticklabels: false,\n                                range: [-1, props.data.points.length + 1]\n                            },\n                            yaxis: {\n                                showgrid: true,\n                                tickfont: {\n                                    size: 12\n                                },\n                                showticklabels: true\n                            },\n                            margin: {t: 0, b: 10, l: 120, r: 10},\n                            showlegend: false\n                        } }\n                        style = {{ width: '2000px', height: '200px'}}\n                        useResizeHandler = {true}\n                        config = {{displayModeBar: false}}\n                    />\n                </React.Fragment>\n            }\n        </div>\n    )\n}\n\nexport default UpsetPlot","import React, {useEffect, useState} from 'react';\nimport Plotly from \"plotly.js-basic-dist\";\nimport createPlotlyComponent from \"react-plotly.js/factory\";\nimport {Checkbox} from 'primereact/checkbox';\nimport {RadioButton} from 'primereact/radiobutton';\nimport UpsetPlot from './UpsetPlot'\nimport Loader from 'react-loader-spinner';\nconst Plot = createPlotlyComponent(Plotly);\n\nconst DatasetChart = () => {\n\n    const metricSet = [\n        {name: 'Number of Cell Lines', value: 'cellLines'},\n        {name: 'Number of Drugs', value: 'drugs'},\n        {name: 'Number of Tissue Types', value: 'tissues'},\n        {name: 'Number of Drug Experiments ', value: 'experiments'},\n        {name: 'Number of Genes', value: 'genes'}\n    ]\n    const [upsetData, setUpsetData] = useState({})\n    const [barData, setBarData] = useState([])\n    const [parameters, setParameters] = useState({\n        datasets: [],\n        metricName: ''\n    });\n    const [isReady, setIsReady] = useState(false)\n    const [isPlotReady, setIsPlotReady] = useState(false)\n\n    useEffect(() => {\n        const getData = async () => {\n            const res = await fetch('/api/stats/metrics/options')\n            const json = await res.json()\n            console.log(json)\n            setParameters({\n                datasets: json,\n                metricName: 'cellLines'\n            })\n        } \n        getData()\n        setIsReady(true)\n    }, [])\n\n    useEffect(() => {\n        const updateData = async () => {\n            const res = await fetch('/api/stats/metrics/data', {\n                method: 'POST',\n                body: JSON.stringify({parameters: parameters}),\n                headers: {'Content-type': 'application/json'}\n            })\n            const json = await res.json()\n\n            if(parameters.metricName === 'cellLines' || parameters.metricName === 'drugs' || parameters.metricName === 'tissues'){\n                let points = []\n                let bars = []\n                let data = json.upsetData.data\n                console.log(json.upsetData)\n                for(let i = 0; i < data.length; i++){\n                    let datasets = []\n                    let colors = []\n                    for(let j = 0; j < data[i].setIndices.length; j++){\n                        let index = data[i].setIndices[j]\n                        datasets.push(json.upsetData.sets[index].name)\n                        colors.push(json.upsetData.sets[index].color)\n                    }\n                    data[i].datasets = datasets\n                    data[i].colors = colors\n                }\n\n                for(let i = 0; i < data.length; i++){\n\n                    points.push({\n                            x: new Array(data[i].datasets.length).fill(i),\n                            y: data[i].datasets,\n                            mode: data[i].datasets.length > 1 ? 'lines+markers' : 'markers',\n                            type: 'scatter',\n                            marker: {\n                                size: 10,\n                                color: data[i].colors\n                            },\n                            line: {\n                                color: '#777777'\n                            },\n                            hoverinfo: 'text'\n                    }) \n\n                    bars.push({\n                            x: [i, i],\n                            y: [0, data[i].names.length],\n                            mode: 'markers+lines',\n                            type: 'scatter',\n                            line: {\n                                color: data[i].colors.length > 1 ? '#777777' : data[i].colors[0],\n                                width: 10\n                            },\n                            marker: {\n                                color: data[i].colors.length > 1 ? '#777777' : data[i].colors[0],\n                                symbol: 'line-ew',\n                                size: 10\n                            },\n                            text: data[i].names.length,\n                            hoverinfo: 'text'\n                    })\n                }\n                setUpsetData({points: points, bars: bars})\n            }else{\n                const barDatasets = json.barData\n                barDatasets.sort((a, b) => (a.value > b.value) ? 1: -1)\n\n                setBarData([{\n                    x: barDatasets.map((item) => {return item.value}), \n                    y: barDatasets.map((item) => {return item.name}), \n                    type: 'bar',\n                    orientation: 'h',\n                    marker: {\n                        color: barDatasets.map((item) => {return item.color})\n                    }\n                }])\n            }\n            setIsPlotReady(true)\n        }\n        setIsPlotReady(false)\n        if(isReady){\n            console.log(parameters)\n            updateData()\n        }\n    }, [parameters])\n    \n    return (\n        <React.Fragment>\n            <h4>Select Dataset Metrics to View</h4>\n            <div className='stats-dataset-metric-control'>\n                {\n                    metricSet.map((metric) => {\n                        return(\n                            <div className='stats-chart-control-checkbox' key={metric.value}>\n                                <RadioButton inputId={metric.name} value={metric.value} checked={parameters.metricName === metric.value}\n                                    onChange={e => {\n                                        let params = {...parameters}\n                                        params.metricName = e.value\n                                        setParameters(params)\n                                    }\n                                }></RadioButton>\n                                <div>{metric.name}</div>\n                            </div>\n                        )\n                    })\n                }\n            </div>    \n            <div className='stats-dataset-chart'>\n                {isPlotReady ? \n                    <div className='stats-dataset-plot'>\n                        {\n                            parameters.metricName === 'experiments' || parameters.metricName === 'cellLineDrugPairs' || parameters.metricName === 'genes' ?\n                            <Plot\n                                data= {barData}\n                                layout={ {\n                                    autosize: true,\n                                    margin: {t: 50, b: 50, l: 130, r: 10},\n                                    showlegend: false\n                                } }\n                                style = {{width: \"100%\", height: '300px'}}\n                                useResizeHandler = {true}\n                                config = {{displayModeBar: false}}\n                            />\n                            :\n                            <UpsetPlot data={upsetData} />\n                        }\n                    </div>\n                    :\n                    <div className='componentLoaderContainer'>\n                        <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                    </div>\n                }\n                <div className='stats-dataset-chart-control'>\n                    <h4>Select Dataset(s) to View</h4>\n                    {\n                        parameters.datasets.map((dataset) => {\n                            return(\n                                <div className='stats-chart-control-checkbox dataset-checkbox' key={dataset.name}>\n                                    <Checkbox inputId={dataset.name} value={dataset.name} checked={dataset.checked}\n                                        onChange={e => {\n                                            let params = {...parameters}\n                                            let index = params.datasets.findIndex(item => item.name === dataset.name)\n                                            params.datasets[index].checked = e.checked\n                                            setParameters(params)\n                                        }\n                                    }></Checkbox>\n                                    <label htmlFor={dataset.name}>{dataset.name}</label>\n                                </div>\n                            )\n                        })\n                    }\n                </div>  \n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default DatasetChart;","import React, {useState, useEffect} from 'react';\nimport './Stats.css';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport DatasetChart from './DatasetChart';\nimport Loader from 'react-loader-spinner';\nimport {dataTypes} from '../Shared/Enums';\n\nconst Stats = () => {\n\n    const [psets, setPSets] = useState([])\n    const [chartData] = useState([])\n    const [isReady, setIsReady] = useState(false)\n\n    useEffect(() => {\n        const getData = async () => {\n            const res = await fetch(`/api/${dataTypes.pharmacogenomics}/stats/data`)\n            const json = await res.json()\n            console.log(json)\n            setPSets(json.psets)\n            setIsReady(true)\n        }\n        getData()\n    }, [])\n    \n    const nameColumnTemplate = (rowData, column) => {\n        let route = `/${dataTypes.pharmacogenomics}/${rowData.doi}`;\n        return(\n            <Link to={route} target=\"_blank\">{rowData.name}</Link>\n        );\n    }\n        \n    return(\n        <div className='pageContent'>\n            {\n                isReady ?\n                <div className='statContainer'>\n                    <div className='container downloadHistogram'>\n                        <h3>Dataset Metrics and Usage Statistics</h3>\n                        <DatasetChart chartData={chartData} />\n                    </div>\n                    <div className='container rankingTable'>\n                        <h3>Download Ranking</h3>\n                        <DataTable \n                            value={psets} paginator={true} rows={10} scrollable={true} \n                            resizableColumns={true} columnResizeMode=\"fit\"\n                        >\n                            <Column className='textField' field='download' header='Number of Downloads' style={{width:'5%', textAlign:'center'}} sortable={true} />\n                            <Column className='textField' field='name' header='Name' style={{width:'7%', textAlign:'center'}} body={nameColumnTemplate} sortable={true} />\n                            <Column className='textField' field='dataset' header='Dataset' style={{width:'5%', textAlign:'center'}} sortable={true} />\n                            <Column className='textField' field='version' header='Drug Sensitivity' style={{width:'5%', textAlign:'center'}} sortable={true} />\n                        </DataTable>\n                    </div>  \n                </div>\n                :\n                <div className='componentLoaderContainer'>\n                    <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                </div>\n            }\n        </div>\n    );\n}\n\nexport default Stats;","import React from 'react';\n\nconst Overview = () => {\n    return(\n        <div className='documentation'>\n            <h2>Overview</h2>\n\n                <div>\n                    <h3>Introduction</h3>\n                    <p>\n                        <b>ORCESTRA</b> is a new web application that enables users to search, request and manage pharmacogenomic datasets (PSets).\n                        <br />\n                        PSets are generated with an automated pipeline by using a version controlling platform called Pachyderm. Upon completion of the pipeline, a newly generated PSet is uploaded to Zenodo, a data-sharing platform, and is assigned a DOI.\n                        <br />\n                        With Pachyderm's strict version controlling system, coupled with the DOI assignment, ORCESTRA ensures that your experiments with PSets are transparent and easily reproducible.\n                    </p>\n                    <h3>System Overview</h3>  \n                    <p>\n                        The <b>ORCESTRA</b> system consists of three main layers:   \n                    </p>  \n                    <ol>\n                        <li><b>Web application layer</b> which allows users to view and submit PSet requests</li>\n                        <li><b>Data processing layer</b> which utilizes a version control software called Pachyderm to process requested data</li>\n                        <li><b>Data sharing layer</b> which utilizes Zenodo to ensure that the generated dataset is tagged with a DOI</li>\n                    </ol>     \n                    <div className='img-architecture'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/architecture.png\"} alt=''/>\n                    </div>\n                    <div className='bottom-fill'></div>  \n                </div>  \n        </div>    \n    );\n}\n\nexport default Overview","import React from 'react';\n\nconst Search = () => {\n    return(\n        <div className='documentation'>\n            <h2>Search</h2>\n                <div>\n                    <h3>How to search existing PSets</h3>\n                    <p>\n                        Existing PSets can be searched on <a href='/pset/search'>Search and Request</a> page.<br />\n                        User can select different pipeline parameters uder PSet Parameters pane. Each selection of parameters triggers a database search. The search result is displayed on the data table as shown in the figure below.\n                    </p> \n                    <div className='img-full'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/search.png\"} alt='' />\n                    </div>  \n                    <h3>How to view metadata of a PSet</h3>\n                    <p>\n                        Metadata of a PSet can be viewed by clicking a dataset name on the search table.<br />\n                        Explore PSet view is displayed as in the figure below where user can view publications associated with the dataset, and command lines used in the pipeline to generate the PSet.\n                    </p> \n                    <div className='img-full'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/explore_pset.png\"} alt='' />\n                    </div>\n                    <div className='bottom-fill'></div> \n                </div>      \n        </div>    \n    );\n}\n\nexport default Search","import React from 'react';\n\nconst Request = () => {\n    return(\n        <div className='documentation'>\n            <h2>Request</h2> \n                <div>\n                    <h3>How to request a PSet</h3>\n                    <p>\n                        To request a PSet, turn on the Request mode on <a href='/pset/search'>Search and Request</a> view with the toggle button on top of the PSet Parameters pane. In the requets mode, two text fields to enter the PSet name and email address to receive pipeline completion notification will be displayed.<br />\n                        Once all the information is filled out, including the PSet name and email address, the Submit Request button becomes active.<br />\n                        PSet request is submitted upon clicking the Submit button.\n                    </p> \n                    <div className='img-full'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/request.png\"} alt='' />\n                    </div>  \n                    <h3>How to check status of your request</h3>\n                    <p>\n                        Status of your pipeline request can be viewed at <a href='/pset/status'>Request Status</a> view.<br /> \n                        Status of your request can either be \"pending\" or \"in-process\". Pending requests are the ones that have been successfully submitted, and will be processed once the Pachyderm cluster is online. In-process requests have been successfully submitted, and the pipeline execution has been started.\n                    </p> \n                    <div className='img-full'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/request_status.png\"} alt='' />\n                    </div> \n                    <div className='bottom-fill'></div>\n                </div>\n        </div>    \n    );\n}\n\nexport default Request","import React from 'react';\n\nconst UserProfile = () => {\n    return(\n        <div className='documentation'>\n            <h2>User Profile and Usage Statistics</h2>\n            <div>\n                <h3>What you can do with your profile</h3>\n                <p>\n                    <b>ORCESTRA</b> comes with user account feature which allows registred users to:\n                </p>\n                <ul>\n                    <li>Save existing PSets as \"favorites\".</li>\n                    <li>Keep track of the user's PSet reguqest status.</li>\n                </ul>\n                <p>\n                    To register for the user account, simply click on the \"Login/Register\" button on navigation \n                    bar, and enter your email address and password.\n                </p> \n            </div>\n            <div>\n                <h3>Usage Statistics</h3>\n                <p>\n                    <b>ORCESTRA</b>'s usage metrics can be viewed at <a href='http://orcestra.ca/pset/stats'>Statistics</a> page.<br />\n                    <b>ORCESTRA</b> currently provides the download ranking of the existing PSets.\n                </p>   \n            </div>\n        </div>    \n    );\n}\n\nexport default UserProfile","import React from 'react';\nimport styled from 'styled-components';\nimport download from 'downloadjs';\n\nconst StyledTable = styled.table`\n    text-align: left;\n    font-size: 14px;\n    .download {\n        border: none;\n        background: none;\n        font-size: 16px;\n        cursor: pointer;\n        color: #3D405A;\n    }\n`\n\nconst DocSection = styled.div`\n    margin-top: 10px;\n    margin-bottom: 30px;\n    .docContent {\n        margin-left: 20px;\n    }\n`\n\nconst DataContribution = () => {\n\n    const exampleFilesTable = (files) => (\n        <StyledTable>\n            <thead>\n                <tr>\n                    <th>Download Example File(s):</th>\n                </tr> \n            </thead>\n            <tbody>\n            {\n                files.map(file => (\n                    <tr key={file}>\n                        <td>{file}</td>\n                        <td>\n                            <button className='download' title='Download' onClick={(e) => {\n                                e.preventDefault();\n                                downloadFile(file);\n                            }}>\n                                <i className=\"pi pi-fw pi-download\"></i>\n                            </button>\n                        </td>\n                    </tr>\n                ))\n            } \n            </tbody>  \n        </StyledTable>\n    );\n\n    const downloadFile = async (file) => {\n        const res = await fetch('/api/example-download/' + file);\n        const blob = await res.blob();\n        download(blob, file);\n    }\n\n    return(\n        <div className='documentation'>\n            <h2>Contributing Your Data</h2>\n            <div>\n                Please ensure your data submission includes the following files, in the format of the example CSV files provided below:\n            </div>\n            <div>\n                <DocSection>\n                    <h3>1. Sample annotation</h3>\n                    <div className='docContent'>\n                        {exampleFilesTable(['example_sample_annotation.csv'])}\n                        <p>\n                            File (.CSV) that includes each sample with respective unique ID's (unique.sample.id). For cell lines, please also provide Cellosaurus Accession IDs. If a cell line is not present in Cellosaurus, indicate with NA. In addition, please include tissue types (tissue.id) for each sample and any other sample metadata in the CSV that you would like to include in your data object.\n                            <br />\n                            Cellosaurus: <a href='https://web.expasy.org/cellosaurus/'>https://web.expasy.org/cellosaurus/</a>\n                        </p> \n                    </div> \n                </DocSection> \n                <DocSection>\n                    <h3>2. Drug annotation</h3>\n                    <div className='docContent'>\n                        {exampleFilesTable(['example_drug_annotation.csv'])}\n                        <p>\n                            File (.CSV) that includes each drug compound with respective unique ID's (unique.drug.id). Please also provide PubChem CID for each drug compound. If a drug is not present in PubChem, indicate CID with NA. In addition, include any other drug metadata in the CSV that you would like to include in your data object.\n                            <br />\n                            PubChem: <a href='https://pubchem.ncbi.nlm.nih.gov'>https://pubchem.ncbi.nlm.nih.gov</a>\n                        </p>\n                    </div>  \n                </DocSection>\n                <DocSection>\n                    <h3>3. Raw drug sensitivity data</h3>\n                    <div className='docContent'>\n                        {exampleFilesTable(['example_drug_annotation.csv', 'example_raw_drug_viability.csv'])}\n                        <ol>\n                            <li>\n                                File (.CSV) that contains the doses (in micromolar) utilized each drug compound and sample pair. A unique experiment ID must be used for each drug compound and sample pair, which follows the following format (unique.sampleid_unique.drugid) - refer to example_raw_drug_dose.csv\n                            </li>\n                            <li>\n                                File (.CSV) that contains the viability (in percentage %) for each dose of the respective unique experiment ID (unique.sampleid_unique.drugid) - refer to example_raw_drug_viability.csv\n                            </li>\n                        </ol>\n                        <p>\n                            *NOTE: If an experiment was performed more than once for a given drug compound and sample pair (unique.sampleid_unique.drugid), ensure that the unique unique experiment ID reflects this by appending \"_number\" to the end of the unique experiment ID (e.g. 380_XMD8-85_1; 380_XMD8-85_2; 380_XMD8-85_3) \n                        </p>\n                    </div>\n                </DocSection>\n                <DocSection>\n                    <h3>4. Drug sensitivity info</h3>\n                    <div className='docContent'>\n                        {exampleFilesTable(['example_sensitivity_info.csv'])}\n                        <p>\n                            File (.CSV) that contains the minimum and maximum drug dose (in micromolar) used for each unique experiment ID (unique.sampleid_unique.drugid), along with the respective unique.sample.id and unique.drug.id.\n                        </p>\n                    </div>\n                </DocSection> \n                <DocSection>\n                    <h3>5. Processed molecular profile data</h3>\n                    <div className='docContent'>\n                        {exampleFilesTable(['example_rnaseq.csv '])}\n                        <p>\n                            We accept processed RNA-seq, microarray, mutation, and CNV data. For each datatype, ensure rows are denoted as gene, transcript, or probe ID's, while columns are denoted as samples (unique.sample.id). Please also indicate which tools and their versions were used to process your molecular data (e.g. Kallisto v.0.43.1 for RNA-seq), including information about all accompanying files required to process your data (e.g. Gencode v33 transcriptome for RNA-seq; SureSelectHumanAllExonV5 BED file for mutation calling).\n                        </p> \n                    </div>\n                </DocSection>\n                <DocSection>\n                    <h3>6. Other metadata to include in ORCESTRA</h3>\n                    <div className='docContent'>\n                        <p>\n                            If your data is associated with specific publications, please provide us with respective publication links for each data source (drug sensivitity data, molecular profiles).\n                        </p>\n                    </div> \n                </DocSection>\n            </div>\n        </div>    \n    );\n}\n\nexport default DataContribution","import React, {useState, useEffect} from 'react';\nimport {ScrollPanel} from 'primereact/scrollpanel';\n\nconst AvailablePSets = () => {\n    \n    const [data, setData] = useState([])\n\n    useEffect(() => {\n        const getData = async () => {\n            const res = await fetch('/api/psets/canonical')\n            const data = await res.json()\n            setData(JSON.stringify(data, null, 2))\n        }\n        getData()\n    }, [])\n    \n    return(\n        <div className='documentation'>\n            <h2>List of Available Datasets</h2>\n            <p>\n                This RESTful API call restrieves a list of available datasets in the database:<br />\n                <code className='code'>curl http://api.orcestra.ca/[dataset type]/[dataset classification]</code> or,<br />\n                <code className='code'>curl https://www.orcestra.ca/[dataset type]/[dataset classification]</code><br />\n                Input Parameters:<br />\n                <div className='code'>\n                    <b>Dataset Type:</b> Accepts one of <code>psets</code>, <code>toxicosets</code>, <code>xevasets</code>, <code>clinicalgenomics</code>, and <code>radiosets</code>. <br />\n                    <b>Dataset Classification:</b> Accepts one of <code>canonical</code> or <code>available</code>.<br />\n                    \"Canonical\" returns the latest datasets created by BHK Lab and are recommended for analysis.<br />\n                    \"Available\" returns all datasets currently available in ORCESTRA.<br />\n                </div>\n                Example:<br />\n                <code className='code'>curl http://api.orcestra.ca/psets/canonical</code><br />\n                Current result of the successful API call is as follows:<br />\n            </p>\n            <ScrollPanel className='documentation-scroll'>\n                <div>\n                    <pre>\n                        {data}\n                    </pre>    \n                </div>\n            </ScrollPanel>\n        </div>    \n    );\n}\n\nexport default AvailablePSets","import React, {useState, useEffect} from 'react';\nimport {ScrollPanel} from 'primereact/scrollpanel';\n\nconst PSetMetadata = () => {\n    const [data, setData] = useState([])\n\n    useEffect(() => {\n        const getData = async () => {\n            const res = await fetch('/api/pset/10.5281/zenodo.3905462')\n            const data = await res.json()\n            console.log(data)\n            setData(JSON.stringify(data, null, 2))\n        }\n        getData()\n    }, [])\n    \n    return(\n        <div className='documentation'>\n            <h2>Single Dataset</h2>\n            <p>\n                This RESTful API call restrieves a dataset associated with specified DOI:<br /> \n                <code className='code'>curl http://api.orcestra.ca/[dataset type]/[ DOI ]</code> or,<br />\n                <code className='code'>curl https://wwww.orcestra.ca/[dataset type]/[ DOI ]</code><br />\n                Input Parameters:<br />\n                <div className='code'>\n                    <b>Dataset Type:</b> Accepts one of <code>pset</code>, <code>toxicoset</code>, <code>xevaset</code>, <code>clinicalgenomics</code>, and <code>radioset</code>. <br />\n                </div>\n                Example:<br />\n                <code className='code'>curl http://api.orcestra.ca/pset/10.5281/zenodo.3905462</code><br />\n                Current result of the successful API call is as follows:<br />\n            </p>\n            <ScrollPanel className='documentation-scroll'>\n            <div>\n                <pre>\n                    {data}\n                </pre>    \n            </div>\n            </ScrollPanel>\n        </div>    \n    );\n}\n\nexport default PSetMetadata","import React, {useState, useEffect} from 'react';\nimport {ScrollPanel} from 'primereact/scrollpanel';\n\nconst StatisticsAPI = () => {\n    const [data, setData] = useState([])\n\n    useEffect(() => {\n        const getData = async () => {\n            const res = await fetch('/api/psets/statistics/metrics/all')\n            const data = await res.json()\n            setData(JSON.stringify(data, null, 2))\n        }\n        getData()\n    }, [])\n    \n    return(\n        <div className='documentation'>\n            <h2>Statistics</h2>\n            <p>\n                This RESTful API call restrieves a list of datasets ordered by the number of downloads:<br />\n                <code className='code'>curl http://api.orcestra.ca/[dataset type]/statistics/download/[ number of datasets to be returned ]</code> or,<br />\n                <code className='code'>curl https://www.orcestra.ca/[dataset type]/statistics/download/[ number of datasets to be returned ]</code><br />\n                Input Parameters:<br />\n                <div className='code'>\n                    <b>Dataset Type:</b> Accepts one of <code>psets</code>, <code>toxicosets</code>, <code>xevasets</code>, <code>clinicalgenomics</code>, and <code>radiosets</code>. <br />\n                </div>\n                Example:<br />\n                <code className='code'>curl http://api.orcestra.ca/psets/statistics/download/5</code><br />\n            </p>\n            <p>\n                This RESTful API call returns metric data for each PSet:<br />\n                <code className='code'>curl http://api.orcestra.ca/[dataset type]/statistics/metrics/[ name of dataset OR 'all' for all dataset metrics]</code> or,<br />\n                <code className='code'>curl https://www.orcestra.ca/[dataset type]/statistics/metrics/[ name of dataset OR 'all' for all dataset metrics]</code><br />\n                Input Parameters:<br />\n                <div className='code'>\n                    <b>Dataset Type:</b> Accepts one of <code>psets</code>, <code>toxicosets</code>, <code>xevasets</code>, <code>clinicalgenomics</code>, and <code>radiosets</code>. <br />\n                </div>\n                Example:<br />\n                <code className='code'>curl http://api.orcestra.ca/psets/statistics/metrics/all</code><br />\n                Current result of the successful metrics API call is as follows:<br />\n            </p>\n            <ScrollPanel className='documentation-scroll'>\n            <div>\n                <pre>\n                    {data}\n                </pre>    \n            </div>\n            </ScrollPanel>\n        </div>    \n    );\n}\n\nexport default StatisticsAPI","import React, { useState } from 'react';\nimport './Documentation.css';\n\nimport Overview from './DocFunctionality/Overview';\nimport Search from './DocFunctionality/Search';\nimport Request from './DocFunctionality/Request';\nimport UserProfile from './DocFunctionality/UserProfile';\nimport DataContribution from './DocFunctionality/DataContribution';\nimport AvailablePSets from './DocAPI/AvailablePSets';\nimport PSetMetadata from './DocAPI/PSetMetadata';\nimport StatisticsAPI from './DocAPI/StatisticsAPI';\n\nconst Documentation = (props) => {\n    \n    const [display, setDisplay] = useState(props.match.params.section);\n\n    return(\n        <div className='pageContent'>\n            <div className='documentationContent'>\n                <nav className='documentationNav'>\n                    <h3>Functionality</h3>\n                    <ul>\n                        <li className={display === 'overview' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('overview')}>Overview</button>\n                        </li>\n                        <li className={display === 'search' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('search')}>Search</button>\n                        </li>    \n                        <li className={display === 'request' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('request')}>Request</button>\n                        </li>\n                        <li className={display === 'userProfile' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('userProfile')}>Profile/Statistics</button>\n                        </li>\n                    </ul> \n                    <h3>Support</h3>\n                    <ul>\n                        <li className={display === 'datacontribution' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('datacontribution')}>Contributing Your Data</button>\n                        </li>   \n                    </ul>\n                    <h3>API</h3>\n                    <ul>\n                        <li className={display === 'api-psets-available' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('api-psets-available')}>Available Datasets</button>\n                        </li>\n                        <li className={display === 'api-pset-single' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('api-pset-single')} >Single Dataset</button>\n                        </li>\n                        <li className={display === 'api-statistics' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('api-statistics')}>Statistics</button>\n                        </li>    \n                    </ul>\n                </nav>\n                {display === 'overview' && <Overview /> }\n                {display === 'search' && <Search /> }\n                {display === 'request' && <Request /> }\n                {display === 'userProfile' && <UserProfile /> }\n                {display === 'datacontribution' && <DataContribution /> }\n                {display === 'api-psets-available' && <AvailablePSets /> }\n                {display === 'api-pset-single' && <PSetMetadata /> }\n                {display === 'api-statistics' && <StatisticsAPI /> }\n            </div>\n        </div>\n    );\n}\n\nexport default Documentation;","import React, {useState, useContext, useEffect} from 'react';\nimport { Link } from \"react-router-dom\";\nimport styled from 'styled-components';\nimport {Button} from 'primereact/button';\nimport {InputText} from 'primereact/inputtext';\nimport {Messages} from 'primereact/messages';\nimport { AuthContext } from '../../../hooks/Context';\n\nconst StyledUserInfo = styled.div`\n    background-color: rgba(255, 255, 255, 0.8);\n    font-size: 12px;\n    width: 100%;\n    margin-bottom: 10px;\n    padding: 1px 20px 20px 20px;\n    border-radius: 10px;\n    .userInfo{\n        margin-bottom: 20px;\n        font-size: 14px;\n    }\n    .userInfoBtn{\n        margin-top: 20px;\n    }\n    .userInfoBtn .pwdReset {\n        margin-right: 5px;\n    }\n`;\n\nconst UserInfo = () => {\n    const auth = useContext(AuthContext);\n    const [show, setShow] = useState(false)\n    const [password1, setPassword1] = useState('')\n    const [password2, setPassword2] = useState('')\n    const [btnResetDisabled, setBtnResetDisabled] = useState(true)\n\n    useEffect(() => {\n        password1.length >= 6 ?  password1 === password2 && setBtnResetDisabled(false) : setBtnResetDisabled(true);\n    }, [password1, password2])\n    \n    const showPwdReset = (event) => {\n        event.preventDefault()\n        setShow(true)\n    }\n\n    const hidePwdReset = (event) => {\n        event.preventDefault()\n        setShow(false)\n    }\n\n    const resetPwd = async (event) => {\n        event.preventDefault()\n        // const res = await fetch('/api/user/reset', {\n        //     method: 'POST',\n        //     body: JSON.stringify({\n        //         user: { username: auth.user.username, password: password1 }   \n        //     }),\n        //     headers: { 'Content-type': 'application/json' }\n        // })\n        // const data = await res.json();\n        // if(data.authenticated){\n        //     console.log('authenticated');\n        //     auth.setAuthToken(data);\n        //     setPassword1('')\n        //     setPassword2('')\n        //     setShow(false)\n        //     UserInfo.messages.show({severity: 'success', summary: 'Password changed'});\n        // }else{\n        //     UserInfo.messages.show({severity: 'error', summary: 'Error occurred', detail: 'Password could not be changed'});\n        // }\n    }\n\n    return(\n        <StyledUserInfo>\n            <h2>Profile</h2>\n            <Messages ref={(el) => UserInfo.messages = el}></Messages>\n            <div className='userInfo'>Username: {auth.user.username}</div>\n            { auth.user.isAdmin && <div className='userInfo'><Link to = '/admin'>Admin Menu</Link></div> }\n            {\n                show &&\n                <div>\n                    <div>\n                        <div className='pwdMsg'>Password needs to be at least 6 characters in length</div>\n                        <InputText className='pwdInput' type='password' name='password1' value={password1} onChange={(e) => {setPassword1(e.target.value)}}/>\n                    </div>\n                    <div>\n                        <label>Confirm your password:</label>\n                        <InputText className='pwdInput' type='password' name='password2' value={password2} onChange={(e) => {setPassword2(e.target.value)}}/>\n                    </div> \n                </div> \n            }\n            <div className='userInfoBtn'>\n                {\n                    show ? \n                    <div>\n                        <Button className='pwdReset' label='Reset' onClick={resetPwd} disabled={btnResetDisabled}/>\n                        <Button className='pwdReset' label='Cancel' onClick={hidePwdReset}/>\n                    </div>\n                    :\n                    <Button label='Reset password' onClick={showPwdReset}/>\n                }\n                \n            </div>\n        </StyledUserInfo>\n    );\n}\n\nexport default UserInfo;","import React, { useState, useEffect } from 'react';\nimport styled from 'styled-components';\nimport { Button } from 'primereact/button';\nimport { Dialog } from 'primereact/dialog';\nimport { DataTable } from 'primereact/datatable';\nimport { Column } from 'primereact/column';\nimport { Link } from 'react-router-dom';\n\nconst StyledUserDataset = styled.div`\n    width: 100%;\n    margin-bottom: 10px;\n    border-radius: 10px;\n    padding: 1px 20px 20px 20px;\n    background-color: rgba(255, 255, 255, 0.8);\n    .userPSetContent{\n        margin-top: 20px;\n        width: 100%;\n    }\n    .footer{\n        margin-top: 20px;\n    }\n`;\n\nconst UserDataset = (props) => {\n    const { heading, btnLabel, datasets, handleBtnClick, pending } = props;\n    const [selectedDatasets, setSelectedDatasets] = useState([]);\n    const [btnDisabled, setBtnDisabled] = useState(true);\n    const [dialogVisible, setDialogVisible] = useState(false);\n    const [btnYesDisplayed, setBtnYesDisplayed] = useState(false);\n\n    const handleSelectionChange = (selected) => {\n        setSelectedDatasets(selected.value);\n        if(selected && selected.value.length > 0){\n            setBtnDisabled(false);\n        }else{\n            setBtnDisabled(true);\n        }\n    }\n\n    useEffect(() => {\n        if(selectedDatasets.length > 0){\n            setBtnDisabled(false);\n        }else{\n            setBtnDisabled(true);\n        }\n    }, [selectedDatasets]);\n\n    const onClickYes = () => {\n        setBtnDisabled(true);\n        setBtnYesDisplayed(true);\n        handleBtnClick(selectedDatasets);\n        setSelectedDatasets([]);\n        setDialogVisible(false);\n    }\n    \n    const onHide = () => {\n        setDialogVisible(false);\n        setBtnYesDisplayed(false);\n    }\n\n    const dialogFooter = (\n        <div>\n            <Button label=\"Yes\" onClick={onClickYes} disabled={btnYesDisplayed}/>\n            <Button label=\"Cancel\" onClick={onHide} />\n        </div>\n    );\n\n    const downloadPSet = (datasetType, doi, link) => async (event) => {\n        event.preventDefault();\n        console.log('downloadOnePSet');\n        await fetch(`/api/${datasetType}/download`, {\n            method: 'POST',\n            body: JSON.stringify({datasetDOI: doi}),\n            headers: {'Content-type': 'application/json'}\n        })\n        const anchor = document.createElement('a');\n        anchor.setAttribute('download', null);\n        anchor.style.display = 'none';\n        anchor.setAttribute('href', link);\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n    }\n\n    // data table templates\n    const nameColumnTemplate = (rowData, column) => (\n        rowData.doi.length > 0 ? \n        <Link to={`/${rowData.datasetType.name}/${rowData.doi}`} target=\"_blank\">{rowData.name}</Link>\n        :\n        rowData.name\n    );\n    const downloadTemplate = (rowData, column) => {\n        return(\n            rowData.downloadLink ? \n            <a id={rowData._id} href='#' onClick={downloadPSet(rowData.datasetType.name, rowData.doi, rowData.downloadLink)}>Download</a> \n            : 'Not Available'\n        );\n    };\n    const canonicalTemplate = (rowData, column) => (\n        <div>{rowData[column.field] ? 'Yes' : ''}</div>\n    );\n    const privateTemplate = (rowData, column) => (\n        <div>{rowData[column.field] ? 'Yes' : 'No'}</div>\n    );\n\n    return(\n        <StyledUserDataset>\n            <h3>{heading}</h3>\n            <div className='userPSetContent'>\n                {\n                    datasets.length > 0 ? \n                    <React.Fragment>\n                        <div>\n                            <DataTable \n                                value={datasets} \n                                selection={selectedDatasets} \n                                onSelectionChange={(e) => {setSelectedDatasets(e.value)}} \n                                paginator={true} \n                                rows={10} \n                                resizableColumns={true} \n                                scrollable={true} \n                                scrollHeight={'300px'}\n                            >\n                                {\n                                    !pending && <Column selectionMode=\"multiple\" style={{width: '40px', textAlign: 'center'}} />\n                                }\n                                <Column className='textField' field='name' header='Name' style={{width:'150px'}} body={nameColumnTemplate} sortable={true} />\n                                <Column className='textField' field='dataset.name' header='Dataset' style={{width:'100px'}} sortable={true} />\n                                <Column className='textField' field='datasetType.label' header='Dataset Type' style={{width:'100px'}} sortable={true} />\n                                {\n                                    !pending && <Column field='canonical' body={canonicalTemplate} style={{width:'90px', textAlign: 'center'}} header='Canonical' />\n                                }\n                                {\n                                    !pending && <Column field='downloadLink' body={downloadTemplate} style={{width:'90px', textAlign: 'center'}} header='Download' />\n                                }\n                                <Column field='private' body={privateTemplate} style={{width:'60px', textAlign: 'center'}} header='Private' /> \n                            </DataTable>\n                        </div>\n                        <div className='footer'>\n                        { \n                            !pending && \n                            <Button \n                                label={btnLabel} \n                                onClick={(e) => {\n                                    e.preventDefault();\n                                    setDialogVisible(true);\n                                }} \n                                disabled={btnDisabled} \n                            /> \n                        } \n                        </div>\n                    </React.Fragment> \n                    : \n                    <p>None</p>\n                }\n            </div>\n            <div>\n                <Dialog \n                    header='Removing Dataset(s)'\n                    footer={dialogFooter} \n                    visible={dialogVisible} \n                    style={{width: '300px'}} \n                    modal={true} \n                    onHide={onHide}\n                >\n                    Are you sure you would like to remove the selected Dataset(s) from the saved list?\n                </Dialog>\n            </div>\n        </StyledUserDataset>\n    );\n}\n\nexport default UserDataset;","import React, {useState, useEffect, useContext} from 'react';\nimport axios from 'axios';\nimport styled from 'styled-components';\n\nimport { AuthContext } from '../../hooks/Context';\nimport UserInfo from './subcomponents/UserInfo';\nimport UserDataset from './subcomponents/UserDataset';\n\nconst StyledProfile = styled.div`\n    width: 100%;\n`;\n\nconst Profile = () =>{\n    const auth = useContext(AuthContext);\n    const [savedDatasets, setSavedDatasets] = useState([]);\n    const [inProcessDatasets, setInProcessDatasets] = useState([]);\n\n    useEffect(() => {\n        const initialize = async () => {\n            const res = await axios.get(`/api/user/dataset/list?username=${auth.user.username}`);\n            console.log(res.data);\n            let complete = res.data.filter(itme => itme.status === 'complete');\n            let pending = res.data.filter(itme => itme.status !== 'complete');\n            setSavedDatasets(complete);\n            setInProcessDatasets(pending);\n        }\n        initialize();\n    }, []);\n\n    const removeFromSavedList = async (selectedDatasets) => {\n        let datasetId = selectedDatasets.map(item => (item._id));\n        try{\n            await axios.post('/api/user/dataset/remove', {username: auth.user.username, datasetId: datasetId});\n            let updated = savedDatasets.filter(item => !datasetId.includes(item._id));\n            setSavedDatasets(updated);\n        }catch(err){\n            console.log(err);\n        }\n    }\n\n    return(\n        <div className='pageContent'>\n            <StyledProfile>\n                <UserInfo />\n                <UserDataset \n                    heading='Saved Datasets' \n                    btnLabel='Remove from List' \n                    datasets={savedDatasets} \n                    handleBtnClick={removeFromSavedList}\n                />\n                <UserDataset \n                    heading='Dataset Requests in Process'\n                    datasets={inProcessDatasets} \n                    pending={true}\n                />\n            </StyledProfile>\n        </div>\n    );\n}\n\nexport default Profile;","import React, {useState, useEffect, useContext} from 'react';\nimport PSetTable from '../SearchRequest/PSet/PSetTable';\nimport {Messages} from 'primereact/messages';\nimport {Button} from 'primereact/button';\nimport styled from 'styled-components';\nimport {trackPromise} from 'react-promise-tracker';\nimport Loader from 'react-loader-spinner';\nimport { AuthContext } from '../../hooks/Context';\n\nconst MenuContainer = styled.div`\n    display: flex;\n    align-items: center;\n    button {\n        margin-left: 20px;\n    }\n`\n\nconst Admin = () => {\n    \n    const auth = useContext(AuthContext);\n\n    const [data, setData] = useState({ready: false, psets: []})\n    const [selected, setSelected] = useState([])\n\n    useEffect(() => {\n        const getData = async () => {\n            const res = await trackPromise(fetch('/api/pset/search', {\n                method: 'POST',\n                body: JSON.stringify({parameters: {status: 'complete'}}),\n                headers: {'Content-type': 'application/json'}\n            }));\n            const json = await res.json()\n            console.log(json);\n            setSelected(json.filter(p => {return p.canonical}))\n            setData({ready: true, psets: json})\n        }\n        getData()\n    }, [])\n\n    const updateCanonicalPSets = async (event) => {\n        event.preventDefault()\n        setData({...data, ready: false})\n        await trackPromise(fetch('/api/pset/canonical/update', {\n            method: 'POST',\n            body: JSON.stringify({selected: selected}),\n            headers: {'Content-type': 'application/json'}\n        }));\n        const res = await trackPromise(fetch('/api/pset/search', {\n            method: 'POST',\n            body: JSON.stringify({parameters: {status: 'complete'}}),\n            headers: {'Content-type': 'application/json'}\n        }));\n        const json = await res.json();\n        setSelected(json.filter(p => {return p.canonical}));\n        setData({ready: true, psets: json});\n    }\n\n    const handleSelectionChange = (selection) => {\n        console.log(selection);\n        setSelected(selection);\n    }\n    \n    return(\n        <div className='pageContent'>\n            <h2>Administrator's Menu</h2>\n            <Messages ref={(el) => Admin.messages = el} />\n            <MenuContainer>\n                <h3>Update Canonical PSets</h3>\n                <Button label='Update' type='submit' onClick={updateCanonicalPSets} />\n            </MenuContainer>\n            {\n                data.ready ?\n                <PSetTable \n                    psets={data.psets} selectedPSets={selected} \n                    updatePSetSelection={handleSelectionChange} scrollHeight='600px'\n                    authenticated={auth.user ? true : false}\n                    download={false}\n                /> \n                :\n                <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n            }\n        </div>\n    )\n}\n\nexport default Admin","import React, { useRef, useEffect } from 'react';\nimport { Messages } from 'primereact/messages';\nimport styled from 'styled-components';\n\nconst StyledMessages = styled(Messages)`\n    .p-message {\n        font-size: 12px;\n        .p-message-icon {\n            font-size: 18px;\n            font-weight: bold;\n        }\n        .p-message-summary {\n            font-size: 14px;\n            font-weight: bold;\n            padding-right: 10px;\n        }\n    }\n`;\n\nconst CustomMessages = (props) => {\n    const { trigger, message } = props;\n    const messages = useRef(null);\n\n    useEffect(() => {\n        if(trigger){\n            messages.current.show([\n                { \n                    severity: message.severity, \n                    summary: message.summary, \n                    detail: message.detail, \n                    sticky: message.sticky \n                }\n            ]);\n        }\n    }, [trigger]);\n\n    return(\n        <StyledMessages ref={messages} />\n    );\n}\n\nexport default CustomMessages;","import styled from 'styled-components'; \n\nconst StyledLoginForm = styled.div`\n    width: 400px;\n    margin-left: auto;\n    margin-right: auto;\n    background-color:rgb(255, 255, 255,0.5);\n    border-radius: 10px;\n    padding-top: 10px;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-bottom: 30px;\n    margin-top: 200px;\n\n    label {\n        font-size: 12px;\n    }\n\n    .message {\n        color: red;\n        font-size: 12px;\n    }\n\n    .emailInput{\n        display: flex;\n        align-items: center;\n        .p-inputtext {\n            font-size: 12px;\n            margin-right: 10px;\n            width: 80%;\n        }\n        .p-button.p-button-text-icon-left .p-button-text {\n            padding: 0.3em 0.5em 0.3em 2.0em;\n        }\n    }\n\n    .pwdInput{\n        width: 80%;\n        margin-bottom: 20px;\n    }\n\n    .forgotPasswordBtn{\n        background: none;\n        outline: none;\n        border: none;\n        cursor: pointer;\n        color: #3D405A;\n        text-decoration: underline;\n    }\n`;\n\nexport default StyledLoginForm;","import React, { useState } from 'react';\nimport axios from 'axios';\n\nimport {Button} from 'primereact/button';\nimport {InputText} from 'primereact/inputtext';\nimport {Messages} from 'primereact/messages';\nimport CustomMessages from '../Shared/CustomMessages';\nimport StyledAuthForm from './StyledAuthForm';\n\nimport useAuth from '../../hooks/useAuth';\n\nconst errorMessage = { \n    severity: 'error', \n    summary: 'Login Failed', \n    detail: 'Please try again with correct credentials.', \n    sticky: true \n};\n\nconst Authentication = (props) => {\n    const { location } = props;\n    const { submitUser, error } = useAuth();\n\n    const [user, setUser] = useState({\n        username: '',\n        password1: '',\n        password2: '',\n        action: ''\n    });\n\n    const findUser = async (e) => {\n        e.preventDefault();\n        setUser({...user, action: ''});\n        const res = await axios.get(`/api/user/find/?username=${user.username}`);\n        console.log(res.data);\n        setUser({...user, action: res.data.action});\n    }\n\n    const onResetClick = async (event) => {\n        event.preventDefault();\n        console.log('reset click');\n        const res = await axios.post('/api/user/reset/email', { email: user.username} );\n        if(res.ok){\n            Authentication.messages.show({severity: 'success', summary: 'Email has been sent.', detail: 'Please follow the link in the email to reset your password.'});\n        }else{\n            Authentication.messages.show({severity: 'error', summary: 'An error occurred', detail: res.data.message});\n        }\n    }\n\n    const disableFind = () => {\n        const regex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n        return !regex.test(user.username);\n    }\n\n    const disableSubmit = () => {\n        const regex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n        switch(user.action){\n            case 'login':\n                return(user.password1.length < 6 || !regex.test(user.username));\n            case 'register':\n                return(\n                    user.password1.length < 6 ||\n                    user.password1.localeCompare(user.password2) !== 0 ||\n                    !regex.test(user.username)\n                );\n            default:\n                return true;\n        }\n    }\n\n    return(\n        <div className='pageContent'>\n            <StyledAuthForm>\n                <h3>Login / Register</h3>\n                <Messages ref={(el) => Authentication.messages = el}></Messages>\n                <CustomMessages trigger={error} message={errorMessage} />\n                <h5>Enter your email:</h5>\n                <div className='emailInput'>\n                    <InputText \n                        type='email' \n                        name='email' \n                        value={user.username} \n                        onChange={(e) => {setUser({...user, username: e.target.value})}} \n                    />\n                    <Button \n                        className='btnLoginFind' \n                        label='Find' \n                        icon=\"pi pi-arrow-right\" \n                        onClick={findUser} disabled={disableFind()} \n                    />\n                </div>\n                {\n                    user.action.length > 0 &&\n                    <React.Fragment>\n                        <h4>{user.action === 'login' ? '' : 'Please register:'}</h4>\n                        <div className='message'>Password needs to be at least 6 characters in length</div>\n                        <InputText \n                            className='pwdInput' \n                            type='password' \n                            value={user.password1} \n                            onChange={(e) => {setUser({...user, password1: e.target.value})}}\n                        />\n                        {\n                            user.action === 'register' &&\n                            <div>\n                                <label>Confirm your password:</label>\n                                <InputText \n                                    className='pwdInput' \n                                    type='password' \n                                    value={user.password2} \n                                    onChange={(e) => {setUser({...user, password2: e.target.value})}}\n                                />\n                            </div>\n                        }\n                        <div>\n                            <Button \n                                label={user.action === 'login' ? 'Login' : 'Register'}  \n                                onClick={(e) => {\n                                    e.preventDefault();\n                                    submitUser(user, location);\n                                }} \n                                disabled={disableSubmit()}\n                            />\n                        </div>\n                        <div>\n                            <button className='forgotPasswordBtn' onClick={onResetClick}>Reset your password</button>\n                        </div>\n                    </React.Fragment> \n                }\n            </StyledAuthForm>   \n        </div>\n    );\n}\n\nexport default Authentication;","import React, {useState, useEffect} from 'react';\nimport {InputText} from 'primereact/inputtext';\nimport {Button} from 'primereact/button';\nimport {Messages} from 'primereact/messages';\nimport StyledAuthForm from './StyledAuthForm';\n\nconst Reset = (props) => {\n\n    const [email, setEmail] = useState('')\n    const [password1, setPassword1] = useState('')\n    const [password2, setPassword2] = useState('')\n    const [btnDisabled, setBtnDisabled] = useState(true)\n\n    useEffect(() => {\n        const regex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n        (password1.length >= 6 && password1 === password2 && regex.test(email)) ? setBtnDisabled(false) : setBtnDisabled(true)\n    }, [email, password1, password2])\n\n    const onResetClick = async (event) => {\n        event.preventDefault()\n        const res = await fetch('/api/user/reset/token', {\n            method: 'POST',\n            body: JSON.stringify({\n                user: { \n                    username: email, \n                    password: password1,\n                    token: props.match.params.token \n                }   \n            }),\n            headers: { 'Content-type': 'application/json' }\n        })\n        const data = await res.json()\n        console.log(data)\n        if(data.status){\n            Reset.messages.show({severity: 'success', summary: 'Password has been reset', detail: 'Please login using your new password.'});\n        }else{\n            Reset.messages.show({severity: 'error', summary: 'Password could not be reset', detail: data.message});\n        }\n    }\n    \n    return(\n        <div className='pageContent'>\n            <StyledAuthForm>\n                <h3>Reset Password</h3>\n                <Messages ref={(el) => Reset.messages = el}></Messages>\n                <div className='emailInput'>\n                    <label>Email:</label>\n                    <InputText type='email' name='email' value={email} onChange={(e) => {setEmail(e.target.value)}}/>\n                </div>\n                <div className='formContainer'>\n                    <h4>Enter new password</h4>\n                    <div>\n                        <div className='pwdMsg'>Password needs to be at least 6 characters in length</div>\n                        <InputText className='pwdInput' type='password' name='password1' value={password1} onChange={(e) => {setPassword1(e.target.value)}}/>\n                    </div>\n                    <div>\n                        <label>Confirm new password:</label>\n                        <InputText className='pwdInput' type='password' name='password2' value={password2} onChange={(e) => {setPassword2(e.target.value)}}/>\n                    </div>\n                    <div>\n                        <Button label='Reset' onClick={onResetClick} disabled={btnDisabled}/>\n                    </div>\n                </div>\n            </StyledAuthForm> \n        </div>\n    );\n}\n\nexport default Reset","import React, {useState, useEffect} from 'react';\nimport { Accordion, AccordionTab } from 'primereact/accordion';\nimport { Link } from 'react-router-dom';\nimport styled from 'styled-components';\nimport {dataTypes} from '../Shared/Enums';\n\nconst StyledContainer = styled.div`\n    margin-bottom: 20px;\n    border-radius: 10px;\n    padding-top: 5px;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-bottom: 30px;\n    background-color: rgba(255, 255, 255, 0.8);\n`\n\nconst StyledTable = styled.table`   \n    margin-left: 30px;\n    margin-bottom: 10px;\n    .psetName {\n        font-size: 16px;\n    }\n    .rnaRefColumn {\n        width: 30%;\n    }\n    td {\n        width: 20%;\n        margin: 0;\n        padding-right: 50px;\n        padding-bottom: 10px;\n        font-size: 14px;\n        font-family: arial, san-serif;\n    }\n    td .bold {\n        font-weight: bold;\n    }\n`\n\nconst NonCanonDiv = styled.div`\n    margin-left: 30px;\n    width: 60%;\n`\n\nconst NonCannonTable = styled.table`\n    td {\n        margin: 0;\n        padding-right: 30px;\n        padding-bottom: 10px;\n    }\n`\n\nconst PSetContainer = styled.div`\n    margin-bottom: 30px;\n    padding-bottom: 30px;\n    border-bottom: 1px solid #999999;\n`\n\nconst CanonicalPSets = (props) => {\n    \n    const [canonPSets, setCanonPSets] = useState([])\n    \n    useEffect(() => {\n        const getData = async () => {\n            const res = await fetch('/api/canonical/pset')\n            const json = await res.json()\n            console.log(json)\n            setCanonPSets(json)\n        }\n        getData()\n    }, [])\n\n    const toolsRefTemplate = (array) => {\n        let output ='Not Available';\n        if(array.length){\n            output = array.map(item => <div key={item.name}>{item.label}</div>);\n        }\n        return(\n            <div>{output}</div>\n        );\n    }\n\n    const nameColumnTemplate = (data) => {\n        let route = `/${dataTypes.pharmacogenomics}/${data.doi}`;\n        return(\n            <Link to={route} target=\"_blank\">{data.name}</Link>\n        );\n    }\n\n    const canonTable = (psets) => (\n        <StyledTable>\n            <tbody>\n            {psets.map(pset => {\n                return(\n                    <tr key={pset.name}>\n                        <td className='psetName'>{nameColumnTemplate(pset)}</td>\n                        <td><div>Drug Sensitivity Data:</div> <span className='bold'>{pset.dataset.versionInfo}</span></td>\n                        <td>RNA Tools: <span className='bold'>{toolsRefTemplate(pset.rnaTool)}</span></td>\n                        <td className='rnaRefColumn'>RNA Ref: <span className='bold'>{toolsRefTemplate(pset.rnaRef)}</span></td>\n                    </tr>\n                )\n            })}\n            </tbody>\n        </StyledTable>    \n    )\n\n    const nonCanonTable = (psets) => (\n        <NonCannonTable>\n            <tbody>\n            {psets.map(pset => {\n                return(\n                    <tr key={pset.name}>\n                        <td className='psetName'>{nameColumnTemplate(pset)}</td>\n                        <td><div>Drug Sensitivity Data:</div> {pset.dataset.versionInfo}</td>\n                        <td>RNA Tools: {toolsRefTemplate(pset.rnaTool)}</td>\n                        <td className='rnaRefColumn'>RNA Ref: {toolsRefTemplate(pset.rnaRef)}</td>\n                    </tr>\n                )\n            })}\n            </tbody>\n        </NonCannonTable> \n    )\n\n    return(\n        <div className='pageContent'>\n            <h2>List of Canonical PSets (The Latest Version of PSets Created by BHK Lab)</h2>\n            <StyledContainer>\n            {\n                canonPSets.map(dataset => (\n                    <PSetContainer key={dataset.dataset}>\n                        <h4>{dataset.dataset}</h4>\n                        {canonTable(dataset.canonicals)}  \n                        {\n                            dataset.nonCanonicals.length ?\n                            <NonCanonDiv>\n                                <Accordion>\n                                    <AccordionTab header='Other Versions'>\n                                        {nonCanonTable(dataset.nonCanonicals)}\n                                    </AccordionTab>\n                                </Accordion>\n                            </NonCanonDiv>\n                            :\n                            ''\n                        }\n                    </PSetContainer>    \n                ))\n            }\n            </StyledContainer>\n        </div>\n    )\n}\n\nexport default CanonicalPSets","import React from 'react';\n\nconst NotFound404 = (props) => {\n\n    return(\n        <React.Fragment>\n            <div className='pageContent'>\n                <h2>The page you are looking for could not be found.</h2>\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default NotFound404;","import React, { useState } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { AuthContext, PathContext } from \"../hooks/Context\";\nimport useFindUser from '../hooks/useFindUser';\n\n// routes \nimport PrivateRoute from './PrivateRoute';\nimport AdminRoute from './AdminRoute';\n\n// navigation and footer\nimport Navigation from '../components/Navigation/Navigation';\nimport Footer from '../components/Footer/Footer';\n\n// views\nimport Main from '../components/Main/Main';\nimport DatasetMain from '../components/Main/DatasetMain';\nimport SearchRequest from '../components/SearchRequest/SearchRequest';\nimport SingleDataset from '../components/SingleDataset/SingleDataset';\nimport RequestStatus from '../components/RequestStatus/RequestStatus';\nimport Stats from '../components/Stats/Stats';\nimport Documentation from '../components/Documentation/Documentation';\nimport Profile from '../components/Profile/Profile';\nimport Admin from '../components/Admin/Admin';\nimport Authentication from '../components/Authentication/Authentication';\nimport Reset from '../components/Authentication/Reset';\nimport CanonicalPSets from '../components/CanonicalPSets/CanonicalPSets';\nimport NotFound404 from '../components/Shared/NotFound404';\n\nconst Router = () => {\n    /**\n     * Loads user data to AuthContext.\n     * Call find user hook as soon as the app is loaded, and routes are rendered. \n     * User is null if token is invalid, or not logged in.\n     */\n    const { user, setUser, loading } = useFindUser();\n    const [datatype, setDatatype] = useState('');\n\n    return(\n        <AuthContext.Provider value={{user, setUser, loading}}>\n            <PathContext.Provider value={{datatype: datatype, setDatatype: setDatatype}}>\n                <Navigation />\n                <Switch>\n                    <Route exact path ='/' component={Main} /> \n                    <Route exact path ='/:datatype' render={(props) => (<DatasetMain {...props} />)} /> \n                    <Route exact path ='/:datatype/search' render={(props) => (<SearchRequest {...props}  />)}/>\n                    <Route path='/:datatype/:id1/:id2' render={(props) => (<SingleDataset {...props} />)} />\n                    <Route path='/:datatype/canonical' component={CanonicalPSets} /> \n                    <Route exact path ='/:datatype/status' component={RequestStatus}/>\n                    <Route exact path ='/:datatype/stats' component={Stats}/>\n                    <Route exact path ='/documentation/:section' component={Documentation} />\n                    <Route exact path='/app/authentication' component={Authentication} />\n                    <Route path ='/reset/:token' component={Reset} />\n                    <PrivateRoute path='/app/profile' component={Profile} redirect='/app/authentication' />\n                    <AdminRoute path='/admin' component={Admin} redirect='/app/profile' />\n                    <Route component={NotFound404}/>\n                </Switch>\n                <Footer />\n            </PathContext.Provider>\n        </AuthContext.Provider>\n    );\n}\n\nexport default Router;","import React, {useEffect} from 'react';\nimport ReactGA from 'react-ga';\nimport './styles/prime-style.css';\nimport GlobalStyles from './styles/GlobalStyles';\nimport Router from './Routes/Router';\n\nconst App = () => {\n\t\n\t// Google Analytics set up\n\tuseEffect(() => {\n\t\tReactGA.initialize('UA-102362625-2')\n\t\tReactGA.pageview(window.location.pathname + window.location.search)\n\t}, [])\n\t\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<GlobalStyles />\n\t\t\t<Router />\n\t\t</React.Fragment>\n\t)\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './components/serviceWorker';\n\nReactDOM.render((\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n), document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}