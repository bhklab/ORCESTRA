(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{107:function(e,t,a){},135:function(e,t,a){},136:function(e,t,a){},138:function(e,t,a){},143:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},171:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},175:function(e,t,a){},176:function(e,t,a){},178:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),c=a.n(l),s=(a(79),a(80),a(81),a(82),a(52)),i=(a(85),a(86),a(15)),o=a(16),u=a(19),m=a(17),d=a(18),p=a(28),h=Object(n.createContext)(),f=a(1),b=a.n(f),E=a(4),v=a(2),g=a(7),y=a(9),S=(a(89),a(63)),O=Object(p.g)((function(e){var t=Object(n.useContext)(h),a=Object(n.useState)(!1),l=Object(v.a)(a,2),c=l[0],s=l[1],i=e.location,o=e.history;Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/pachyderm/status");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,s(a.isOnline);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var u=function(e){e.preventDefault(),o.push({pathname:"/Authentication",state:{path:i.pathname}})},m=function(e){e.preventDefault(),fetch("/api/user/logout/:"+t.username).then((function(e){t.resetAuthToken(),o.push({pathname:"/Authentication",state:{path:i.pathname,logoutMsg:"You have logged out"}})}))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement(g.c,{exact:!0,to:"/"},r.a.createElement("img",{src:"/images/trumpet-orcestra.png",alt:""})),r.a.createElement("div",{className:"navBarContainer"},r.a.createElement("div",{className:"navBar"},r.a.createElement("div",null,r.a.createElement(g.c,{exact:!0,to:"/",activeClassName:"active-link"},"Home")),r.a.createElement("div",null,r.a.createElement(g.c,{exact:!0,to:"/PSetSearch",activeClassName:"active-link"},"Search and Request")),r.a.createElement("div",null,r.a.createElement(g.c,{exact:!0,to:"/Dashboard",activeClassName:"active-link"},"Request Status")),r.a.createElement("div",null,r.a.createElement(g.c,{exact:!0,to:"/Stats",activeClassName:"active-link"},"Statistics")),r.a.createElement("div",null,r.a.createElement(g.c,{exact:!0,to:"/Documentation/overview",activeClassName:"active-link"},"Documentation")),t.authenticated&&r.a.createElement("div",{className:"menu-item"},r.a.createElement(g.c,{exact:!0,to:"/Profile",activeClassName:"active-link"},"Profile")),r.a.createElement("div",null,t.authenticated?r.a.createElement(y.Button,{label:"Logout",onClick:m}):r.a.createElement(y.Button,{label:"Login/Register",onClick:u})),r.a.createElement("div",null,c?r.a.createElement("div",{className:"pachydermStatus isOnline"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("div",{className:"text"},"Pachyderm is ",r.a.createElement("br",null),"online")):r.a.createElement("span",{className:"pachydermStatus isOffline"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"pi pi-ban"})),r.a.createElement("div",{className:"text"},"Pachyderm is ",r.a.createElement("br",null),"offline")))),r.a.createElement("div",{className:"burgerNav"},r.a.createElement(S.slide,{width:200,isOpen:!0},r.a.createElement("div",{className:"menu-item"},r.a.createElement(g.c,{exact:!0,to:"/",activeClassName:"active-link"},"Home")),r.a.createElement("div",{className:"menu-item"},r.a.createElement(g.c,{exact:!0,to:"/PSetSearch",activeClassName:"active-link"},"Search and Request")),r.a.createElement("div",null,r.a.createElement(g.c,{exact:!0,to:"/Dashboard",activeClassName:"active-link"},"Request Status")),r.a.createElement("div",null,r.a.createElement(g.c,{exact:!0,to:"/Documentation",activeClassName:"active-link"},"Documentation")),t.authenticated&&r.a.createElement("div",{className:"menu-item"},r.a.createElement(g.c,{exact:!0,to:"/Profile",activeClassName:"active-link"},"Profile")),r.a.createElement("div",{className:"menu-item"},t.authenticated?r.a.createElement(y.Button,{label:"Logout",onClick:m}):r.a.createElement(y.Button,{label:"Login/Register",onClick:u})),r.a.createElement("div",null,c?r.a.createElement("div",{className:"pachydermStatus isOnline"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"pi pi-check"})),r.a.createElement("div",{className:"text"},"Pachyderm is ",r.a.createElement("br",null),"online")):r.a.createElement("span",{className:"pachydermStatus isOffline"},r.a.createElement("div",{className:"icon"},r.a.createElement("i",{className:"pi pi-ban"})),r.a.createElement("div",{className:"text"},"Pachyderm is ",r.a.createElement("br",null),"offline")))))),r.a.createElement("div",{className:"loggedIn"},t.authenticated?"Logged in as: "+t.username:"")))})),w=(a(107),function(e){return r.a.createElement("div",{className:"appFooter"},r.a.createElement("div",{className:"footerContainer"},r.a.createElement("div",{className:"footerMenu footerLinks"},r.a.createElement("h3",null,"Menu"),r.a.createElement(g.c,{exact:!0,to:"/PSetSearch"},"Search and Request"),r.a.createElement(g.c,{exact:!0,to:"/Dashboard"},"Request Status"),r.a.createElement(g.c,{exact:!0,to:"/Stats"},"Statistics")),r.a.createElement("div",{className:"footerSupport footerLinks"},r.a.createElement("h3",null,"Support"),r.a.createElement(g.c,{exact:!0,to:"/Documentation/overview"},"Documentation"),r.a.createElement(g.c,{exact:!0,to:"/Documentation/datacontribution"},"Contributing your data"),r.a.createElement("a",{href:"https://github.com/bhklab"},"GitHub"),r.a.createElement("a",{href:"https://bhklab.ca/"},"BHKLab")),r.a.createElement("div",{className:"footerContact"},r.a.createElement("h3",null,"BHKLab"),r.a.createElement("div",{className:"contactInfo"},"The MaRS center",r.a.createElement("br",null),"101 College St, Toronto ON"," ",r.a.createElement("br",null),"TMDT RM 11-310"))))}),N=a(44),x=function(e){var t=e.component,a=Object(N.a)(e,["component"]),l=Object(n.useContext)(h);return r.a.createElement(p.b,Object.assign({},a,{render:function(e){return!0===l.authenticated?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:a.redirect,state:{path:e.location.pathname}}})}}))},j=function(e){var t=e.component,a=Object(N.a)(e,["component"]),l=Object(n.useContext)(h);return console.log(a),console.log(l),r.a.createElement(p.b,Object.assign({},a,{render:function(e){return!0===l.isAdmin?r.a.createElement(t,e):r.a.createElement(p.a,{to:{pathname:a.redirect,state:{from:e.location}}})}}))},C=a(10),P=a(33),k=a(11),D=a(36),T=a(29),R=a(14),I=a(5),A=a(6);function q(){var e=Object(I.a)(["\n    width: 100%;\n    margin-top: 10px;\n    margin-bottom: 30px;\n    h4 {\n        margin-left: 20px;\n        font-size: 14px;\n        max-width: 90%;\n    }\n"]);return q=function(){return e},e}function M(){var e=Object(I.a)(["\n    margin-top: 30px;\n    margin-bottom: 50px;\n    h3 {\n        font-size: 16px;\n    }\n    .subContent {\n        margin-left: 20px;\n        font-size: 14px;\n        max-width: 90%;\n    }\n"]);return M=function(){return e},e}function F(){var e=Object(I.a)(["\n    margin-left: 40px;\n    margin-right: 20px;\n"]);return F=function(){return e},e}function B(){var e=Object(I.a)(["\n    margin-left: 20px;\n"]);return B=function(){return e},e}function L(){var e=Object(I.a)(["\n    width: 100%;\n"]);return L=function(){return e},e}var H=A.a.div(L()),z=A.a.h1(B()),_=A.a.div(F()),V=A.a.div(M()),J=Object(A.a)(R.Accordion)(q()),U=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.items.map((function(e){return r.a.createElement(R.AccordionTab,{key:e.name,header:e.name},e.commands.length?r.a.createElement("ul",null,e.commands.map((function(e){return r.a.createElement("li",{key:e},e)}))):"Not Available")}));return this.props.items.length?r.a.createElement(R.Accordion,{multiple:!0},e):r.a.createElement("div",{className:"subContent"},"Not Available")}}]),t}(r.a.Component),Y=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.items.map((function(e){return r.a.createElement(R.AccordionTab,{key:e.name,header:e.name},r.a.createElement("ul",null,r.a.createElement("li",{className:"listItem-1"},r.a.createElement("div",null,e.name.length?e.name:"Currently not available"),r.a.createElement("div",null,e.source.length?r.a.createElement("a",{href:e.source},e.source):"Currently not available"))))}));return this.props.items.length?r.a.createElement(R.Accordion,{multiple:!0},e):r.a.createElement("div",{className:"subContent"},"Not Available")}}]),t}(r.a.Component),G=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.items.map((function(e){return r.a.createElement(R.AccordionTab,{key:e.name,header:e.name},r.a.createElement("ul",null,r.a.createElement("li",{className:"listItem-1"},r.a.createElement("div",null,e.name.length?e.name:"Currently not available"),r.a.createElement("div",null,e.source.length?r.a.createElement("a",{href:e.source},e.source):"Currently not available")),r.a.createElement("li",{className:"listItem-1"},r.a.createElement("div",null,e.cosmic.name),r.a.createElement("div",null,r.a.createElement("a",{href:e.cosmic.source},e.cosmic.source)," ")),r.a.createElement("li",{className:"listItem-1"},r.a.createElement("div",null,e.exonTarget.name),r.a.createElement("div",null,r.a.createElement("a",{href:e.exonTarget.source},e.exonTarget.source)))))}));return this.props.items.length?r.a.createElement(R.Accordion,{multiple:!0},e):r.a.createElement("div",{className:"subContent"},"Not Available")}}]),t}(r.a.Component),W=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e="http://doi.org/"+this.props.data.doi;return r.a.createElement(J,{className:"generalInfoAccordion"},r.a.createElement(R.AccordionTab,{header:"General Information"},r.a.createElement("h4",null,"PSet Name: ",this.props.data.name),r.a.createElement("h4",null,"DOI:  ",r.a.createElement("a",{href:e,target:"_blank"},this.props.data.doi)),r.a.createElement("h4",null,"Date Created: ",this.props.data.dateCreated.split("T")[0]),this.props.data.createdBy&&r.a.createElement("h4",null,"Created By ",this.props.data.createdBy)))}}]),t}(r.a.Component),K=function(e){var t=e.dataset.map((function(e){return r.a.createElement(T.TabPanel,{key:e.label,header:e.label},r.a.createElement("div",{className:"mainTabContent"},r.a.createElement(R.Accordion,{multiple:!0},e.versions.map((function(e){return r.a.createElement(R.AccordionTab,{key:e.version,header:e.version},r.a.createElement("div",{className:"tabContentSection"},r.a.createElement("h3",null,"Drug Sensitivity"),r.a.createElement("h4",{className:"subContent"},"Version: ",e.drugSensitivity.version),r.a.createElement("h4",{className:"subContent"},"Source: ",e.drugSensitivity.source?r.a.createElement("a",{href:e.drugSensitivity.source},e.drugSensitivity.source):"Not available")),r.a.createElement("div",{className:"tabContentSection"},r.a.createElement("h3",null,"Publication: "),r.a.createElement("ul",null,r.a.createElement("div",null,e.publication.length?e.publication.map((function(e){return r.a.createElement("li",{key:e.link,className:"pubList"},r.a.createElement("div",{className:"subContent"},e.citation),r.a.createElement("br",null),r.a.createElement("div",{className:"subContent"},r.a.createElement("a",{href:e.link},e.link)))})):r.a.createElement("div",{className:"subContent"},"Not available.")))))})))))}));return r.a.createElement(D.Dialog,{header:"Dataset Overview",visible:e.visible,onHide:e.onHide,style:{minWidth:"50vw",minHeight:"30vh"}},r.a.createElement(T.TabView,null,t))},$=function(e){return r.a.createElement(D.Dialog,{header:"RNA Pipeline Overview",visible:e.visible,onHide:e.onHide,style:{minWidth:"50vw",minHeight:"30vh"}},r.a.createElement(T.TabView,{renderActiveOnly:!1},r.a.createElement(T.TabPanel,{key:"rnaTools",header:"RNA Tools"},r.a.createElement("h3",null,"Available RNA Pipeline Tools"),r.a.createElement(U,{items:e.rna.tool})),r.a.createElement(T.TabPanel,{key:"rnaRef",header:"RNA References"},r.a.createElement("h3",null,"Available RNA Transcriptome References"),r.a.createElement(Y,{items:e.rna.ref}))))},X=function(e){return r.a.createElement(D.Dialog,{header:"DNA Sequence Alignment Overview",visible:e.visible,onHide:e.onHide,style:{minWidth:"50vw",minHeight:"30vh"}},r.a.createElement(T.TabView,{renderActiveOnly:!1},r.a.createElement(T.TabPanel,{key:"dnaTools",header:"DNA Tools"},r.a.createElement("h3",null,"Available DNA Pipeline Tools"),r.a.createElement(U,{items:e.dna.tool})),r.a.createElement(T.TabPanel,{key:"dnaRef",header:"DNA References"},r.a.createElement("h3",null,"Available DNA Exome References"),r.a.createElement(G,{items:e.dna.ref}))))},Z=(a(135),function(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)({dataset:[],rnaTool:[],dnaTool:[],rnaRef:[],dnaRef:[]}),i=Object(v.a)(s,2),o=i[0],u=i[1],m=Object(n.useState)({pending:0,inProcess:0}),d=Object(v.a)(m,2),p=d[0],h=d[1],f=Object(n.useState)(!1),y=Object(v.a)(f,2),S=y[0],O=y[1],w=Object(n.useState)(!1),N=Object(v.a)(w,2),x=N[0],j=N[1],D=Object(n.useState)(!1),T=Object(v.a)(D,2),R=T[0],I=T[1];Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n,r,l,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return a=e.sent,e.next=5,a.json();case 5:for(n=e.sent,r=n.form.dataset,l=0,s=0;s<r.length;s++)l+=r[s].versions.length;c(n.pset),u(Object(C.a)({},n.form,{versionCombo:l})),h(n.dashboard);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()("/api/landing/data")}),[]);var A=function(e){switch(e){case"dataset":O(!0);break;case"rna":j(!0);break;case"dna":I(!0)}},q=function(e){switch(e){case"dataset":O(!1);break;case"rna":j(!1);break;case"dna":I(!1)}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mainContent"},r.a.createElement("div",{className:"home"},r.a.createElement("h1",null,"ORCESTRA"),r.a.createElement("h2",null,"Orchestration platform for reproducing pharmacogenomic analyses"),r.a.createElement("div",{className:"mainMenuRow"},r.a.createElement("div",{className:"mainMenuColumn"},r.a.createElement("div",{className:"mainMenuItem"},r.a.createElement("h3",null,"Search and Request PSets"),r.a.createElement("div",{className:"mainMenuItemContent"},r.a.createElement("div",null,"Design your own PSet using:"),r.a.createElement("div",{className:"mainMenuItemLine"},r.a.createElement("div",{className:"largeNum"},r.a.createElement("button",{onClick:function(){A("dataset")}},o.versionCombo))," ",r.a.createElement("div",null,"Dataset/Drug sensitivity combinations")),r.a.createElement("div",{className:"mainMenuItemLine"},r.a.createElement("span",{className:"largeNum"},r.a.createElement("button",{onClick:function(){A("rna")}},o.rnaTool.length))," ",r.a.createElement("span",null,"RNA pipelines.")),r.a.createElement("div",{className:"mainMenuLink"},r.a.createElement("a",{className:"button",href:"/PSetSearch"},"Search and Request"))))),r.a.createElement("div",{className:"mainMenuColumn"},r.a.createElement("div",{className:"mainMenuItem",style:{alignSelf:"flex-start"}},r.a.createElement("h3",null,"Canonical PSets"),r.a.createElement("div",{className:"mainMenuItemContent"},r.a.createElement("div",null,"The latest version of PSets created by BHK Lab."),r.a.createElement("div",{className:"mainMenuLink"},r.a.createElement("a",{className:"button",href:"/Canonical"},"View Canonical PSets")))),r.a.createElement("div",{className:"mainMenuItem",style:{alignSelf:"flex-start"}},r.a.createElement("h3",null,"View PSet Request Status"),r.a.createElement("div",{className:"mainMenuItemContent"},r.a.createElement("div",null,"ORCESTRA is processing following requests:"),r.a.createElement("div",{className:"mainMenuItemLine"},r.a.createElement("span",{className:"largeNum"},p.pending)," ",r.a.createElement("span",null,"Requests in queue.")),r.a.createElement("div",{className:"mainMenuItemLine"},r.a.createElement("span",{className:"largeNum"},p.inProcess)," ",r.a.createElement("span",null,"Requests in process.")),r.a.createElement("div",{className:"mainMenuLink"},r.a.createElement("a",{className:"button",href:"/Dashboard"},"View Dashboard"))))),r.a.createElement("div",{className:"mainMenuColumn"},r.a.createElement("div",{className:"mainMenuItem"},r.a.createElement("h3",null,"Top 5 Popular PSets"),r.a.createElement("div",{className:"mainMenuItemContent"},r.a.createElement(P.DataTable,{value:l},r.a.createElement(k.Column,{className:"textField",field:"download",header:"Download"}),r.a.createElement(k.Column,{className:"textField",field:"name",header:"Name",body:function(e,t){var a="/"+e.doi;return r.a.createElement(g.b,{to:a},e.name)}})),r.a.createElement("div",{className:"mainMenuLink"},r.a.createElement("a",{className:"button",href:"/Stats"},"View Statistics")))),r.a.createElement("div",{className:"mainMenuItem"},r.a.createElement("h3",null,"Generate PSets with Your Data"),r.a.createElement("div",{className:"mainMenuItemContent"},r.a.createElement("p",null,r.a.createElement("b",null,"You can generate PSets using your own datasets.")," ",r.a.createElement("br",null),"For more information, please read about ",r.a.createElement("a",{href:"/Documentation/datacontribution"},"contributing your data"),"."))))))),r.a.createElement(K,{visible:S,onHide:function(){q("dataset")},dataset:o.dataset}),r.a.createElement($,{visible:x,onHide:function(){q("rna")},rna:{tool:o.rnaTool,ref:o.rnaRef}}),r.a.createElement(X,{visible:R,onHide:function(){q("dna")},dna:{tool:o.dnaTool,ref:o.dnaRef}}))}),Q=(a(136),a(68)),ee=(a(138),a(69)),te=a(41),ae=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=function(e){return r.a.createElement("div",{className:""},r.a.createElement("span",{style:{fontSize:"1em",margin:"1em .5em 0 0"}},e.label))};return this.props.isHidden?null:this.props.selectOne?r.a.createElement("div",{className:"filterSet"},r.a.createElement("label",null,this.props.parameterName),r.a.createElement(te.Dropdown,{id:this.props.id,className:"paramInput",optionLabel:"label",value:this.props.selectedParameter,options:this.props.parameterOptions,onChange:this.props.handleUpdateSelection,filter:!0,itemTemplate:e,placeholder:"Select one...",disabled:this.props.disabled})):r.a.createElement("div",{className:"filterSet"},r.a.createElement("label",null,this.props.parameterName),r.a.createElement(ee.MultiSelect,{id:this.props.id,className:"paramInput",optionLabel:"label",value:this.props.selectedParameter,options:this.props.parameterOptions,onChange:this.props.handleUpdateSelection,filter:!0,itemTemplate:e,selectedItemTemplate:function(e){return e?r.a.createElement("div",{className:"my-multiselected-item-token"},r.a.createElement("span",null,e.label)):r.a.createElement("span",null,"Select...")},disabled:this.props.disabled}))}}]),t}(r.a.Component),ne=(a(143),function(){var e=Object(n.useContext)(fe),t=Object(n.useRef)(),a=Object(n.useRef)(),l=Object(n.useState)(!1),c=Object(v.a)(l,2),s=c[0],i=c[1];Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/formData");case 2:return n=e.sent,e.next=5,n.json();case 5:r=e.sent,console.log(r),t.current=r,t.current.drugSensOptions=[],t.current.disableDrugSensOptions=!0,t.current.disableToolRefOptions=!1,t.current.hideDataTypeOptions=!1,a.current={dataset:[],drugSensitivity:[],genome:[],dataType:[],rnaTool:[],rnaRef:[],defaultData:[]},i(!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var o=function(e){switch(e.name){case"CCLE":a.current.defaultData=t.current.dataType.filter((function(e){return e.default})),a.current.dataType=[],u(e),t.current.disableToolRefOptions=!1,t.current.hideDataTypeOptions=!1;break;case"CTRPv2":case"FIMM":a.current.defaultData=[],a.current.dataType=[],a.current.genome=[],a.current.rnaTool=[],a.current.rnaRef=[],t.current.disableToolRefOptions=!0,t.current.hideDataTypeOptions=!0;break;case"gCSI":case"GDSC":a.current.defaultData=t.current.dataType.filter((function(e){return e.default})),a.current.dataType=[],u(e),t.current.disableToolRefOptions=!1,t.current.hideDataTypeOptions=!1;break;default:a.current.defaultData=t.current.dataType.filter((function(e){return e.default})),a.current.dataType=[],t.current.disableToolRefOptions=!1,t.current.hideDataTypeOptions=!0}},u=function(e){var a=t.current.accompanyRNA.filter((function(t){return t.dataset===e.name})),n=t.current.accompanyDNA.filter((function(t){return t.dataset===e.name})),r=a.concat(n);t.current.dataType.forEach((function(e){e.hide=!r.find((function(t){return t.name===e.name}))}))},m=function(e){t.current[e].forEach((function(t){t.hide=!a.current[e].find((function(e){return t.name===e.name}))}))},d=function(e){var n=t.current[e].filter((function(e){return!e.hide}));n.length<t.current[e].length?(a.current[e]=n,"dataset"===e&&(t.current.drugSensOptions=[],n.forEach((function(e){p(e)})))):Array.isArray(a.current[e])||(a.current[e]=[a.current[e]],"dataset"===e&&(t.current.drugSensOptions=[],p(a.current[e][0])))},p=function(e){e.versions.forEach((function(e){t.current.drugSensOptions.some((function(t){return t.label===e.label}))||t.current.drugSensOptions.push(e)}))};return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement("div",{className:"pSetFilterContainer"},r.a.createElement("div",{className:"pSetFilter"},r.a.createElement("h2",null,"PSet Parameters"),r.a.createElement("div",{className:"filterSet"},r.a.createElement("label",{className:"bold"},"Request PSet: "),r.a.createElement(Q.InputSwitch,{checked:e.isRequest,tooltip:"Turn this on to request a PSet.",onChange:function(n){var r;n.value?function(n){if(t.current.dataset.forEach((function(e){e.hide=!!e.unavailable})),t.current.dataType.forEach((function(e){e.hide="rnaseq"===e.name})),t.current.disableToolRefOptions=!0,t.current.hideDataTypeOptions=!0,a.current.dataType=[],a.current.dataset.length&&(m("dataset"),a.current.dataset=a.current.dataset[0],a.current.drugSensitivity=[],o(a.current.dataset),t.current.drugSensOptions=[],p(a.current.dataset)),a.current.genome.length&&(m("genome"),a.current.genome=a.current.genome[0]),a.current.rnaTool.length){m("rnaTool");for(var r=JSON.parse(JSON.stringify(a.current.rnaTool));r.length>2;)r.shift();a.current.rnaTool=r}a.current.rnaRef.length&&(m("rnaRef"),a.current.rnaRef=a.current.rnaRef[0]),e.setIsRequest(n),e.setParameters(Object(C.a)({},a.current,{search:!0}))}(n.value):(r=n.value,t.current.dataset.forEach((function(e){e.hide=!1})),d("dataset"),a.current.drugSensitivity=[],a.current.dataType=[],d("genome"),d("rnaRef"),t.current.hideDataTypeOptions=!1,t.current.dataType.forEach((function(e){e.hide=!1})),t.current.dataset.forEach((function(e){e.hide=!1})),t.current.genome.forEach((function(e){e.hide=!1})),t.current.rnaRef.forEach((function(e){e.hide=!1})),e.setIsRequest(r),e.setParameters(Object(C.a)({},a.current,{search:!0})))}})),r.a.createElement(ae,{id:"dataset",isHidden:!1,parameterName:"Dataset:",selectOne:e.isRequest,parameterOptions:t.current.dataset.filter((function(e){return!e.hide})),selectedParameter:a.current.dataset,handleUpdateSelection:function(n){var r;e.isRequest?(r=n.value,console.log("onDatasetSelectionRequest"),t.current.drugSensOptions=[],"undefined"===typeof r?t.current.disableDrugSensOptions=!0:(p(r),t.current.disableDrugSensOptions=!1),o(r)):function(e){t.current.drugSensOptions=[],e.length?t.current.disableDrugSensOptions=!1:t.current.disableDrugSensOptions=!0,e.forEach((function(e){p(e)}))}(n.value),a.current.dataset=n.value,e.setParameters(Object(C.a)({},a.current,{search:!0}))}}),e.isRequest&&!t.current.disableToolRefOptions&&r.a.createElement("div",null,"Molecular Data:",1===a.current.defaultData.length?r.a.createElement("span",{style:{marginLeft:"10px",fontWeight:"bold"}},a.current.defaultData[0].label):r.a.createElement("ul",null,a.current.defaultData.map((function(e){return r.a.createElement("li",{key:Math.random()},e.label)})))),r.a.createElement(ae,{id:"dataType",isHidden:t.current.hideDataTypeOptions,parameterName:e.isRequest?"Optional Molecular Data:":"Molecular Data Type:",parameterOptions:t.current.dataType.filter((function(e){return!e.hide})),selectedParameter:a.current.dataType,handleUpdateSelection:function(t){a.current.dataType=t.value,e.setParameters(Object(C.a)({},a.current,{dataType:t.value,search:!0}))}}),r.a.createElement(ae,{id:"drugSensitivity",isHidden:!1,parameterName:"Drug Sensitivity:",selectOne:e.isRequest,disabled:t.current.disableDrugSensOptions,parameterOptions:t.current.drugSensOptions,selectedParameter:a.current.drugSensitivity,handleUpdateSelection:function(t){a.current.drugSensitivity=t.value,e.setParameters(Object(C.a)({},a.current,{drugSensitivity:t.value,search:!0}))}}),r.a.createElement(ae,{id:"genome",disabled:t.current.disableToolRefOptions,isHidden:!1,parameterName:"Genome:",selectOne:e.isRequest,parameterOptions:t.current.genome.filter((function(e){return!e.hide})),selectedParameter:a.current.genome,handleUpdateSelection:function(n){var r;r=n.value,console.log(r),0===r.length?t.current.rnaRef.forEach((function(e){e.hide=!1})):Array.isArray(r)?t.current.rnaRef.forEach((function(e){e.hide=!r.find((function(t){return e.genome===t.name}))})):t.current.rnaRef.forEach((function(e){e.hide=e.genome!==r.name})),a.current.genome=n.value,e.setParameters(Object(C.a)({},a.current,{genome:n.value,search:!0}))}}),r.a.createElement(ae,{id:"rnaTool",disabled:t.current.disableToolRefOptions,parameterName:"RNA Tool:",parameterOptions:t.current.rnaTool,selectedParameter:a.current.rnaTool,handleUpdateSelection:function(t){if(e.isRequest&&t.value.length>2)for(;t.value.length>2;)t.value.shift();a.current.rnaTool=t.value,e.setParameters(Object(C.a)({},a.current,{rnaTool:t.value,search:!0}))}}),r.a.createElement(ae,{id:"rnaRef",disabled:t.current.disableToolRefOptions,parameterName:"RNA Ref:",selectOne:e.isRequest,parameterOptions:t.current.rnaRef.filter((function(e){return!e.hide})),selectedParameter:a.current.rnaRef,handleUpdateSelection:function(t){a.current.rnaRef=t.value,e.setParameters(Object(C.a)({},a.current,{rnaRef:t.value,search:!0}))}}))))}),re=function(e){var t=Object(n.useState)({rows:10,first:0,start:0,end:10,totalRecords:0,loading:!0}),a=Object(v.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){c(Object(C.a)({},l,{loading:!1}))}),[]);var s=function(e,t){return function(){var a=Object(E.a)(b.a.mark((function a(n){var r;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),console.log("downloadOnePSet"),a.next=4,fetch("/api/pset/download",{method:"POST",body:JSON.stringify({psetID:e}),headers:{"Content-type":"application/json"}});case 4:(r=document.createElement("a")).setAttribute("download",null),r.style.display="none",r.setAttribute("href",t),document.body.appendChild(r),r.click(),document.body.removeChild(r);case 11:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},i=function(e,t){var a="";return e[t.field]&&(a=e[t.field].map((function(e){return r.a.createElement("div",{key:e.name},e.label)}))),r.a.createElement("div",null,a)};return r.a.createElement(P.DataTable,{value:e.psets,selection:e.selectedPSets,onSelectionChange:function(t){e.updatePSetSelection(t.value)},paginator:!0,rows:l.rows,resizableColumns:!0,columnResizeMode:"fit",scrollable:!0,scrollHeight:e.scrollHeight},e.authenticated&&r.a.createElement(k.Column,{selectionMode:"multiple",style:{width:"30px",textAlign:"center"}}),r.a.createElement(k.Column,{className:"textField",field:"name",header:"Name",style:{width:"150px"},body:function(e,t){var a="/"+e.doi;return r.a.createElement(g.b,{to:a,target:"_blank"},e.name)},sortable:!0}),r.a.createElement(k.Column,{className:"textField",field:"dataset.name",header:"Dataset",style:{width:"100px"},sortable:!0}),r.a.createElement(k.Column,{className:"textField",field:"dataset.versionInfo",header:"Drug Sensitivity",style:{width:"150px"},sortable:!0}),r.a.createElement(k.Column,{field:"rnaTool",body:i,style:{width:"120px"},header:"RNA Tool",sortable:!0}),r.a.createElement(k.Column,{field:"rnaRef",body:i,style:{width:"120px"},header:"RNA Ref",sortable:!0}),r.a.createElement(k.Column,{field:"dataType",body:function(e,t){var a="";return e[t.field]&&(a=e[t.field].map((function(e){return r.a.createElement("div",{key:e.name},e.name," (",e.type,")")}))),r.a.createElement("div",null,a)},style:{width:"125px"},header:"Molecular Data"}),r.a.createElement(k.Column,{field:"canonical",body:function(e,t){var a="";return e[t.field]&&(a="Yes"),r.a.createElement("div",null,a)},style:{width:"90px",textAlign:"center"},header:"Canonical"}),e.download&&r.a.createElement(k.Column,{field:"downloadLink",body:function(e,t){var a="Not Available";return e.downloadLink&&(a=r.a.createElement("a",{id:e._id,href:"#",onClick:s(e._id,e.downloadLink)},"Download")),a},style:{width:"90px",textAlign:"center"},header:"Download"}))},le=a(21);var ce=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).saveSelectedPSets=function(t){t.preventDefault(),e.context.authenticated&&function(e,t,a){if(t.length){for(var n={username:e},r=[],l=0;l<t.length;l++)r.push(t[l]._id);n.psetId=r,fetch("/api/user/pset/add",{method:"POST",body:JSON.stringify({reqData:n}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return a(1,e)})).catch((function(e){return a(0,e)}))}}(e.context.username,e.props.selectedPSets,(function(t,a){e.props.onSaveComplete(t,a)}))},e.saveSelectedPSets=e.saveSelectedPSets.bind(Object(le.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.context.authenticated?r.a.createElement(y.Button,{label:"Save",onClick:this.saveSelectedPSets,disabled:this.props.disabled}):"*Login or register to save existing PSets to your profile."}}]),t}(r.a.Component);ce.contextType=h;var se=ce,ie=a(27),oe=a(25),ue=a.n(oe),me=a(22),de=a(23);function pe(e){return"undefined"!==typeof e&&null!==e&&!(Array.isArray(e)&&!e.length)}function he(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;a&&a(),e?n.show({severity:"success",summary:t.summary,detail:t.message,sticky:!0}):n.show({severity:"error",summary:"An error occured",detail:t.toString(),sticky:!0})}var fe=r.a.createContext();function be(e,t){return Ee.apply(this,arguments)}function Ee(){return(Ee=Object(E.a)(b.a.mark((function e(t,a){var n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t,{method:"POST",body:JSON.stringify({parameters:Object(C.a)({},a,{status:"complete"})}),headers:{"Content-type":"application/json"}});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ve=function e(){var t=Object(n.useContext)(h),a=Object(n.useState)([]),l=Object(v.a)(a,2),c=l[0],s=l[1],i=Object(n.useState)(!0),o=Object(v.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)([]),p=Object(v.a)(d,2),f=p[0],g=p[1],S=Object(n.useState)(!0),O=Object(v.a)(S,2),w=O[0],N=O[1],x=Object(n.useState)(!1),j=Object(v.a)(x,2),P=j[0],k=j[1],D=Object(n.useState)(!0),T=Object(v.a)(D,2),R=T[0],I=T[1],A=Object(n.useState)({dataset:[],drugSensitivity:[],genome:[],dataType:[],rnaTool:[],rnaRef:[],name:"",email:"",search:!1}),q=Object(v.a)(A,2),M=q[0],F=q[1],B=Object(n.useState)(!1),L=Object(v.a)(B,2),H=L[0],z=L[1];Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be("/api/pset/search");case 2:t=e.sent,s(t),m(!0),z(!0);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){N(!pe(f))}),[f]),Object(n.useEffect)((function(){function e(){return(e=Object(E.a)(b.a.mark((function e(){var t,a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("search"),console.log(M),t=JSON.parse(JSON.stringify(M)),Object.keys(t).forEach((function(e){Array.isArray(t[e])||(t[e]=[t[e]])})),e.next=6,be("/api/pset/search",t);case 6:a=e.sent,n=!0,Object.keys(M).forEach((function(e){Array.isArray(M[e])&&M[e].length&&(n=!1)})),s(a),m(n);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var t,a,n;M.search&&function(){e.apply(this,arguments)}(),P&&I(!!pe((n=M).dataset)&&!!pe(n.drugSensitivity)&&(!("undefined"===typeof(a=n.name)||null===a||0===a.length)&&(!("undefined"===typeof(t=n.email)||null===t||0===t.length||!/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(t))&&!(!pe(n.genome)&&"CTRPv2"!==n.dataset.name&&"FIMM"!==n.dataset.name)&&!(!pe(n.rnaTool)&&"CTRPv2"!==n.dataset.name&&"FIMM"!==n.dataset.name)&&!(!pe(n.rnaRef)&&"CTRPv2"!==n.dataset.name&&"FIMM"!==n.dataset.name))))}),[M]);var _=function(t,a){var n=t?"success":"error";e.messages.show({severity:n,summary:a.summary,detail:a.message,sticky:!0}),V()},V=function(){g([]),N(!0)},J=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n,r,l,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:M.dataset.name,label:M.dataset.label,versionInfo:M.drugSensitivity.version},n=Object(C.a)({},M),r=M.defaultData.concat(M.dataType),l=Object(C.a)({},M.rnaRef),n.dataset=a,n.dataType=r,n.rnaRef=0===Object.keys(l).length&&l.constructor===Object?[]:[l],delete n.drugSensitivity,delete n.defaultData,delete n.search,n.dataType.forEach((function(e){delete e.hide})),n.rnaRef.forEach((function(e){delete e.hide})),console.log(n),e.next=16,Object(ie.trackPromise)(fetch("/api/pset/request",{method:"POST",body:JSON.stringify({reqData:n}),headers:{"Content-type":"application/json"}}));case 16:return c=e.sent,e.next=19,c.json();case 19:s=e.sent,_(c.ok,s),V();case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(fe.Provider,{value:{parameters:M,setParameters:F,isRequest:P,setIsRequest:k}},r.a.createElement("div",{className:"pageContent"},r.a.createElement("h2",null,"Search or Request Pharmacogenomic Datasets"),r.a.createElement("div",{className:"pSetListContainer"},r.a.createElement(ne,null),r.a.createElement("div",{className:"pSetTable"},r.a.createElement(de.Messages,{ref:function(t){return e.messages=t}}),r.a.createElement("div",{className:"pSetSelectionSummary"},r.a.createElement("div",{className:"summaryPanel"},r.a.createElement("h2",null,"Summary"),r.a.createElement("div",{className:"pSetSummaryContainer"},r.a.createElement("div",{className:"pSetSummaryItem"},u?r.a.createElement("span",null,r.a.createElement("span",{className:"pSetSummaryNum"},c.length?c.length:0)," ",r.a.createElement("span",null,"dataset(s) available.")):r.a.createElement("span",null,r.a.createElement("span",{className:"pSetSummaryNum"},c.length)," ",r.a.createElement("span",null,1===c.length?" match":" matches")," found."))),r.a.createElement(se,{selectedPSets:f,disabled:w,onSaveComplete:_})),P&&r.a.createElement("div",{className:"requestFormPanel"},r.a.createElement("h2",null,"Request PSet"),r.a.createElement("div",{className:"reqFormInput"},r.a.createElement("label",null,"PSet Name:"),r.a.createElement(me.InputText,{id:"name",className:"paramInput",value:M.name||"",onChange:function(e){F(Object(C.a)({},M,{name:e.target.value,search:!1}))}})),r.a.createElement("div",{className:"reqFormInput"},r.a.createElement("label",null,"Email to receive DOI:"),r.a.createElement(me.InputText,{id:"email",className:"paramInput",value:M.email||"",onChange:function(e){F(Object(C.a)({},M,{email:e.target.value,search:!1}))}})),r.a.createElement("div",{className:"reqFormInput"},r.a.createElement((function(){return Object(ie.usePromiseTracker)().promiseInProgress?r.a.createElement("div",{className:"loaderContainer"},r.a.createElement(ue.a,{type:"ThreeDots",color:"#3D405A",height:100,width:100})):r.a.createElement(y.Button,{label:"Submit Request",type:"submit",disabled:!R,onClick:J})}),null)))),H?r.a.createElement(re,{psets:c,selectedPSets:f,updatePSetSelection:function(e){g(e)},scrollHeight:"600px",authenticated:t.authenticated,download:!0}):r.a.createElement("div",{className:"tableLoaderContainer"},r.a.createElement(ue.a,{type:"ThreeDots",color:"#3D405A",height:100,width:100}))))))},ge=(a(168),function e(){var t=Object(n.useContext)(h),a=Object(n.useState)([]),l=Object(v.a)(a,2),c=l[0],s=l[1],i=Object(n.useState)(!0),o=Object(v.a)(i,2),u=o[0],m=o[1];Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/pset/search",{method:"POST",body:JSON.stringify({parameters:{status:["pending","in-process"]}}),headers:{"Content-type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),s(a),m(!1);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var d=function(t){e.messages.show(t)},p=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/pset/process",{method:"POST",body:JSON.stringify({id:t}),headers:{"Content-type":"application/json"}});case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",{ok:a.ok,data:n});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log(t.target.id),e.next=4,p(t.target.id);case 4:return(a=e.sent).ok?d({severity:"success",summary:a.data.summary,detail:a.data.message,sticky:!0}):d({severity:"error",summary:a.data.summary,detail:a.data.message,sticky:!0}),e.next=8,fetch("/api/pset/search",{method:"POST",body:JSON.stringify({parameters:{status:["pending","in-process"]}}),headers:{"Content-type":"application/json"}});case 8:return n=e.sent,e.next=11,n.json();case 11:r=e.sent,console.log(r),s(r);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(e,t){var a="";return e[t.field]&&(a=new Date(e[t.field]).toLocaleString(void 0,{dateStyle:"long",timeStyle:"medium"})),r.a.createElement("div",null,a)};return r.a.createElement("div",{className:"pageContent"},r.a.createElement("div",{className:"dashboardWrapper"},r.a.createElement("h2",null,"PSet Request Status Board"),r.a.createElement(de.Messages,{ref:function(t){return e.messages=t}}),r.a.createElement("div",{className:"dashboardSummary"},r.a.createElement("h2",null,"Request Status Summary"),r.a.createElement("div",{className:"dashboardSummaryContainer"},r.a.createElement("div",{className:"dashboardSummarySection"},r.a.createElement("span",{className:"number"},c.filter((function(e){return"pending"===e.status})).length)," pending request(s)."),r.a.createElement("div",{className:"dashboardSummarySection"},r.a.createElement("span",{className:"number"},c.filter((function(e){return"in-process"===e.status})).length)," request(s) in process."))),r.a.createElement("div",{className:"dashboardTable"},u?r.a.createElement("div",{className:"dashboardTableLoaderContainer"},r.a.createElement(ue.a,{type:"ThreeDots",color:"#3D405A",height:100,width:100})):c.length>0?r.a.createElement(P.DataTable,{value:c,paginator:!0,scrollable:!0,rows:10},r.a.createElement(k.Column,{className:"textField",field:"status",header:"Status",style:{width:"2em"},sortable:!0}),r.a.createElement(k.Column,{className:"textField",field:"name",header:"Name",style:{width:"5em"},sortable:!0}),r.a.createElement(k.Column,{className:"textField",field:"dateSubmitted",header:"Submitted Date",body:g,style:{width:"4em"},sortable:!0}),r.a.createElement(k.Column,{className:"textField",field:"dateProcessed",header:"Process Start Date",body:g,style:{width:"4em"},sortable:!0}),t.isAdmin&&r.a.createElement(k.Column,{body:function(e,t){var a="";return"pending"===e.status&&(a=r.a.createElement("button",{id:e._id,onClick:f,className:"dashboardBtn",type:"button"},"Submit")),r.a.createElement("div",{className:"dashBoardBtnContainer"},a)},style:{width:"1.5em"}})):r.a.createElement("h3",null,"There are no pending or in-process requests."))))}),ye=(a(169),a(42)),Se=a.n(ye),Oe=a(43),we=a.n(Oe),Ne=a(70),xe=a(71),je=we()(Se.a),Ce=function(e){return r.a.createElement("div",{className:"upsetPlot"},Object.keys(e.data).length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(je,{data:e.data.bars,layout:{autosize:!0,xaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,range:[-1,e.data.bars.length+1]},yaxis:{tickfont:{size:12},showgrid:!0,showticklabels:!0},margin:{t:10,b:0,l:120,r:10},showlegend:!1},style:{width:"2000px",height:"250px"},useResizeHandler:!0,config:{displayModeBar:!1}}),r.a.createElement(je,{data:e.data.points,layout:{autosize:!0,xaxis:{showgrid:!1,zeroline:!1,showticklabels:!1,range:[-1,e.data.points.length+1]},yaxis:{showgrid:!0,tickfont:{size:12},showticklabels:!0},margin:{t:0,b:10,l:120,r:10},showlegend:!1},style:{width:"2000px",height:"200px"},useResizeHandler:!0,config:{displayModeBar:!1}})))},Pe=we()(Se.a),ke=function(){var e=Object(n.useState)({}),t=Object(v.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),s=Object(v.a)(c,2),i=s[0],o=s[1],u=Object(n.useState)({datasets:[],metricName:""}),m=Object(v.a)(u,2),d=m[0],p=m[1],h=Object(n.useState)(!1),f=Object(v.a)(h,2),g=f[0],y=f[1],S=Object(n.useState)(!1),O=Object(v.a)(S,2),w=O[0],N=O[1];return Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/stats/metrics/options");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),p({datasets:a,metricName:"cellLines"});case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()(),y(!0)}),[]),Object(n.useEffect)((function(){var e=function(){var e=Object(E.a)(b.a.mark((function e(){var t,a,n,r,c,s,i,u,m,p,h,f;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/stats/metrics/data",{method:"POST",body:JSON.stringify({parameters:d}),headers:{"Content-type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:if(a=e.sent,"cellLines"===d.metricName||"drugs"===d.metricName||"tissues"===d.metricName){for(n=[],r=[],c=a.upsetData.data,console.log(a.upsetData),s=0;s<c.length;s++){for(i=[],u=[],m=0;m<c[s].setIndices.length;m++)p=c[s].setIndices[m],i.push(a.upsetData.sets[p].name),u.push(a.upsetData.sets[p].color);c[s].datasets=i,c[s].colors=u}for(h=0;h<c.length;h++)n.push({x:new Array(c[h].datasets.length).fill(h),y:c[h].datasets,mode:c[h].datasets.length>1?"lines+markers":"markers",type:"scatter",marker:{size:10,color:c[h].colors},line:{color:"#777777"},hoverinfo:"text"}),r.push({x:[h,h],y:[0,c[h].names.length],mode:"markers+lines",type:"scatter",line:{color:c[h].colors.length>1?"#777777":c[h].colors[0],width:10},marker:{color:c[h].colors.length>1?"#777777":c[h].colors[0],symbol:"line-ew",size:10},text:c[h].names.length,hoverinfo:"text"});l({points:n,bars:r})}else(f=a.barData).sort((function(e,t){return e.value>t.value?1:-1})),o([{x:f.map((function(e){return e.value})),y:f.map((function(e){return e.name})),type:"bar",orientation:"h",marker:{color:f.map((function(e){return e.color}))}}]);N(!0);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();N(!1),g&&(console.log(d),e())}),[d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Select Dataset Metrics to View"),r.a.createElement("div",{className:"stats-dataset-metric-control"},[{name:"Numer of Cell Lines",value:"cellLines"},{name:"Numer of Drugs",value:"drugs"},{name:"Number of Tissue Types",value:"tissues"},{name:"Numer of Drug Experiments ",value:"experiments"},{name:"Numer of Genes",value:"genes"}].map((function(e){return r.a.createElement("div",{className:"stats-chart-control-checkbox",key:e.value},r.a.createElement(xe.RadioButton,{inputId:e.name,value:e.value,checked:d.metricName===e.value,onChange:function(e){var t=Object(C.a)({},d);t.metricName=e.value,p(t)}}),r.a.createElement("div",null,e.name))}))),r.a.createElement("div",{className:"stats-dataset-chart"},w?r.a.createElement("div",{className:"stats-dataset-plot"},"experiments"===d.metricName||"cellLineDrugPairs"===d.metricName||"genes"===d.metricName?r.a.createElement(Pe,{data:i,layout:{autosize:!0,margin:{t:50,b:50,l:130,r:10},showlegend:!1},style:{width:"100%",height:"300px"},useResizeHandler:!0,config:{displayModeBar:!1}}):r.a.createElement(Ce,{data:a})):r.a.createElement("div",{className:"componentLoaderContainer"},r.a.createElement(ue.a,{type:"ThreeDots",color:"#3D405A",height:100,width:100})),r.a.createElement("div",{className:"stats-dataset-chart-control"},r.a.createElement("h4",null,"Select Dataset(s) to View"),d.datasets.map((function(e){return r.a.createElement("div",{className:"stats-chart-control-checkbox dataset-checkbox",key:e.name},r.a.createElement(Ne.Checkbox,{inputId:e.name,value:e.name,checked:e.checked,onChange:function(t){var a=Object(C.a)({},d),n=a.datasets.findIndex((function(t){return t.name===e.name}));a.datasets[n].checked=t.checked,p(a)}}),r.a.createElement("label",{htmlFor:e.name},e.name))})))))},De=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)([]),s=Object(v.a)(c,1)[0],i=Object(n.useState)(!1),o=Object(v.a)(i,2),u=o[0],m=o[1];Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/stats/data");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),l(a.psets),m(!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);return r.a.createElement("div",{className:"pageContent"},r.a.createElement("h2",null,"Dataset Metrics and PSet Usage Statistics"),u?r.a.createElement("div",{className:"statContainer"},r.a.createElement("div",{className:"container downloadHistogram"},r.a.createElement("h3",null,"Dataset Metrics"),r.a.createElement(ke,{chartData:s})),r.a.createElement("div",{className:"container rankingTable"},r.a.createElement("h3",null,"Download Ranking"),r.a.createElement(P.DataTable,{value:a,paginator:!0,rows:10,scrollable:!0,resizableColumns:!0,columnResizeMode:"fit"},r.a.createElement(k.Column,{className:"textField",field:"download",header:"Number of Downloads",style:{width:"5%",textAlign:"center"},sortable:!0}),r.a.createElement(k.Column,{className:"textField",field:"name",header:"Name",style:{width:"7%",textAlign:"center"},body:function(e,t){var a="/"+e.doi;return r.a.createElement(g.b,{to:a,target:"_blank"},e.name)},sortable:!0}),r.a.createElement(k.Column,{className:"textField",field:"dataset",header:"Dataset",style:{width:"5%",textAlign:"center"},sortable:!0}),r.a.createElement(k.Column,{className:"textField",field:"version",header:"Drug Sensitivity",style:{width:"5%",textAlign:"center"},sortable:!0})))):r.a.createElement("div",{className:"componentLoaderContainer"},r.a.createElement(ue.a,{type:"ThreeDots",color:"#3D405A",height:100,width:100})))},Te=(a(171),function(){return r.a.createElement("div",{className:"documentation"},r.a.createElement("h1",null,"Overview"),r.a.createElement("div",null,r.a.createElement("h3",null,"Introduction"),r.a.createElement("p",null,r.a.createElement("b",null,"ORCESTRA")," is a new web application that enables users to search, request and manage pharmacogenomic datasets (PSets).",r.a.createElement("br",null),"PSets are generated with an automated pipeline by using a version controlling platform called Pachyderm. Upon completion of the pipeline, a newly generated PSet is uploaded to Zenodo, a data-sharing platform, and is assigned a DOI.",r.a.createElement("br",null),"With Pachyderm's strict version controlling system, coupled with the DOI assignment, ORCESTRA ensures that your experiments with PSets are transparent and easily reproducible."),r.a.createElement("h3",null,"System Overview"),r.a.createElement("p",null,"The ",r.a.createElement("b",null,"ORCESTRA")," system consists of three main layers:"),r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("b",null,"Web application layer")," which allows users to view and submit PSet requests"),r.a.createElement("li",null,r.a.createElement("b",null,"Data processing layer")," which utilizes a version control software called Pachyderm to process requested data"),r.a.createElement("li",null,r.a.createElement("b",null,"Data sharing layer")," which utilizes Zenodo to ensure that the generated dataset is tagged with a DOI")),r.a.createElement("div",{className:"img-architecture"},r.a.createElement("img",{src:"/images/documentation/architecture.png",alt:""})),r.a.createElement("div",{className:"bottom-fill"})))}),Re=function(){return r.a.createElement("div",{className:"documentation"},r.a.createElement("h1",null,"Search"),r.a.createElement("div",null,r.a.createElement("h3",null,"How to search existing PSets"),r.a.createElement("p",null,"Existing PSets can be searched on ",r.a.createElement("a",{href:"/PSetSearch"},"Search and Request")," page.",r.a.createElement("br",null),"User can select different pipeline parameters uder PSet Parameters pane. Each selection of parameters triggers a database search. The search result is displayed on the data table as shown in the figure below."),r.a.createElement("div",{className:"img-full"},r.a.createElement("img",{src:"/images/documentation/search.png",alt:""})),r.a.createElement("h3",null,"How to view metadata of a PSet"),r.a.createElement("p",null,"Metadata of a PSet can be viewed by clicking a dataset name on the search table.",r.a.createElement("br",null),"Explore PSet view is displayed as in the figure below where user can view publications associated with the dataset, and command lines used in the pipeline to generate the PSet."),r.a.createElement("div",{className:"img-full"},r.a.createElement("img",{src:"/images/documentation/explore_pset.png",alt:""})),r.a.createElement("div",{className:"bottom-fill"})))},Ie=function(){return r.a.createElement("div",{className:"documentation"},r.a.createElement("h1",null,"Request"),r.a.createElement("div",null,r.a.createElement("h3",null,"How to request a PSet"),r.a.createElement("p",null,"To request a PSet, turn on the Request mode on ",r.a.createElement("a",{href:"/PSetSearch"},"Search and Request")," view with the toggle button on top of the PSet Parameters pane. In the requets mode, two text fields to enter the PSet name and email address to receive pipeline completion notification will be displayed.",r.a.createElement("br",null),"Once all the information is filled out, including the PSet name and email address, the Submit Request button becomes active.",r.a.createElement("br",null),"PSet request is submitted upon clicking the Submit button."),r.a.createElement("div",{className:"img-full"},r.a.createElement("img",{src:"/images/documentation/request.png",alt:""})),r.a.createElement("h3",null,"How to check status of your request"),r.a.createElement("p",null,"Status of your pipeline request can be viewed at ",r.a.createElement("a",{href:"/Dashboard"},"Request Status")," view.",r.a.createElement("br",null),'Status of your request can either be "pending" or "in-process". Pending requests are the ones that have been successfully submitted, and will be processed once the Pachyderm cluster is online. In-process requests have been successfully submitted, and the pipeline execution has been started.'),r.a.createElement("div",{className:"img-full"},r.a.createElement("img",{src:"/images/documentation/request_status.png",alt:""})),r.a.createElement("div",{className:"bottom-fill"})))},Ae=function(){return r.a.createElement("div",{className:"documentation"},r.a.createElement("h2",null,"User Profile and Usage Statistics"),r.a.createElement("div",null,r.a.createElement("h3",null,"What you can do with your profile"),r.a.createElement("p",null,r.a.createElement("b",null,"ORCESTRA")," comes with user account feature which allows registred users to:"),r.a.createElement("ul",null,r.a.createElement("li",null,'Save existing PSets as "favorites".'),r.a.createElement("li",null,"Keep track of the user's PSet reguqest status.")),r.a.createElement("p",null,'To register for the user account, simply click on the "Login/Register" button on navigation bar, and enter your email address and password.')),r.a.createElement("div",null,r.a.createElement("h3",null,"Usage Statistics"),r.a.createElement("p",null,r.a.createElement("b",null,"ORCESTRA"),"'s usage metrics can be viewed at ",r.a.createElement("a",{href:"http://orcestra.ca/Stats"},"Statistics")," page.",r.a.createElement("br",null),r.a.createElement("b",null,"ORCESTRA")," currently provides the download ranking of the existing PSets.")))},qe=a(72),Me=a.n(qe);function Fe(){var e=Object(I.a)(["\n    margin-top: 10px;\n    margin-bottom: 30px;\n    .docContent {\n        margin-left: 20px;\n    }\n"]);return Fe=function(){return e},e}function Be(){var e=Object(I.a)(["\n    text-align: left;\n    font-size: 14px;\n    .download {\n        border: none;\n        background: none;\n        font-size: 16px;\n        cursor: pointer;\n        color: #3D405A;\n    }\n"]);return Be=function(){return e},e}var Le=A.a.table(Be()),He=A.a.div(Fe()),ze=function(){var e=function(e){return r.a.createElement(Le,null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Download Example File(s):"))),r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",null,e),r.a.createElement("td",null,r.a.createElement("button",{className:"download",title:"Download",onClick:function(a){a.preventDefault(),t(e)}},r.a.createElement("i",{className:"pi pi-fw pi-download"}))))}))))},t=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/example-download/"+t);case 2:return a=e.sent,e.next=5,a.blob();case 5:n=e.sent,Me()(n,t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"documentation"},r.a.createElement("h2",null,"Contributing Your Data"),r.a.createElement("div",null,"Please ensure your data submission includes the following files, in the format of the example CSV files provided below:"),r.a.createElement("div",null,r.a.createElement(He,null,r.a.createElement("h3",null,"1. Sample annotation"),r.a.createElement("div",{className:"docContent"},e(["example_sample_annotation.csv"]),r.a.createElement("p",null,"File (.CSV) that includes each sample with respective unique ID's (unique.sample.id). For cell lines, please also provide Cellosaurus Accession IDs. If a cell line is not present in Cellosaurus, indicate with NA. In addition, please include tissue types (tissue.id) for each sample and any other sample metadata in the CSV that you would like to include in your data object.",r.a.createElement("br",null),"Cellosaurus: ",r.a.createElement("a",{href:"https://web.expasy.org/cellosaurus/"},"https://web.expasy.org/cellosaurus/")))),r.a.createElement(He,null,r.a.createElement("h3",null,"2. Drug annotation"),r.a.createElement("div",{className:"docContent"},e(["example_drug_annotation.csv"]),r.a.createElement("p",null,"File (.CSV) that includes each drug compound with respective unique ID's (unique.drug.id). Please also provide PubChem CID for each drug compound. If a drug is not present in PubChem, indicate CID with NA. In addition, include any other drug metadata in the CSV that you would like to include in your data object.",r.a.createElement("br",null),"PubChem: ",r.a.createElement("a",{href:"https://pubchem.ncbi.nlm.nih.gov"},"https://pubchem.ncbi.nlm.nih.gov")))),r.a.createElement(He,null,r.a.createElement("h3",null,"3. Raw drug sensitivity data"),r.a.createElement("div",{className:"docContent"},e(["example_drug_annotation.csv","example_raw_drug_viability.csv"]),r.a.createElement("ol",null,r.a.createElement("li",null,"File (.CSV) that contains the doses (in micromolar) utilized each drug compound and sample pair. A unique experiment ID must be used for each drug compound and sample pair, which follows the following format (unique.sampleid_unique.drugid) - refer to example_raw_drug_dose.csv"),r.a.createElement("li",null,"File (.CSV) that contains the viability (in percentage %) for each dose of the respective unique experiment ID (unique.sampleid_unique.drugid) - refer to example_raw_drug_viability.csv")),r.a.createElement("p",null,'*NOTE: If an experiment was performed more than once for a given drug compound and sample pair (unique.sampleid_unique.drugid), ensure that the unique unique experiment ID reflects this by appending "_number" to the end of the unique experiment ID (e.g. 380_XMD8-85_1; 380_XMD8-85_2; 380_XMD8-85_3)'))),r.a.createElement(He,null,r.a.createElement("h3",null,"4. Drug sensitivity info"),r.a.createElement("div",{className:"docContent"},e(["example_sensitivity_info.csv"]),r.a.createElement("p",null,"File (.CSV) that contains the minimum and maximum drug dose (in micromolar) used for each unique experiment ID (unique.sampleid_unique.drugid), along with the respective unique.sample.id and unique.drug.id."))),r.a.createElement(He,null,r.a.createElement("h3",null,"5. Processed molecular profile data"),r.a.createElement("div",{className:"docContent"},e(["example_rnaseq.csv "]),r.a.createElement("p",null,"We accept processed RNA-seq, microarray, mutation, and CNV data. For each datatype, ensure rows are denoted as gene, transcript, or probe ID's, while columns are denoted as samples (unique.sample.id). Please also indicate which tools and their versions were used to process your molecular data (e.g. Kallisto v.0.43.1 for RNA-seq), including information about all accompanying files required to process your data (e.g. Gencode v33 transcriptome for RNA-seq; SureSelectHumanAllExonV5 BED file for mutation calling)."))),r.a.createElement(He,null,r.a.createElement("h3",null,"6. Other metadata to include in ORCESTRA"),r.a.createElement("div",{className:"docContent"},r.a.createElement("p",null,"If your data is associated with specific publications, please provide us with respective publication links for each data source (drug sensivitity data, molecular profiles).")))))},_e=a(34),Ve=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/psets/available");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(JSON.stringify(a,null,2));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"documentation"},r.a.createElement("h2",null,"List of Available PSets"),r.a.createElement("p",null,"This RESTful API call restrieves a list of available PSets in the database:",r.a.createElement("br",null),r.a.createElement("code",{className:"code"},"curl http://api.orcestra.ca/psets/available"),r.a.createElement("br",null),"Current result of the successful API call is as follows:",r.a.createElement("br",null)),r.a.createElement(_e.ScrollPanel,{className:"documentation-scroll"},r.a.createElement("div",null,r.a.createElement("pre",null,a))))},Je=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/pset/10.5281/zenodo.3905462");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),l(JSON.stringify(a,null,2));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"documentation"},r.a.createElement("h2",null,"Single PSet"),r.a.createElement("p",null,"This RESTful API call restrieves a PSet associated with specified DOI:",r.a.createElement("br",null),r.a.createElement("code",{className:"code"},"curl http://api.orcestra.ca/pset/[ DOI ]"),r.a.createElement("br",null),"Example:",r.a.createElement("br",null),r.a.createElement("code",{className:"code"},"curl http://api.orcestra.ca/pset/10.5281/zenodo.3905462"),r.a.createElement("br",null),"Current result of the successful API call is as follows:",r.a.createElement("br",null)),r.a.createElement(_e.ScrollPanel,{className:"documentation-scroll"},r.a.createElement("div",null,r.a.createElement("pre",null,a))))},Ue=function(){var e=Object(n.useState)([]),t=Object(v.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/psets/statistics/5");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(JSON.stringify(a,null,2));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"documentation"},r.a.createElement("h2",null,"Statistics"),r.a.createElement("p",null,"This RESTful API call restrieves a list of PSets ordered by the number of downloads:",r.a.createElement("br",null),r.a.createElement("code",{className:"code"},"curl http://api.orcestra.ca/psets/statistics/[ number of psets to be returned ]"),r.a.createElement("br",null),"Example:",r.a.createElement("br",null),r.a.createElement("code",{className:"code"},"curl http://api.orcestra.ca/psets/statistics/5"),r.a.createElement("br",null),"Current result of the successful API call is as follows:",r.a.createElement("br",null)),r.a.createElement(_e.ScrollPanel,{className:"documentation-scroll"},r.a.createElement("div",null,r.a.createElement("pre",null,a))))},Ye=function(e){var t=Object(n.useState)(e.match.params.section),a=Object(v.a)(t,2),l=a[0],c=a[1];return r.a.createElement("div",{className:"pageContent"},r.a.createElement("div",{className:"documentationContent"},r.a.createElement("nav",{className:"documentationNav"},r.a.createElement("h2",null,"Functionality"),r.a.createElement("ul",null,r.a.createElement("li",{className:"overview"===l?"selected":void 0},r.a.createElement("button",{type:"button",onClick:function(){return c("overview")}},"Overview")),r.a.createElement("li",{className:"search"===l?"selected":void 0},r.a.createElement("button",{type:"button",onClick:function(){return c("search")}},"Search")),r.a.createElement("li",{className:"request"===l?"selected":void 0},r.a.createElement("button",{type:"button",onClick:function(){return c("request")}},"Request")),r.a.createElement("li",{className:"userProfile"===l?"selected":void 0},r.a.createElement("button",{type:"button",onClick:function(){return c("userProfile")}},"Profile/Statistics"))),r.a.createElement("h2",null,"Support"),r.a.createElement("ul",null,r.a.createElement("li",{className:"datacontribution"===l?"selected":void 0},r.a.createElement("button",{type:"button",onClick:function(){return c("datacontribution")}},"Contributing Your Data"))),r.a.createElement("h2",null,"API"),r.a.createElement("ul",null,r.a.createElement("li",{className:"api-psets-available"===l?"selected":void 0},r.a.createElement("button",{type:"button",onClick:function(){return c("api-psets-available")}},"Available PSets")),r.a.createElement("li",{className:"api-pset-single"===l?"selected":void 0},r.a.createElement("button",{type:"button",onClick:function(){return c("api-pset-single")}},"Single PSet")),r.a.createElement("li",{className:"api-statistics"===l?"selected":void 0},r.a.createElement("button",{type:"button",onClick:function(){return c("api-statistics")}},"Statistics")))),"overview"===l&&r.a.createElement(Te,null),"search"===l&&r.a.createElement(Re,null),"request"===l&&r.a.createElement(Ie,null),"userProfile"===l&&r.a.createElement(Ae,null),"datacontribution"===l&&r.a.createElement(ze,null),"api-psets-available"===l&&r.a.createElement(Ve,null),"api-pset-single"===l&&r.a.createElement(Je,null),"api-statistics"===l&&r.a.createElement(Ue,null)))},Ge=(a(173),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageContent"},r.a.createElement("div",{className:"tutorial-container"},r.a.createElement("h2",null,"Generating PSet with Your Data"),r.a.createElement(_e.ScrollPanel,{className:"tutorial-scroll"},r.a.createElement("div",{className:"tutorial-text"},"If you would like to generate a PSet with your own data, plase submit the data to ",r.a.createElement("b",null,"support@orcestra.ca"),". ",r.a.createElement("br",null),"Please ensure your data submission follows the respective format below:",r.a.createElement("br",null),"The following are a list of requirements that must be fulfilled in order to successfully generate a PharmacoSet (PSet) object in PharmacoGx:"),r.a.createElement("ol",{className:"tutorial-list"},r.a.createElement("li",null,r.a.createElement("h2",null,"Cell line annotation"),r.a.createElement("div",{className:"tutorial-text"},"Please provide the number of cell lines that will be utilized, along with their respective cell line ID\u2019s (e.g. 184A1, 22RV1).")),r.a.createElement("li",null,r.a.createElement("h2",null,"Drug annotation"),r.a.createElement("div",{className:"tutorial-text"},"Please provide the number of drugs that will be utilized, along with their respective  drug ID\u2019s (preferably PubChem) (e.g. lapatinib).")),r.a.createElement("li",null,r.a.createElement("h2",null,"Tissue annotation"),r.a.createElement("div",{className:"tutorial-text"},"Tissue types for each cell line ID provided (e.g. breast).")),r.a.createElement("li",null,r.a.createElement("h2",null,"Cell line metadata"),r.a.createElement("div",{className:"tutorial-text"},"Metadata for each cell ID (e.g. transcriptional subtype for each cell id).")),r.a.createElement("li",null,r.a.createElement("h2",null,"Drug metadata"),r.a.createElement("div",{className:"tutorial-text"},"Metadata for each drug ID.")),r.a.createElement("li",null,r.a.createElement("h2",null,"Processed drug response data"),r.a.createElement("div",{className:"tutorial-text"},r.a.createElement("ol",null,r.a.createElement("li",null,r.a.createElement("div",null,"Sensitivity info (cell line id and drug id for each cell line and drug pair used in sensitivity measurements, minimum and maximum drug dose for each cell line and drug pair, number of concentrations tested for each cell line and drug pair)."),r.a.createElement("img",{src:"/images/tutorial/sensitivity.png",alt:""})),r.a.createElement("li",null,r.a.createElement("div",null,"Raw Sensitivity (Drug dose values for each cell line and drug pair, along with their respective viability values)."),r.a.createElement("h4",null,"Doses"),r.a.createElement("img",{src:"/images/tutorial/doses.png",alt:""}),r.a.createElement("h4",null,"Viability"),r.a.createElement("img",{src:"/images/tutorial/viability.png",alt:""})),r.a.createElement("li",null,r.a.createElement("div",null,"Sensitivity Profiles (AAC, IC50, EC50, Einf etc values for each cell line and drug pair)"),r.a.createElement("img",{src:"/images/tutorial/sensitivity_profiles.png",alt:""}))),r.a.createElement("p",null,"Note: Please ensure sensitivity info, profiles, and raw sensitivity are in an organized data frame in R."))),r.a.createElement("li",null,r.a.createElement("h2",null,"Processed molecular profiles"),r.a.createElement("div",{className:"tutorial-text"},r.a.createElement("ol",null,r.a.createElement("li",null,"Please provide the processed molecular data you would like to include in the PSet (e.g Kallisto h5 abundance files), along with processing details (e.g. reference genome, transcriptome)."),r.a.createElement("li",null,"Phenotypic (e.g. batch ids) and feature data (e.g. gencode gene id) for each cell line used in the molecular profiles.")))))))))}),We=(a(174),a(175),function e(t){var a=Object(n.useContext)(h),l=Object(n.useState)(!1),c=Object(v.a)(l,2),s=c[0],i=c[1],o=Object(n.useState)(""),u=Object(v.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(v.a)(p,2),S=f[0],O=f[1],w=Object(n.useState)(!0),N=Object(v.a)(w,2),x=N[0],j=N[1];Object(n.useEffect)((function(){m.length>=6?m===S&&j(!1):j(!0)}),[m,S]);var C=function(){var t=Object(E.a)(b.a.mark((function t(n){var r,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("/api/user/reset",{method:"POST",body:JSON.stringify({user:{username:a.username,password:m}}),headers:{"Content-type":"application/json"}});case 3:return r=t.sent,t.next=6,r.json();case 6:(l=t.sent).authenticated?(console.log("authenticated"),a.setAuthToken(l),d(""),O(""),i(!1),e.messages.show({severity:"success",summary:"Password changed"})):e.messages.show({severity:"error",summary:"Error occurred",detail:"Password could not be changed"});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("div",{className:"userInfoContainer"},r.a.createElement("h2",null,"User Information"),r.a.createElement(de.Messages,{ref:function(t){return e.messages=t}}),r.a.createElement("div",{className:"userInfo"},"Username: ",a.username),a.isAdmin&&r.a.createElement("div",{className:"userInfo"},r.a.createElement(g.b,{to:"/admin"},"Admin Menu")),s&&r.a.createElement("div",null,r.a.createElement("div",null,r.a.createElement("div",{className:"pwdMsg"},"Password needs to be at least 6 characters in length"),r.a.createElement(me.InputText,{className:"pwdInput",type:"password",name:"password1",value:m,onChange:function(e){d(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"Confirm your password:"),r.a.createElement(me.InputText,{className:"pwdInput",type:"password",name:"password2",value:S,onChange:function(e){O(e.target.value)}}))),r.a.createElement("div",{className:"userInfoBtn"},s?r.a.createElement("div",null,r.a.createElement(y.Button,{className:"pwdReset",label:"Reset",onClick:C,disabled:x}),r.a.createElement(y.Button,{className:"pwdReset",label:"Cancel",onClick:function(e){e.preventDefault(),i(!1)}})):r.a.createElement(y.Button,{label:"Reset password",onClick:function(e){e.preventDefault(),i(!0)}})))}),Ke=(a(176),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).handleBtnClick=function(t){e.setState({dialogVisible:!0})},e.state={selectedPSets:[],btnDisabled:!0,dialogVisible:!1,btnYesDislabed:!1},e.handleBtnClick=e.handleBtnClick.bind(Object(le.a)(e)),e.handleSelectionChange=e.handleSelectionChange.bind(Object(le.a)(e)),e.onClickYes=e.onClickYes.bind(Object(le.a)(e)),e.onHide=e.onHide.bind(Object(le.a)(e)),e.showMessages=e.showMessages.bind(Object(le.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"handleSelectionChange",value:function(e){var t=this;this.setState({selectedPSets:e},(function(){t.state.selectedPSets&&t.state.selectedPSets.length>0?t.setState({btnDisabled:!1}):t.setState({btnDisabled:!0})}))}},{key:"showMessages",value:function(e,t){he(e,t,null,this.props.messages)}},{key:"onClickYes",value:function(){var e=this;this.setState({btnDisabled:!0,btnYesDislabed:!0}),this.props.handleBtnClick(this.state.selectedPSets,(function(t){t?e.setState({btnDisabled:!1}):e.setState({selectedPSets:[],dialogVisible:!1})}))}},{key:"onHide",value:function(){this.setState({dialogVisible:!1,btnYesDislabed:!1})}},{key:"render",value:function(){var e=r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement(re,{allData:this.props.pset,selectedPSets:this.state.selectedPSets,updatePSetSelection:this.handleSelectionChange,scrollHeight:"350px",pending:this.props.pending,download:!0,authenticated:!0})),r.a.createElement("div",{className:"footer"},!this.props.pending&&r.a.createElement(y.Button,{label:this.props.btnLabel,onClick:this.handleBtnClick,disabled:this.state.btnDisabled}))),t=r.a.createElement("p",null,"No data available."),a=r.a.createElement("div",null,r.a.createElement(y.Button,{label:"Yes",onClick:this.onClickYes,disabled:this.state.btnYesDislabed}),r.a.createElement(y.Button,{label:"Cancel",onClick:this.onHide}));return r.a.createElement("div",{className:"userPSet"},r.a.createElement("h2",null,this.props.heading),r.a.createElement("div",{className:"userPSetContent"},this.props.pset?e:t),r.a.createElement("div",null,r.a.createElement(D.Dialog,{header:"Removing Pset(s)",footer:a,visible:this.state.dialogVisible,style:{width:"300px"},modal:!0,onHide:this.onHide},"Are you sure you would like to remove the selected PSet(s) from the saved list?")))}}]),t}(r.a.Component)),$e=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).removeFromSavedList=function(t,a){for(var n=[],r=0;r<t.length;r++)n.push(t[r]._id);fetch("/api/user/pset/remove",{method:"POST",body:JSON.stringify({username:e.context.username,psetID:n}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){he(1,t,null,e.messages);var r=e.state.psetSaved;r=e.removePSetByID(r,n),e.setState({psetSaved:r},a(0))})).catch((function(t){he(0,t,null,e.messages),a(1)}))},e.cancelPSetRequest=function(t,a){for(var n=[],r=0;r<t.length;r++)n.push(t[r]._id);fetch("/api/pset/cancel",{method:"POST",body:JSON.stringify({username:e.context.username,psetID:n}),headers:{"Content-type":"application/json"}}).then((function(e){return e.json()})).then((function(t){he(1,t,null,e.messages);var r=e.state.psetInProcess;r=e.removePSetByID(r,n),e.setState({psetInProcess:r},a(0))})).catch((function(t){he(0,t,null,e.messages),a(1)}))},e.state={username:"",userEmail:"",psetSaved:[],psetInProcess:[]},e.removeFromSavedList=e.removeFromSavedList.bind(Object(le.a)(e)),e.cancelPSetRequest=e.cancelPSetRequest.bind(Object(le.a)(e)),e.findPSetByID=e.findPSetByID.bind(Object(le.a)(e)),e.removePSetByID=e.removePSetByID.bind(Object(le.a)(e)),e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/api/user/pset/?username="+this.context.username).then((function(e){return e.json()})).then((function(t){for(var a=[],n=[],r=0;r<t.length;r++)"complete"===t[r].status?a.push(t[r]):n.push(t[r]);e.setState({psetSaved:a,psetInProcess:n})}))}},{key:"findPSetByID",value:function(e,t){for(var a=0;a<e.length;a++)if(e[a]._id===t)return a;return-1}},{key:"removePSetByID",value:function(e,t){for(var a=0;a<t.length;a++){var n=this.findPSetByID(e,t[a]);n>-1&&e.splice(n,1)}return e}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"pageContent"},r.a.createElement("h2",null,"Your Profile"),r.a.createElement("div",{className:"userProfile"},r.a.createElement(We,null),r.a.createElement("div",{className:"userPSetLists"},r.a.createElement(de.Messages,{ref:function(t){return e.messages=t}}),r.a.createElement(Ke,{heading:"Your Saved PSets",btnLabel:"Remove from List",pset:this.state.psetSaved,handleBtnClick:this.removeFromSavedList,messages:this.messages}),r.a.createElement(Ke,{heading:"Your PSet Requests in Process",pset:this.state.psetInProcess,pending:!0}))))}}]),t}(r.a.Component);$e.contextType=h;var Xe=$e;function Ze(){var e=Object(I.a)(["\n    display: flex;\n    align-items: center;\n    button {\n        margin-left: 20px;\n    }\n"]);return Ze=function(){return e},e}var Qe=A.a.div(Ze()),et=function e(t){var a=Object(n.useContext)(h),l=Object(n.useState)({ready:!1,psets:[]}),c=Object(v.a)(l,2),s=c[0],i=c[1],o=Object(n.useState)([]),u=Object(v.a)(o,2),m=u[0],d=u[1];Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ie.trackPromise)(fetch("/api/pset/search",{method:"POST",body:JSON.stringify({parameters:{status:"complete"}}),headers:{"Content-type":"application/json"}}));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),d(a.filter((function(e){return e.canonical}))),i({ready:!0,psets:a});case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var p=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),i(Object(C.a)({},s,{ready:!1})),e.next=4,Object(ie.trackPromise)(fetch("/api/pset/canonical/update",{method:"POST",body:JSON.stringify({selected:m}),headers:{"Content-type":"application/json"}}));case 4:return e.next=6,Object(ie.trackPromise)(fetch("/api/pset/search",{method:"POST",body:JSON.stringify({parameters:{status:"complete"}}),headers:{"Content-type":"application/json"}}));case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,d(n.filter((function(e){return e.canonical}))),i({ready:!0,psets:n});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"pageContent"},r.a.createElement("h2",null,"Administrator's Menu"),r.a.createElement(de.Messages,{ref:function(t){return e.messages=t}}),r.a.createElement(Qe,null,r.a.createElement("h3",null,"Update Canonical PSets"),r.a.createElement(y.Button,{label:"Update",type:"submit",onClick:p})),s.ready?r.a.createElement(re,{psets:s.psets,selectedPSets:m,updatePSetSelection:function(e){console.log(e),d(e)},scrollHeight:"600px",authenticated:a.authenticated,download:!1}):r.a.createElement(ue.a,{type:"ThreeDots",color:"#3D405A",height:100,width:100}))},tt=function e(t){var a=Object(n.useContext)(h),l=Object(n.useState)(""),c=Object(v.a)(l,2),s=c[0],i=c[1],o=Object(n.useState)(""),u=Object(v.a)(o,2),m=u[0],d=u[1],p=Object(n.useState)(""),f=Object(v.a)(p,2),g=f[0],S=f[1],O=Object(n.useState)(""),w=Object(v.a)(O,2),N=w[0],x=w[1],j=Object(n.useState)(!1),C=Object(v.a)(j,2),P=C[0],k=C[1],D=Object(n.useState)(!1),T=Object(v.a)(D,2),R=T[0],I=T[1],A=Object(n.useState)(!1),q=Object(v.a)(A,2),M=q[0],F=q[1],B=Object(n.useState)(!0),L=Object(v.a)(B,2),H=L[0],z=L[1],_=Object(n.useState)(!0),V=Object(v.a)(_,2),J=V[0],U=V[1],Y=Object(n.useState)(!0),G=Object(v.a)(Y,2),W=G[0],K=G[1];Object(n.useEffect)((function(){/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(s)?z(!1):z(!0)}),[s]),Object(n.useEffect)((function(){m.length>=6?U(!1):U(!0)}),[m]),Object(n.useEffect)((function(){g.length>=6?g===N&&K(!1):K(!0)}),[g,N]);var $=function(e){switch(e.target.name){case"email":i(e.target.value);break;case"password":d(e.target.value);break;case"passwordReg1":S(e.target.value);break;case"passwordReg2":x(e.target.value)}},X=function(){i(""),d(""),S(""),x(""),k(!1),I(!1),F(!1),z(!0),U(!0),K(!0)},Z=function(){var e=Object(E.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a="/api/user/check/?username="+s,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,n.ok&&(k(!0),I(r.exists),F(r.registered));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var t=Object(E.a)(b.a.mark((function t(n){var r,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("/api/user/login",{method:"POST",body:JSON.stringify({user:{username:s,password:m}}),headers:{"Content-type":"application/json"}});case 3:return r=t.sent,t.next=6,r.json();case 6:(l=t.sent).authenticated?(console.log("authenticated"),X(),a.setAuthToken(l)):e.messages.show({severity:"error",summary:"Login Failed",detail:"Please re-enter your email and password."});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var t=Object(E.a)(b.a.mark((function t(n){var r,l;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.next=3,fetch("/api/user/register",{method:"POST",body:JSON.stringify({user:{username:s,password:g,exists:R}}),headers:{"Content-type":"application/json"}});case 3:return r=t.sent,t.next=6,r.json();case 6:l=t.sent,r.status?(X(),a.setAuthToken({authenticated:l.authenticated,username:l.username})):e.messages.show({severity:"error",summary:"Registration Failed",detail:l.message});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),te=function(){var t=Object(E.a)(b.a.mark((function t(a){var n,r;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),console.log("reset click"),t.next=4,fetch("/api/user/reset/email",{method:"POST",body:JSON.stringify({email:s}),headers:{"Content-type":"application/json"}});case 4:return n=t.sent,t.next=7,n.json();case 7:r=t.sent,n.ok?e.messages.show({severity:"success",summary:"Email has been sent.",detail:"Please follow the link in the email to reset your password."}):e.messages.show({severity:"error",summary:"An error occurred",detail:r.message});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Login/Register"),r.a.createElement(de.Messages,{ref:function(t){return e.messages=t}}),r.a.createElement("h4",null,"Enter your email:"),r.a.createElement("div",{className:"emailInput"},r.a.createElement(me.InputText,{type:"email",name:"email",value:s,onChange:$}),r.a.createElement(y.Button,{className:"btnLoginFind",label:"Find",icon:"pi pi-arrow-right",onClick:Z,disabled:H})),P?r.a.createElement("div",{className:"formContainer"},M?r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,"Login with your password:"),r.a.createElement("div",{className:"pwdMsg"},"Password needs to be at least 6 characters in length"),r.a.createElement(me.InputText,{className:"pwdInput",type:"password",name:"password",value:m,onChange:$}),r.a.createElement("div",null,r.a.createElement(y.Button,{label:"Login",onClick:Q,disabled:J})),r.a.createElement("div",null,r.a.createElement("button",{className:"forgotPasswordBtn",onClick:te},"Reset your password"))):r.a.createElement(r.a.Fragment,null,r.a.createElement("h4",null,R?"Email is not registered. ":"Email not found. ","Please register."),r.a.createElement("div",null,r.a.createElement("div",{className:"pwdMsg"},"Password needs to be at least 6 characters in length"),r.a.createElement(me.InputText,{className:"pwdInput",type:"password",name:"passwordReg1",value:g,onChange:$})),r.a.createElement("div",null,r.a.createElement("label",null,"Confirm your password:"),r.a.createElement(me.InputText,{className:"pwdInput",type:"password",name:"passwordReg2",value:N,onChange:$})),r.a.createElement("div",null,r.a.createElement(y.Button,{label:"Register",onClick:ee,disabled:W})))):"")},at=(a(62),Object(p.g)((function(e){var t=Object(n.useContext)(h),a=e.location,l=a.state?a.state.logoutMsg:void 0;return r.a.createElement(r.a.Fragment,null,t.authenticated?a.state&&"/"!==a.state.path?r.a.createElement(p.a,{to:a.state.path}):r.a.createElement(p.a,{to:"/Profile"}):r.a.createElement("div",{className:"pageContent"},r.a.createElement("div",{className:"loginRegContent"},r.a.createElement("div",{className:"logoutMsg"},l||""),r.a.createElement(tt,null))))}))),nt=function e(t){var a=Object(n.useState)(""),l=Object(v.a)(a,2),c=l[0],s=l[1],i=Object(n.useState)(""),o=Object(v.a)(i,2),u=o[0],m=o[1],d=Object(n.useState)(""),p=Object(v.a)(d,2),h=p[0],f=p[1],g=Object(n.useState)(!0),S=Object(v.a)(g,2),O=S[0],w=S[1];Object(n.useEffect)((function(){u.length>=6&&u===h&&/^\w+([.-]?\w+)*@\w+([.-]?\w+)*(\.\w{2,3})+$/.test(c)?w(!1):w(!0)}),[c,u,h]);var N=function(){var a=Object(E.a)(b.a.mark((function a(n){var r,l;return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n.preventDefault(),a.next=3,fetch("/api/user/reset/token",{method:"POST",body:JSON.stringify({user:{username:c,password:u,token:t.match.params.token}}),headers:{"Content-type":"application/json"}});case 3:return r=a.sent,a.next=6,r.json();case 6:l=a.sent,console.log(l),l.status?e.messages.show({severity:"success",summary:"Password has been reset",detail:"Please login using your new password."}):e.messages.show({severity:"error",summary:"Password could not be reset",detail:l.message});case 9:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageContent"},r.a.createElement("div",{className:"loginRegContent"},r.a.createElement("h2",null,"Reset Password"),r.a.createElement(de.Messages,{ref:function(t){return e.messages=t}}),r.a.createElement("div",{className:"emailInput"},r.a.createElement("label",null,"Email:"),r.a.createElement(me.InputText,{type:"email",name:"email",value:c,onChange:function(e){s(e.target.value)}})),r.a.createElement("div",{className:"formContainer"},r.a.createElement("h4",null,"Enter new password"),r.a.createElement("div",null,r.a.createElement("div",{className:"pwdMsg"},"Password needs to be at least 6 characters in length"),r.a.createElement(me.InputText,{className:"pwdInput",type:"password",name:"password1",value:u,onChange:function(e){m(e.target.value)}})),r.a.createElement("div",null,r.a.createElement("label",null,"Confirm new password:"),r.a.createElement(me.InputText,{className:"pwdInput",type:"password",name:"password2",value:h,onChange:function(e){f(e.target.value)}})),r.a.createElement("div",null,r.a.createElement(y.Button,{label:"Reset",onClick:N,disabled:O}))))))},rt=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=r.a.createElement("div",null,this.props.metadata.dataset.versionInfo.publication.length?this.props.metadata.dataset.versionInfo.publication.map((function(e){return r.a.createElement("li",{key:e.link,className:"pubList"},r.a.createElement("div",{className:"subContent"},e.citation),r.a.createElement("br",null),r.a.createElement("div",{className:"subContent"},r.a.createElement("a",{href:e.link},e.link)))})):r.a.createElement("div",{className:"subContent"},"Not available."));return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null,"Dataset: ",this.props.metadata.dataset.label),r.a.createElement(_,null,r.a.createElement(V,null,r.a.createElement("h3",null,"Drug Sensitivity"),r.a.createElement("h4",{className:"subContent"},"Source: ",this.props.metadata.dataset.versionInfo.drugSensitivity.source?r.a.createElement("a",{href:this.props.metadata.dataset.versionInfo.drugSensitivity.source},this.props.metadata.dataset.versionInfo.drugSensitivity.source):"Not available"),r.a.createElement("h4",{className:"subContent"},"Version: ",this.props.metadata.dataset.versionInfo.drugSensitivity.version)),r.a.createElement(V,null,r.a.createElement("h3",null,"Publication: "),r.a.createElement("ul",null,e)),r.a.createElement(V,null,r.a.createElement("h3",null,"Genome Version"),r.a.createElement("div",{className:"subContent"},this.props.metadata.genome.name?this.props.metadata.genome.name:"Not Available"))))}}]),t}(r.a.Component),lt=function(e){return r.a.createElement(r.a.Fragment,null,e.data.map((function(e){return r.a.createElement("div",{key:Math.random()},Array.isArray(e.source)?e.source.map((function(e){return r.a.createElement(V,{key:Math.random()},r.a.createElement("h3",null,e.label),r.a.createElement("h4",{className:"subContent"},"Source: ",r.a.createElement("a",{href:e.source},e.source)))})):r.a.createElement(V,{key:Math.random()},r.a.createElement("h3",null,function(e){switch(e){case"rna":return"Microarray";case"cnv":return"Copy Number Variation";case"mut":return"Mutation";case"fusion":return"Fusion";default:return""}}(e.type)),r.a.createElement("h4",{className:"subContent"},"Source: ",r.a.createElement("a",{href:e.source},e.source))))})))},ct=function(e){var t=e.metadata.find((function(e){return"rawSeqDataRNA"===e.name})),a=e.metadata.find((function(e){return"rnaRef"===e.name})),n=e.metadata.find((function(e){return"rnaTool"===e.name})),l=e.metadata.find((function(e){return"accRNA"===e.name}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null,"RNA Data"),r.a.createElement(_,null,t&&r.a.createElement(V,null,r.a.createElement("h3",null,"Raw Data Source: "),r.a.createElement("div",{className:"subContent"},r.a.createElement("a",{href:t.value},t.value))),a&&r.a.createElement(V,null,r.a.createElement("h3",null,"RNA Transcriptome"),r.a.createElement(Y,{items:a.value})),n&&r.a.createElement(V,null,r.a.createElement("h3",null,"Tools and Commands Used"),r.a.createElement(U,{items:n.value})),l&&r.a.createElement(lt,{data:l.value})))},st=function(e){var t=e.metadata.find((function(e){return"rawSeqDataDNA"===e.name})),a=e.metadata.find((function(e){return"dnaRef"===e.name})),n=e.metadata.find((function(e){return"dnaTool"===e.name})),l=e.metadata.find((function(e){return"accDNA"===e.name}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null,"DNA Data"),r.a.createElement(_,null,t&&r.a.createElement(V,null,r.a.createElement("h3",null,"Raw Data Source: "),r.a.createElement("div",{className:"subContent"},r.a.createElement("a",{href:t.value},t.value))),a&&r.a.createElement(V,null,r.a.createElement("h3",null,"Exome Reference"),r.a.createElement(G,{items:a.value})),n&&r.a.createElement(V,null,r.a.createElement("h3",null,"Tools and Commands Used"),r.a.createElement(U,{items:n.value})),l&&r.a.createElement(lt,{data:l.value})))};function it(){var e=Object(I.a)(["\n    display: flex;\n    align-items: center;\n    h3 {\n        margin-right: 10px;\n    }\n"]);return it=function(){return e},e}var ot=A.a.div(it()),ut=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(z,null,"Pipeline Data"),r.a.createElement(_,null,r.a.createElement(ot,null,r.a.createElement("h3",null,"Pachyderm CommitID:"),r.a.createElement("div",null,e.data.commitID)),r.a.createElement(ot,null,r.a.createElement("h3",null,"Docker Image: "),r.a.createElement("a",{target:"_blank",href:"https://hub.docker.com/r/"+e.data.config.transform.image.split(":")[0]},e.data.config.transform.image)),r.a.createElement(ot,null,r.a.createElement("h3",null,"Pipeline Repository: "),r.a.createElement("a",{target:"_blank",href:e.data.config.input.cross[0].git.url},e.data.config.input.cross[0].git.url)),r.a.createElement(J,null,r.a.createElement(R.AccordionTab,{header:"Pipeline Configuration File"},r.a.createElement("pre",null,JSON.stringify(e.data.config,null,2))))))},mt=a(40);function dt(){var e=Object(I.a)(["\n    width: 100%;\n    margin-bottom: 1.0rem;\n    font-size: 14px;\n    padding: 5px;\n    border: 1px solid #999999;\n    border-radius: 3px;\n    :focus {\n        outline: none;\n    }\n"]);return dt=function(){return e},e}function pt(){var e=Object(I.a)(["\n    margin-left: ",";\n    margin-right: ",";\n"]);return pt=function(){return e},e}var ht=A.a.div(pt(),(function(e){return e.style.margin?e.style.margin.left:"0.5rem"}),(function(e){return e.style.margin?e.style.margin.right:"0.5rem"})),ft=A.a.input(dt()),bt=function(e){var t=e.column,a=e.style;return r.a.createElement(ht,{style:a},t.canFilter&&t.render("Filter"))},Et=function(e){var t=e.column,a=t.filterValue,n=t.setFilter,l=(t.preFilteredRows,t.filterPlaceholder);return r.a.createElement(ft,{value:a||"",onChange:function(e){n(e.target.value||void 0)},placeholder:l})};function vt(){var e=Object(I.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    padding: 10px 0 10px 0;\n\n    .pageIndex {\n        max-width: 500px;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin-left: 1%;\n        margin-right: 1%;\n\n        button {\n            border: none;\n            background: none;\n            padding: 0;\n            line-height: 0;\n            cursor: pointer;\n        }\n    \n        button:focus {\n            outline: none;\n        }\n    \n        button: disabled {\n            cursor: not-allowed;\n            pointer-events: none;\n            color: #999999;\n        }\n\n        .arrows {\n            line-height: 0;\n        }\n    \n        .arrowbtn {\n            font-size: 20px;\n            color: #3D405A;\n        }\n    \n        .indexbtn {\n            font-size: 15px;\n            margin-left: 5px;\n            margin-right: 5px;\n            color: #666666;\n        }\n    \n        .current {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n\n    .pageCounter {\n        line-height: 0;\n        color: #666666;\n        margin-left: 1%;\n        margin-right: 1%;\n    }\n\n    .pageSkip {\n        margin-left: 1%;\n        margin-right: 1%;\n        span {\n            margin-right: 10px;\n            color: #666666;\n        }\n\n        input[type=number] {\n            width: 10%;\n            min-width: 50px;\n            padding: 5px;\n            color: #666666;\n            border: 1px solid #666666;\n            border-radius: 5px;\n        }\n\n        input:focus {\n            outline: none;\n        }\n    }\n\n    .pageSizeChange {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        margin-left: 1%;\n        margin-right: 1%;\n        span {\n            margin-left: 10px;\n            color: #666666;\n        }\n    }\n"]);return vt=function(){return e},e}var gt=A.a.div(vt()),yt=function(e){return r.a.createElement(gt,{style:e.style},e.pageOptions.length>1&&r.a.createElement("div",{className:"pageIndex"},r.a.createElement("div",{className:"arrows"},r.a.createElement("button",{className:"arrowbtn",onClick:function(){return e.gotoPage(0)},disabled:0===e.pageIndex},r.a.createElement("i",{className:"pi pi-fw pi-angle-double-left"})),r.a.createElement("button",{className:"arrowbtn",onClick:function(){return e.previousPage()},disabled:!e.canPreviousPage},r.a.createElement("i",{className:"pi pi-fw pi-angle-left"}))),e.pageIndexArray.map((function(t){return r.a.createElement("button",{key:t,className:"indexbtn ".concat(t===e.pageIndex?"current":""),onClick:function(){return e.gotoPage(t)}},t+1)})),r.a.createElement("div",{className:"arrows"},r.a.createElement("button",{className:"arrowbtn",onClick:function(){return e.nextPage()},disabled:!e.canNextPage},r.a.createElement("i",{className:"pi pi-fw pi-angle-right"})),r.a.createElement("button",{className:"arrowbtn",onClick:function(){return e.gotoPage(e.pageOptions.length-1)},disabled:e.pageIndex===e.pageOptions.length-1},r.a.createElement("i",{className:"pi pi-fw pi-angle-double-right"})))),e.pageCounter&&r.a.createElement("div",{className:"pageCounter"},e.pageIndex+1," of ",e.pageOptions.length),e.pageSkip&&r.a.createElement("div",{className:"pageSkip"},r.a.createElement("span",null,"Go to:"),r.a.createElement("input",{type:"number",defaultValue:e.pageIndex+1||1,onChange:function(t){var a=t.target.value?Number(t.target.value)-1:0;e.gotoPage(a)}})),e.pageSizeChange&&r.a.createElement("div",{className:"pageSizeChange"},r.a.createElement(te.Dropdown,{options:[5,10,20,30,40,50,100].map((function(e){return{value:e,label:e}})),value:e.pageSize,default:e.pageSize,placeholder:"",onChange:function(t){e.setPageSize(t.value)}}),r.a.createElement("span",null,"rows/page")))};function St(){var e=Object(I.a)(["\n    width: ",";\n    color: #666666;\n\n    table{\n        border-collapse: collapse;\n        width: ",";\n    }\n\n    thead {\n        font-size: 12px;\n        color: #666666;\n    }  \n\n    tbody {\n        font-size: 12px;\n    }\n\n    tbody tr:nth-child(even) {\n\n    }\n\n    th[class='header'] {\n        vertical-align: top;\n        .headerContent {\n            display: flex;\n            align-items: ",";\n            justify-content: ",";\n            margin: 0.5rem 0.5rem;\n        }\n    }\n\n    th {\n        text-align: ",";\n        letter-spacing: 0.5px;\n    }\n\n    tbody td {\n        padding: ",";\n        text-align: ",";\n    }\n"]);return St=function(){return e},e}var Ot=A.a.div(St(),(function(e){return e.style.width?e.style.width:"100%"}),(function(e){return e.style.width?e.style.width:"100%"}),(function(e){return e.style.headerTextAlign?e.style.headerTextAlign:"center"}),(function(e){return e.style.headerTextAlign?e.style.headerTextAlign:"center"}),(function(e){return e.style.headerTextAlign?e.style.headerTextAlign:"center"}),(function(e){return e.style.cellPadding?e.style.cellPadding:"1.5rem 0.5rem"}),(function(e){return e.style.cellTextAlign?e.style.cellTextAlign:"center"})),wt=function(e){var t=Object(n.useState)(Array.from(Array(5).keys())),a=Object(v.a)(t,2),l=a[0],c=a[1],s=Object(mt.useTable)({columns:e.columns,data:e.data,initialState:{pageIndex:0,pageSize:e.pageSize,sortBy:e.sortBy?e.sortBy:[],hideHeader:e.hideHeader},defaultColumn:{Filter:Et}},mt.useFilters,mt.useSortBy,mt.usePagination),i=s.getTableProps,o=s.getTableBodyProps,u=s.headerGroups,m=s.prepareRow,d=s.pageOptions,p=s.page,h=s.state,f=h.pageIndex,b=h.pageSize,E=h.hideHeader,g=s.gotoPage,y=s.previousPage,S=s.nextPage,O=s.setPageSize,w=s.canPreviousPage,N=s.canNextPage;Object(n.useEffect)((function(){var e=d.length>=5?5:d.length,t=0;2!=l.indexOf(f)&&f-2>0&&f+2<d.length-1?t=d[f-2]:f+2>=d.length-1&&(t=d.length-e),c(Array(e).fill().map((function(e,a){return t+a})))}),[f]);return r.a.createElement(Ot,{style:e.style},r.a.createElement("table",i(),r.a.createElement("thead",null,u.map((function(t){return r.a.createElement("tr",t.getHeaderGroupProps(),t.headers.map((function(t){return r.a.createElement("th",Object.assign({className:"header"},t.getHeaderProps({style:{width:t.width||"auto"}})),!E&&r.a.createElement("div",Object.assign({className:"headerContent"},t.getSortByToggleProps()),t.render("Header"),function(e){return e.disableSortBy?"":e.isSorted?e.isSortedDesc?r.a.createElement("i",{className:"pi pi-fw pi-arrow-down"}):r.a.createElement("i",{className:"pi pi-fw pi-arrow-up"}):r.a.createElement("i",{className:"pi pi-fw pi-sort-alt"})}(t)),r.a.createElement(bt,{column:t,style:e.filterStyle}))})))}))),r.a.createElement("tbody",o(),p.map((function(e){return m(e),r.a.createElement("tr",e.getRowProps(),e.cells.map((function(e){return r.a.createElement("td",Object.assign({key:Math.random()},e.getCellProps),e.render("Cell"))})))})))),r.a.createElement(yt,{style:e.style,gotoPage:g,previousPage:y,nextPage:S,pageIndex:f,pageIndexArray:l,canPreviousPage:w,canNextPage:N,pageOptions:d,pageSize:b,setPageSize:O,pageCounter:e.pageCounter,pageSkip:e.pageSkip,pageSizeChange:e.pageSizeChange}))};function Nt(){var e=Object(I.a)(["\n    height: 300px;\n    width: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return Nt=function(){return e},e}function xt(){var e=Object(I.a)(["\n    margin-left: 10px;\n    .flex{\n        display: flex;\n    }\n    .column {\n        width: 30%;\n        min-width: 270px;\n        margin-right: 30px;\n    }\n    .none {\n        margin-left: 10px;\n        font-weight: bold;\n        font-size: 20px;\n        color: #3D405A;\n    }\n"]);return xt=function(){return e},e}var jt=A.a.div(xt()),Ct=A.a.div(Nt()),Pt=function(e){var t=Object(ie.usePromiseTracker)().promiseInProgress,a=Object(n.useState)({}),l=Object(v.a)(a,2),c=l[0],s=l[1],i=Object(n.useState)(!1),o=Object(v.a)(i,2),u=o[0],m=o[1];Object(n.useEffect)((function(){(function(){var t=Object(E.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(ie.trackPromise)(fetch("/api/pset/releasenotes/".concat(e.dataset.name,"/").concat(e.dataset.version,"/").concat(e.type)));case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,console.log(n),s(n),m(!0);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var d=Object(n.useMemo)((function(){return[{Header:"",accessor:"name",filterPlaceholder:"",disableFilters:!1,disableSortBy:!0}]}),[]),p=Object(n.useMemo)((function(){return[{Header:"Experiment ID",accessor:"experimentID",filterPlaceholder:"",disableFilters:!1,disableSortBy:!0,width:"20%"},{Header:"Cell Line",accessor:"cellLine",filterPlaceholder:"",disableFilters:!1,disableSortBy:!0,width:"10%"},{Header:"Drug",accessor:"drug",filterPlaceholder:"",disableFilters:!1,disableSortBy:!0,width:"15%"},{Header:"Min. Conc. Range",accessor:"concRangeMin",filterPlaceholder:"",disableFilters:!1,disableSortBy:!0,width:"10%"},{Header:"Max. Conc. Range",accessor:"concRangeMax",filterPlaceholder:"",disableFilters:!1,disableSortBy:!0,width:"10%"}]}),[]),h=Object(n.useMemo)((function(){return[{Header:"",accessor:"name",filterPlaceholder:"",disableFilters:!1,disableSortBy:!0}]}),[]),f=Object(n.useMemo)((function(){return[{Header:"",accessor:"name",filterPlaceholder:"",disableFilters:!1,disableSortBy:!0}]}),[]),g=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.a.createElement(wt,{columns:e,data:t,pageSize:20,pageCounter:!0,pageSkip:!1,pageSizeChange:!1,hideHeader:!a,style:{headerTextAlign:"left",cellPadding:"0.5rem 0.5rem",cellTextAlign:"left"},filterStyle:{margin:{left:"0",right:"0"}}})};return r.a.createElement(jt,null,!t&&u?r.a.createElement("div",null,"experiments"===e.type&&r.a.createElement("div",null,r.a.createElement("h3",null,"Current (".concat(c[e.type].current.length,")")),g(p,c[e.type].current,!0)),r.a.createElement("div",{className:"flex"},"experiments"!=e.type&&r.a.createElement("div",{className:"column"},r.a.createElement("h3",null,"Current (".concat(c[e.type].current.length,")")),g(d,c[e.type].current)),r.a.createElement("div",{className:"column"},r.a.createElement("h3",null,"New".concat(c[e.type].new.length?" (".concat(c[e.type].new.length,")"):"")),c[e.type].new.length?g(h,c[e.type].new):r.a.createElement("div",{className:"none"},"N/A")),r.a.createElement("div",{className:"column"},r.a.createElement("h3",null,"Removed".concat(c[e.type].removed.length?" (".concat(c[e.type].removed.length,")"):"")),c[e.type].removed.length?g(f,c[e.type].removed):r.a.createElement("div",{className:"none"},"N/A")))):r.a.createElement(Ct,null,r.a.createElement(ue.a,{type:"ThreeDots",color:"#3D405A",height:100,width:100})))};function kt(){var e=Object(I.a)(["\n    margin-top: 20px;    \n    margin-bottom: 20px;\n    table {\n        td {\n            padding: 0.2rem;\n            font-size: 14px;\n        }\n        .title {\n            font-weight: bold;\n            color: #3D405A;\n        }\n    }\n"]);return kt=function(){return e},e}function Dt(){var e=Object(I.a)(["\n    display: flex;\n    margin-top: 15px;\n    padding-top: 10px;\n    padding-bottom: 10px;\n    .menuItem {\n        margin-right: 10px;\n        padding-bottom: 5px;\n        button {\n            border: none;\n            background: none;\n            cursor: pointer;\n            font-size: 16px;\n            color: #3D405A;\n        }\n        button:focus {\n            outline: none;\n        }\n    }\n    .selected {\n        button {\n            font-weight: bold;\n        }\n        border-bottom: 3px solid rgb(241, 144, 33);\n    }\n"]);return Dt=function(){return e},e}function Tt(){var e=Object(I.a)(["\n    margin-bottom: 30px;\n"]);return Tt=function(){return e},e}function Rt(){var e=Object(I.a)(["\n    width: 95%;\n    margin-left: auto;\n    margin-right: auto;\n"]);return Rt=function(){return e},e}var It=A.a.div(Rt()),At=A.a.div(Tt()),qt=A.a.div(Dt()),Mt=A.a.div(kt()),Ft=function(e){var t,a=Object(n.useState)("cellLines"),l=Object(v.a)(a,2),c=l[0],s=l[1];return r.a.createElement(It,null,r.a.createElement(At,null,r.a.createElement(qt,null,r.a.createElement("div",{className:"cellLines"===c?"menuItem selected":"menuItem"},r.a.createElement("button",{type:"button",onClick:function(){return s("cellLines")}},"Cell Lines")),r.a.createElement("div",{className:"drugs"===c?"menuItem selected":"menuItem"},r.a.createElement("button",{type:"button",onClick:function(){return s("drugs")}},"Drugs")),r.a.createElement("div",{className:"experiments"===c?"menuItem selected":"menuItem"},r.a.createElement("button",{type:"button",onClick:function(){return s("experiments")}},"Experiments")),r.a.createElement("div",{className:"molData"===c?"menuItem selected":"menuItem"},r.a.createElement("button",{type:"button",onClick:function(){return s("molData")}},"Molecular Data"))),"cellLines"===c&&r.a.createElement(Pt,{dataset:{name:e.data.name,version:e.data.version},type:"cellLines"}),"drugs"===c&&r.a.createElement(Pt,{dataset:{name:e.data.name,version:e.data.version},type:"drugs"}),"experiments"===c&&r.a.createElement(Pt,{dataset:{name:e.data.name,version:e.data.version},type:"experiments"}),"molData"===c&&(t=e.data.molData,r.a.createElement(Mt,null,r.a.createElement("table",null,r.a.createElement("tbody",null,Object.keys(t).map((function(e){return r.a.createElement("tr",{key:e},r.a.createElement("td",{className:"title"},function(e){switch(e){case"rnaSeq":return"RNA-seq: ";case"microarray":return"Microarray: ";case"mutation":return"Mutation: ";case"mutationExome":return"Mutation (Exome): ";case"cnv":return"CNV: ";case"fusion":return"Fusion: ";case"methylation":return"Methylation: "}}(e)),r.a.createElement("td",null,t[e]))}))))))))},Bt=function(e){var t=function(){var t=Object(E.a)(b.a.mark((function t(a){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),(n=document.createElement("a")).setAttribute("download",null),n.style.display="none",n.setAttribute("href",e.pset.downloadLink),document.body.appendChild(n),n.click(),document.body.removeChild(n),t.next=10,fetch("/api/pset/download",{method:"POST",body:JSON.stringify({psetID:e.pset.doi}),headers:{"Content-type":"application/json"}});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(y.Button,{label:"Download",disabled:e.disabled,onClick:t,style:{marginLeft:"30px"}})};function Lt(){var e=Object(I.a)(["\n    display: flex;\n    align-items: baseline;\n"]);return Lt=function(){return e},e}var Ht=A.a.div(Lt()),zt=function(e){var t=Object(n.useState)({}),a=Object(v.a)(t,2),l=a[0],c=a[1],s=Object(n.useState)(!1),i=Object(v.a)(s,2),o=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(v.a)(m,2),p=d[0],h=d[1];return Object(n.useEffect)((function(){(function(){var t=Object(E.a)(b.a.mark((function t(){var a,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("/api/pset/one/"+e.match.params.id1+"/"+e.match.params.id2);case 3:if(!(a=t.sent).ok){t.next=13;break}return t.next=7,a.json();case 7:n=t.sent,console.log(n),c(n),u(!0),t.next=14;break;case 13:h(!0);case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),console.log(t.t0),h(!0);case 20:case"end":return t.stop()}}),t,null,[[0,16]])})));return function(){return t.apply(this,arguments)}})()()}),[]),r.a.createElement("div",{className:"pageContent"},o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(Ht,null,r.a.createElement("h2",null,"Explore PSet - ",l.name),r.a.createElement(Bt,{disabled:!1,pset:l})),r.a.createElement(W,{data:l.generalInfo}),r.a.createElement(H,null,r.a.createElement(T.TabView,{renderActiveOnly:!1},l.tabData.map((function(e){return r.a.createElement(T.TabPanel,{key:Math.random(),header:e.header},"Dataset"===e.header&&r.a.createElement(rt,{metadata:e.data}),"RNA"===e.header&&r.a.createElement(ct,{metadata:e.data}),"DNA"===e.header&&r.a.createElement(st,{metadata:e.data}),"Pipeline"===e.header&&r.a.createElement(ut,{data:e.data}),"Release Notes"===e.header&&r.a.createElement(Ft,{data:e.data}))}))))),p&&r.a.createElement("h3",null,"PSet with the specified DOI could not be found"))};function _t(){var e=Object(I.a)(["\n    margin-bottom: 30px;\n    padding-bottom: 30px;\n    border-bottom: 1px solid #999999;\n"]);return _t=function(){return e},e}function Vt(){var e=Object(I.a)(["\n    td {\n        margin: 0;\n        padding-right: 30px;\n        padding-bottom: 10px;\n    }\n"]);return Vt=function(){return e},e}function Jt(){var e=Object(I.a)(["\n    margin-left: 30px;\n    width: 60%;\n"]);return Jt=function(){return e},e}function Ut(){var e=Object(I.a)(["   \n    margin-left: 30px;\n    margin-bottom: 10px;\n    .psetName {\n        font-size: 16px;\n    }\n    .rnaRefColumn {\n        width: 30%;\n    }\n    td {\n        width: 20%;\n        margin: 0;\n        padding-right: 50px;\n        padding-bottom: 10px;\n        font-size: 14px;\n        font-family: arial, san-serif;\n    }\n    td .bold {\n        font-weight: bold;\n    }\n"]);return Ut=function(){return e},e}function Yt(){var e=Object(I.a)(["\n    margin-bottom: 20px;\n    border-radius: 10px;\n    padding-top: 5px;\n    padding-left: 30px;\n    padding-right: 30px;\n    padding-bottom: 30px;\n    background-color: rgba(255, 255, 255, 0.8);\n"]);return Yt=function(){return e},e}var Gt=A.a.div(Yt()),Wt=A.a.table(Ut()),Kt=A.a.div(Jt()),$t=A.a.table(Vt()),Xt=A.a.div(_t()),Zt=function(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),l=a[0],c=a[1];Object(n.useEffect)((function(){(function(){var e=Object(E.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/pset/canonical");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,console.log(a),c(a);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var s=function(e){var t="Not Available";return e.length&&(t=e.map((function(e){return r.a.createElement("div",{key:e.name},e.label)}))),r.a.createElement("div",null,t)},i=function(e){var t="/"+e.doi;return r.a.createElement(g.b,{to:t,target:"_blank"},e.name)};return r.a.createElement("div",{className:"pageContent"},r.a.createElement("h2",null,"List of Canonical PSets (The Latest Version of PSets Created by BHK Lab)"),r.a.createElement(Gt,null,l.map((function(e){return r.a.createElement(Xt,{key:e.dataset},r.a.createElement("h4",null,e.dataset),(t=e.canonicals,r.a.createElement(Wt,null,r.a.createElement("tbody",null,t.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{className:"psetName"},i(e)),r.a.createElement("td",null,r.a.createElement("div",null,"Drug Sensitivity Data:")," ",r.a.createElement("span",{className:"bold"},e.dataset.versionInfo)),r.a.createElement("td",null,"RNA Tools: ",r.a.createElement("span",{className:"bold"},s(e.rnaTool))),r.a.createElement("td",{className:"rnaRefColumn"},"RNA Ref: ",r.a.createElement("span",{className:"bold"},s(e.rnaRef))))}))))),e.nonCanonicals.length?r.a.createElement(Kt,null,r.a.createElement(R.Accordion,null,r.a.createElement(R.AccordionTab,{header:"Other Versions"},function(e){return r.a.createElement($t,null,r.a.createElement("tbody",null,e.map((function(e){return r.a.createElement("tr",{key:e.name},r.a.createElement("td",{className:"psetName"},i(e)),r.a.createElement("td",null,r.a.createElement("div",null,"Drug Sensitivity Data:")," ",e.dataset.versionInfo),r.a.createElement("td",null,"RNA Tools: ",s(e.rnaTool)),r.a.createElement("td",{className:"rnaRefColumn"},"RNA Ref: ",s(e.rnaRef)))}))))}(e.nonCanonicals)))):"");var t}))))},Qt=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"pageContent"},r.a.createElement("h2",null,"The page you are looking for could not be found.")))},ea=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(u.a)(this,Object(m.a)(t).call(this))).state={authenticated:!1,isAdmin:!1,username:"",setAuthToken:function(t){e.setState({authenticated:t.authenticated,username:t.username,isAdmin:t.isAdmin})},resetAuthToken:function(){e.setState({authenticated:!1,isAdmin:!1,user:""})}},e}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.state.authenticated||fetch("/api/user/checkToken").then((function(e){return e.json()})).then((function(t){e.state.setAuthToken(t)}))}},{key:"render",value:function(){return r.a.createElement(h.Provider,{value:this.state},r.a.createElement(O,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/",component:Z}),r.a.createElement(p.b,{exact:!0,path:"/PSetSearch",component:ve}),r.a.createElement(p.b,{exact:!0,path:"/Dashboard",component:ge}),r.a.createElement(p.b,{exact:!0,path:"/Stats",component:De}),r.a.createElement(p.b,{exact:!0,path:"/Documentation/:section",component:Ye}),r.a.createElement(p.b,{exact:!0,path:"/Tutorial",component:Ge}),r.a.createElement(p.b,{exact:!0,path:"/Authentication",component:at}),r.a.createElement(p.b,{path:"/Reset/:token",component:nt}),r.a.createElement(p.b,{path:"/:id1/:id2",component:zt}),r.a.createElement(p.b,{path:"/Canonical",component:Zt}),r.a.createElement(x,{path:"/Profile",component:Xe,redirect:"/Authentication"}),r.a.createElement(j,{path:"/admin",component:et,redirect:"/profile"}),r.a.createElement(p.b,{component:Qt})),r.a.createElement(w,null))}}]),t}(r.a.Component),ta=function(){return Object(n.useEffect)((function(){s.a.initialize("UA-102362625-2"),s.a.pageview(window.location.pathname+window.location.search)}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(ea,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(g.a,null,r.a.createElement(ta,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},62:function(e,t,a){},74:function(e,t,a){e.exports=a(178)},79:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},89:function(e,t,a){}},[[74,1,2]]]);
//# sourceMappingURL=main.23c6a2ee.chunk.js.map