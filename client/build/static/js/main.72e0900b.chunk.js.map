{"version":3,"sources":["context/auth.js","components/Navigation/Navigation.js","components/Footer/Footer.js","components/Routing/PrivateRoute.js","components/PSet/PSetAccordion.js","components/MainDialog/MainDialog.js","components/Main/Main.js","components/Shared/PSetDropdown/PSetDropdown.js","components/PSetSearch/subcomponents/PSetFilter.js","components/Shared/APICalls.js","components/Shared/PSetTable.js","components/Shared/Buttons/SavePSetButton.js","components/Shared/PSetAPIHelper.js","components/PSetSearch/PSetSearch.js","components/Dashboard/Dashboard.js","components/Stats/DownloadChart.js","components/Stats/Stats.js","components/Documentation/DocFunctionality/Overview.js","components/Documentation/DocFunctionality/Search.js","components/Documentation/DocFunctionality/Request.js","components/Documentation/DocFunctionality/UserProfile.js","components/Documentation/DocFunctionality/Statistics.js","components/Documentation/Documentation.js","components/Documentation/Support/Tutorial.js","components/Profile/subcomponents/UserInfo.js","components/Shared/Buttons/DownloadPSetButton.js","components/Profile/subcomponents/UserPSet.js","components/Profile/Profile.js","components/Authentication/AuthForm.js","components/Authentication/Login.js","components/Authentication/Reset.js","components/PSet/TabContents/DatasetTabContent.js","components/PSet/TabContents/RNATabContent.js","components/PSet/TabContents/DNATabContent.js","components/PSet/PSet.js","components/Routing/Router.js","components/App/App.js","components/serviceWorker.js","index.js"],"names":["AuthContext","createContext","withRouter","props","auth","useContext","useState","isOnline","setIsOnline","location","history","useEffect","a","fetch","status","json","checkStatus","onLoginClick","event","preventDefault","push","pathname","state","path","onLogoutClick","username","then","res","resetAuthToken","logoutMsg","Fragment","exact","to","src","alt","className","activeClassName","authenticated","label","onClick","width","isOpen","Footer","href","PrivateRoute","data","context","setAuthToken","userAuth","this","render","React","cloneElement","component","redirect","Component","contextType","PSetToolAccordion","toolAccordionTabs","items","map","item","key","name","header","commands","length","command","multiple","RNARefAccordion","rnaRefAccordionTabs","source","DNARefAccordion","exomeRefAccordionTabs","cosmic","exonTarget","GeneralInfoAccordion","dateCreated","createdBy","DatasetDialog","datasetAccordionTabs","dataset","publication","p","link","citation","drugSensitivity","version","visible","onHide","style","minWidth","minHeight","RNADialog","renderActiveOnly","rna","tool","ref","DNADialog","dna","OrcestraMain","statsData","setStatsData","rnaTool","dnaTool","rnaRef","dnaRef","formData","setFormData","pending","inProcess","dashboard","setDashboard","datasetVisible","setDatasetVisible","rnaVisible","setRNAVisible","dnaVisible","setDNAVisible","api","console","log","pset","form","fetchData","showDialog","type","hideDialog","alignSelf","value","field","body","rowData","column","route","doi","PSetDropdown","dataTemplate","option","fontSize","margin","isHidden","selectOne","parameterName","id","optionLabel","selectedParameter","options","parameterOptions","onChange","handleUpdateSelection","filter","itemTemplate","placeholder","disabled","selectedItemTemplate","formDataInit","rnaRefOptions","dnaRefOptions","url","response","PSetFilter","SearchReqContext","dataType","setDataType","setDataset","genome","setGenome","setRNATool","setRNARef","setDNATool","setDNARef","hideRNAToolRef","setHideRNAToolRef","hideDNAToolRef","setHideDNAToolRef","getParameters","formDataset","initialize","parameters","setParameters","dnaRefs","rnaRefs","Array","isArray","genomeName","includes","checked","isRequest","tooltip","e","fData","JSON","parse","stringify","setIsRequest","setRequestView","queryPSet","callback","resData","PSetTable","rows","first","start","end","totalRecords","loading","setState","downloadOnePSet","psetID","psetIDs","method","headers","catch","err","API","anchor","document","createElement","setAttribute","display","appendChild","click","removeChild","toolsRefTemplate","output","allData","selection","selectedPSets","onSelectionChange","updatePSetSelection","paginator","scrollable","selectionMode","sortable","downloadLink","_id","SavePSetButton","saveSelectedPSets","userPSet","psetId","i","reqData","APICalls","onSaveComplete","bind","getFilterSet","filterset","datatype","toFilterArray","datasetName","datasetVersion","buildAPIStr","filterSet","apiStr","apiFragments","buildAPIStrFragment","replace","isNotReadyToSubmit","request","isSelected","hasName","email","test","isValidEmail","reqParam","messageAfterRequest","msgComponent","show","severity","summary","detail","message","sticky","toString","selectedValues","isDatasetVersion","filterArray","Object","keys","constructor","keyName","apiFragment","PSetSearch","setAllData","searchAll","setSearchAll","setSelectedPSets","disableSaveBtn","setDisableSaveBtn","notReadyToSubmit","setNotReadyToSubmit","setName","setEmail","psets","initializeView","APIHelper","update","params","updatePSets","showMessage","messages","initializeState","selected","handleSubmitRequest","trackPromise","ok","Provider","el","target","usePromiseTracker","promiseInProgress","color","height","scrollHeight","Dashboard","setData","setLoading","submitRequest","result","onSubmit","dateTimeTemplate","dateTimeStr","Date","toLocaleString","undefined","dateStyle","timeStyle","d","isAdmin","button","Plot","createPlotlyComponent","Plotly","DownloadChart","x","y","orientation","marker","layout","autosize","title","xaxis","text","font","size","yaxis","autorange","titlefont","useResizeHandler","Stats","chartData","disableBtn","isReady","showMessages","download","showDownload","Overview","Search","Request","UserProfile","Statistics","Documentation","setDisplay","Tutorial","routing","UserInfo","setShow","password1","setPassword1","password2","setPassword2","btnResetDisabled","setBtnResetDisabled","resetPwd","user","password","DownloadPSetButton","downloadPSets","UserPSet","handleBtnClick","dialogVisible","btnDisabled","btnYesDislabed","handleSelectionChange","onClickYes","psetData","onDownloadComplete","btnLabel","noPSetData","dialogFooter","heading","footer","modal","Profile","removeFromSavedList","selectedPSet","saved","psetSaved","removePSetByID","cancelPSetRequest","psetInProcess","userEmail","findPSetByID","complete","psetArray","index","splice","AuthForm","setPassword","passwordReg1","setPasswordReg1","passwordReg2","setPasswordReg2","userChecked","setUserChecked","userExists","setUserExists","userRegistered","setUserRegistered","btnFindDisabled","setBtnFindDisabled","btnLoginDisabled","setBtnLoginDisabled","btnRegDisabled","setBtnRegDisabled","handleInputChange","onFindClick","exists","registered","onRegisterClick","onResetClick","icon","msg","Reset","DatasetTabContent","metadata","RNATabContent","genomeRawData","rawSeqDataRNA","DNATabContent","rawSeqDataDNA","PSet","general","match","id1","id2","Router","profile","Main","Login","App","Boolean","window","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.72e0900b.chunk.js","sourcesContent":["import { createContext } from 'react';\n\nexport const AuthContext = createContext();","import React, {useState, useEffect, useContext} from 'react';\nimport { NavLink } from 'react-router-dom';\nimport {Button} from 'primereact/button';\nimport {AuthContext} from '../../context/auth';\nimport './Navigation.css';\nimport { slide as Menu } from 'react-burger-menu';\nimport {withRouter} from 'react-router'\n\nconst Navigation = (props) => {\n\n    const auth = useContext(AuthContext);\n    const [isOnline, setIsOnline] = useState(false);\n    const { location, history } = props\n\n    useEffect(() => {\n        const checkStatus = async () => {\n            const status = await fetch('/api/pachyderm/status');\n            const json = await status.json();\n            setIsOnline(json.isOnline);\n        }\n        checkStatus();\n    }, []);\n\n    const onLoginClick = (event) => {\n        event.preventDefault();\n        history.push({pathname: '/Authentication', state:{path: location.pathname}});\n    }\n\n    const onLogoutClick = (event) => {\n        event.preventDefault();\n        fetch('/api/user/logout/:' + auth.username)\n            .then(res => {\n                auth.resetAuthToken();\n                history.push({pathname: '/Authentication', state:{path: location.pathname, logoutMsg: 'You have logged out'}});\n            });            \n    }\n\n    return(\n        <React.Fragment>\n            <header>\n                <NavLink exact to='/'><img src={process.env.PUBLIC_URL + \"/images/trumpet-orcestra.png\"} alt='' /></NavLink>\n                <div className='navBarContainer'>\n                    <div className='navBar'>\n                        <div><NavLink exact to='/' activeClassName='active-link'>Home</NavLink></div>\n                        <div><NavLink exact to=\"/PSetSearch\" activeClassName='active-link'>Search and Request</NavLink></div>\n                        <div><NavLink exact to=\"/Dashboard\" activeClassName='active-link'>Request Status</NavLink></div>\n                        <div><NavLink exact to=\"/Documentation\" activeClassName='active-link'>Documentation</NavLink></div>\n                        { auth.authenticated && <div className='menu-item'><NavLink exact to=\"/Profile\" activeClassName='active-link'>Profile</NavLink></div> }\n                        <div>\n                            {\n                                auth.authenticated ? \n                                <Button label='Logout' onClick={onLogoutClick}/> : <Button label='Login/Register' onClick={onLoginClick}/>\n                            }\n                        </div> \n                        <div>\n                            {isOnline ? \n                                <div className='pachydermStatus isOnline'>\n                                    <div className='icon'><i className='pi pi-check'></i></div><div className='text'>Pachyderm is <br />online</div>\n                                </div> \n                                : \n                                <span className='pachydermStatus isOffline'>\n                                    <div className='icon'><i className='pi pi-ban'></i></div><div className='text'>Pachyderm is <br />offline</div>\n                                </span>\n                            }\n                        </div>    \n                    </div>\n                    <div className='burgerNav'>\n                        <Menu width={ 200 } isOpen={true} > \n                            <div className='menu-item'><NavLink exact to='/' activeClassName='active-link'>Home</NavLink></div>\n                            <div className='menu-item'><NavLink exact to=\"/PSetSearch\" activeClassName='active-link'>Search and Request</NavLink></div>\n                            <div><NavLink exact to=\"/Dashboard\" activeClassName='active-link'>Request Status</NavLink></div>\n                            <div><NavLink exact to=\"/Documentation\" activeClassName='active-link'>Documentation</NavLink></div>\n                            { auth.authenticated && <div className='menu-item'><NavLink exact to=\"/Profile\" activeClassName='active-link'>Profile</NavLink></div> }\n                            <div className='menu-item'>\n                                {\n                                    auth.authenticated ? \n                                    <Button label='Logout' onClick={onLogoutClick}/> : <Button label='Login/Register' onClick={onLoginClick}/>\n                                }\n                            </div>\n                            <div>\n                                {isOnline ? \n                                    <div className='pachydermStatus isOnline'>\n                                        <div className='icon'><i className='pi pi-check'></i></div><div className='text'>Pachyderm is <br />online</div>\n                                    </div> \n                                    : \n                                    <span className='pachydermStatus isOffline'>\n                                        <div className='icon'><i className='pi pi-ban'></i></div><div className='text'>Pachyderm is <br />offline</div>\n                                    </span>\n                                }\n                            </div>\n                        </Menu>\n                    </div>   \n                </div>\n                \n                <div className='loggedIn'>{auth.authenticated ? 'Logged in as: ' + auth.username : ''}</div> \n            </header>\n        </React.Fragment>\n    );\n}\n\nexport default withRouter(Navigation);","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport './Footer.css';\n\nconst Footer = (props) => {\n    return(\n        <div className='appFooter'>\n            <div className='footerContainer'>\n                <div className=\"footerMenu footerLinks\">\n                    <h3>Menu</h3>\n                    <NavLink exact to=\"/PSetSearch\" >Search and Request</NavLink>\n                    <NavLink exact to=\"/Dashboard\" >Request Status</NavLink>\n                    <NavLink exact to=\"/Stats\" >Statistics</NavLink>\n                </div>\n                <div className=\"footerSupport footerLinks\">\n                    <h3>Support</h3>\n                    <NavLink exact to=\"/Documentation\" >Documentation</NavLink>\n                    <NavLink exact to=\"/Tutorial\" >Contributing your data</NavLink>\n                    <a href=\"https://github.com/bhklab\">GitHub</a>\n                    <a href=\"https://bhklab.ca/\">BHKLab</a>\n                </div>\n                <div className=\"footerContact\">\n                    <h3>BHKLab</h3>\n                    <div className='contactInfo'>\n                        The MaRS center\n                        <br />\n                        101 College St, Toronto ON\n                        {' '}\n                        <br />\n                        TMDT RM 11-310\n                    </div>\n                </div>\n            </div>\n        </ div>\n    );\n} \n\nexport default Footer;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport {AuthContext} from '../../context/auth';\n\nclass PrivateRoute extends React.Component {\n    \n    static contextType = AuthContext;\n\n    componentDidMount(){\n        fetch('/api/user/checkToken')\n            .then(res => {\n                if(res.status === 200){\n                    return(res.json());\n                }else{\n                    return({authenticated: false, username: ''});\n                }\n            })\n            .then(data => {this.context.setAuthToken(data)});\n    }\n    \n    render(){\n        const userAuth = this.context;\n        return(\n            <Route            \n                exact path={this.props.path} \n                render={(props) => userAuth.authenticated ? React.cloneElement(this.props.component, {...props}) : (<Redirect to={{pathname: this.props.redirect, state: {path: this.props.path}}} />)}\n            />\n        );\n    }\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport {Accordion,AccordionTab} from 'primereact/accordion';\n\nclass PSetToolAccordion extends React.Component {\n\n    render(){\n        const toolAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                {item.commands.length ? \n                    <ul>\n                        {item.commands.map((command) => \n                            <li key={command}>\n                                {command}\n                            </li>    \n                        )}\n                    </ul>\n                    :\n                    \"Not Available\"\n                }\n                   \n            </AccordionTab>\n        );\n        \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {toolAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n\n}\n\nclass RNARefAccordion extends React.Component {\n    \n    render(){\n        const rnaRefAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                <ul>\n                    <li className='listItem-1'>\n                        <div>{item.name.length ? item.name : 'Currently not available'}</div>\n                        <div>{item.source.length ? <a href={item.source}>{item.source}</a> : 'Currently not available'}</div>\n                    </li>                    \n                </ul> \n            </AccordionTab>\n        );\n    \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {rnaRefAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n    \n}\n\nclass DNARefAccordion extends React.Component {\n\n    render(){\n        const exomeRefAccordionTabs = this.props.items.map((item) => \n            <AccordionTab key={item.name} header={item.name}>\n                <ul>\n                    <li className='listItem-1'>\n                        <div>{item.name.length ? item.name: 'Currently not available'}</div>\n                        <div>{item.source.length ? <a href={item.source}>{item.source}</a> : 'Currently not available'}</div>\n                    </li>\n                    <li className='listItem-1'>\n                        <div>{item.cosmic.name}</div>\n                        <div><a href={item.cosmic.source}>{item.cosmic.source}</a> </div>\n                    </li>\n                    <li className='listItem-1'>\n                        <div>{item.exonTarget.name}</div>\n                        <div><a href={item.exonTarget.source}>{item.exonTarget.source}</a></div>\n                    </li>                       \n                </ul> \n            </AccordionTab>\n        );\n    \n        return(\n            this.props.items.length ? \n                <Accordion multiple={true}>\n                    {exomeRefAccordionTabs}\n                </Accordion>\n                :\n                <div className='subContent'>Not Available</div>\n        );\n    }\n\n}\n\nclass GeneralInfoAccordion extends React.Component {\n    render(){   \n        return(\n            <Accordion className='generalInfoAccordion'>\n                <AccordionTab header=\"General Information\">\n                    <h4 className='subContent'>PSet Name: {this.props.data.name}</h4>\n                    <h4 className='subContent'>Date Created: {this.props.data.dateCreated}</h4>\n                    {this.props.data.createdBy && <h4 className='subContent'>Created By {this.props.data.createdBy}</h4>}\n                </AccordionTab>    \n            </Accordion>    \n        );\n    }\n}\n\nexport {\n    PSetToolAccordion,\n    RNARefAccordion,\n    DNARefAccordion,\n    GeneralInfoAccordion\n}\n","import React from 'react';\nimport {Dialog} from 'primereact/dialog';\nimport {Accordion,AccordionTab} from 'primereact/accordion';\nimport {TabView,TabPanel} from 'primereact/tabview';\nimport {PSetToolAccordion, RNARefAccordion, DNARefAccordion} from '../PSet/PSetAccordion';\n\nconst DatasetDialog = (props) => {\n    \n    const datasetAccordionTabs = props.dataset.map((item) => \n        <AccordionTab key={item.label} header={item.label}>\n            <div className='tabContent'>\n                <div className='tabContentSection'>\n                    <h3>Publication: </h3>\n                    <ul>\n                        <div>    \n                            {item.publication.length ? \n                                item.publication.map((p) => \n                                    <li key={p.link} className='pubList'>\n                                        <div className='subContent'>{p.citation}</div>\n                                        <br />\n                                        <div className='subContent'><a href={p.link}>{p.link}</a></div>\n                                    </li>\n                                )\n                                :\n                                <div className=\"subContent\">\n                                    Not available.\n                                </div>\n                            }  \n                        </div>\n                    </ul> \n                </div>\n                <div className='tabContentSection'>\n                    <h3>Drug Sensitivity</h3>\n                    <h4 className='subContent'>Source: {item.drugSensitivity.source ? <a href={item.drugSensitivity.source}>{item.drugSensitivity.source}</a> : 'Not available'}</h4>\n                    <h4 className='subContent'>Version: {item.drugSensitivity.version}</h4>\n                </div>\n            </div> \n        </AccordionTab>\n    );\n    \n    return(\n        <Dialog header=\"Dataset Overview\" visible={props.visible} onHide={props.onHide} style={{minWidth: '50vw', minHeight: '30vh'}} >\n            <Accordion multiple={true}>\n                {datasetAccordionTabs}\n            </Accordion>\n        </Dialog>\n    )\n}\n\nconst RNADialog = (props) => {\n    return(\n        <Dialog header=\"RNA Pipeline Overview\" visible={props.visible} onHide={props.onHide} style={{minWidth: '50vw', minHeight: '30vh'}} >\n            <TabView renderActiveOnly={false}>\n                <TabPanel key='rnaTools' header=\"RNA Tools\">\n                    <h3>Available RNA Pipeline Tools</h3>\n                    <PSetToolAccordion items={props.rna.tool} />\n                </TabPanel>\n                <TabPanel key='rnaRef' header=\"RNA References\">\n                    <h3>Available RNA Transcriptome References</h3>\n                    <RNARefAccordion items={props.rna.ref} />\n                </TabPanel>\n            </TabView>\n        </Dialog>\n    )\n}\n\nconst DNADialog = (props) => {\n    return(\n        <Dialog header=\"DNA Sequence Alignment Overview\" visible={props.visible} onHide={props.onHide} style={{minWidth: '50vw', minHeight: '30vh'}} >\n            <TabView renderActiveOnly={false}>\n                <TabPanel key='dnaTools' header=\"DNA Tools\">\n                    <h3>Available DNA Pipeline Tools</h3>\n                    <PSetToolAccordion items={props.dna.tool} />\n                </TabPanel>\n                <TabPanel key='dnaRef' header=\"DNA References\">\n                    <h3>Available DNA Exome References</h3>\n                    <DNARefAccordion items={props.dna.ref} />\n                </TabPanel>\n            </TabView>\n        </Dialog>\n    )\n}\n\nexport {\n    DatasetDialog,\n    RNADialog,\n    DNADialog\n}","import React, {useState, useEffect} from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport {DatasetDialog, RNADialog, DNADialog} from '../MainDialog/MainDialog';\nimport './Main.css';\n\nconst OrcestraMain = (props) => {\n    \n    const [statsData, setStatsData] = useState([]);\n    const [formData, setFormData] = useState({\n        dataset: [],\n        rnaTool: [],\n        dnaTool: [],\n        rnaRef: [],\n        dnaRef: []\n    });\n    const [dashboard, setDashboard] = useState({\n        pending: 0,\n        inProcess: 0\n    });\n    const [datasetVisible, setDatasetVisible] = useState(false);\n    const [rnaVisible, setRNAVisible] = useState(false);\n    const [dnaVisible, setDNAVisible] = useState(false);\n\n    useEffect(() => {\n        const fetchData = async (api) => {\n            const res = await fetch(api);\n            const json = await res.json();\n            console.log(json);\n            setStatsData(json.pset);\n            setFormData(json.form[0]);\n            setDashboard(json.dashboard);\n        }\n        fetchData('/api/landing/data');\n    }, [])\n\n    const nameColumnTemplate = (rowData, column) => {\n        let route = '/' + rowData.doi;\n        return(\n            <Link to={route} >{rowData.name}</Link>\n        );\n    }\n\n    const showDialog = (type) => {\n        switch(type){\n            case 'dataset':\n                setDatasetVisible(true);\n                break;\n            case 'rna':\n                setRNAVisible(true);\n                break;\n            case 'dna':\n                setDNAVisible(true);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const hideDialog = (type) => {\n        switch(type){\n            case 'dataset':\n                setDatasetVisible(false);\n                break;\n            case 'rna':\n                setRNAVisible(false);\n                break;\n            case 'dna':\n                setDNAVisible(false);\n                break;\n            default:\n                break;\n        }\n    }\n\n    return (\n        <React.Fragment>\n            <div className='mainContent'>\n                <div className=\"home\">\n                    <h1>ORCESTRA</h1>   \n                    <h2>Orchestration platform for reproducing pharmacogenomic analyses</h2>\n                    <div className='mainMenuContainer'>\n                        <div className='mainMenuRow'>\n                            <div className='mainMenuColumn'>\n                                <div className='mainMenuItem'>\n                                    <h2>Search and Request PSets</h2>\n                                    <div className='mainMenuItemContent'>\n                                        <div>Design your own PSet using:</div>\n                                        <div className='mainMenuItemLine'><span className='largeNum'>\n                                            <button onClick={() => {showDialog('dataset')}}>{formData.dataset.length}</button></span> <span>Datasets.</span>\n                                        </div>\n                                        <div className='mainMenuItemLine'><span className='largeNum'>\n                                            <button onClick={() => {showDialog('rna')}}>{formData.rnaTool.length}</button></span> <span>RNA pipelines.</span>\n                                        </div>\n                                        <div className='mainMenuItemLine'><span className='largeNum'>\n                                            <button onClick={() => {showDialog('dna')}}>{formData.dnaTool.length}</button></span> <span>DNA sequence alignment tools.</span>\n                                        </div>\n                                        <div className='mainMenuLink'>\n                                            <a className='button' href=\"/PSetSearch\">Search and Request</a>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className='mainMenuColumn'>\n                                <div className='mainMenuItem' style={{ alignSelf: 'flex-start'}}>\n                                    <h2>View PSet Request Status</h2>\n                                    <div className='mainMenuItemContent'>\n                                        <div>ORCESTRA is processing following requests:</div>\n                                        <div className='mainMenuItemLine'><span className='largeNum'>{dashboard.pending}</span> <span>Requests in queue.</span></div>\n                                        <div className='mainMenuItemLine'><span className='largeNum'>{dashboard.inProcess}</span> <span >Requests in process.</span></div>\n                                        <div className='mainMenuLink'><a className='button' href=\"/Dashboard\">View Dashboard</a></div>\n                                    </div>\n                                </div>\n                            </div> \n                            <div className='mainMenuColumn'>\n                                <div className='mainMenuItem'>\n                                    <h2>Top 5 Popular PSets</h2>\n                                    <div className='mainMenuItemContent'>\n                                        <DataTable value={statsData} >\n                                            <Column className='textField' field='download' header='Download' />\n                                            <Column className='textField' field='name' header='Name' body={nameColumnTemplate}/>\n                                        </DataTable>\n                                        <div className='mainMenuLink'><a className='button' href=\"/Stats\">View Statistics</a></div>\n                                    </div>\n                                </div> \n                                <div className='mainMenuItem'>\n                                    <h2>Generate PSets with Your Data</h2>\n                                    <div className='mainMenuItemContent'>\n                                        <p>\n                                            <b>You can generate PSets using your own datasets.</b> <br /> \n                                            For more information, please read about <a href='/Tutorial'>contributing your data</a>.\n                                        </p>    \n                                    </div>\n                                </div> \n                            </div>    \n                        </div>  \n                    </div>  \n                </div>\n            </div>\n            <DatasetDialog visible={datasetVisible} onHide={() => {hideDialog('dataset')}} dataset={formData.dataset} />\n            <RNADialog visible={rnaVisible} onHide={() => {hideDialog('rna')}} rna={{tool: formData.rnaTool, ref: formData.rnaRef}} />\n            <DNADialog visible={dnaVisible} onHide={() => {hideDialog('dna')}} dna={{tool: formData.dnaTool, ref: formData.dnaRef}} />\n            }\n            \n        </React.Fragment>\n    );\n    \n}\n\nexport default OrcestraMain;","import React from 'react';\nimport './PSetDropdown.css';\nimport {MultiSelect} from 'primereact/multiselect';\nimport {Dropdown} from 'primereact/dropdown';\n\n// props: id, className, isHidden, selectOne, parameterName, parameterOptions[], selecedParameter[], handleUpdateSelection()\n\nclass PSetDropdown extends React.Component {\n    \n    render(){\n        const dataTemplate =  (option) => {\n            return(\n                <div className=\"\">\n                    <span style={{fontSize:'1em',margin:'1em .5em 0 0'}}>{option.label}</span>\n                </div>\n            );\n        }\n\n        const selectedDataTemplate = (item) => {\n            if (item) {\n                return (\n                    <div className=\"my-multiselected-item-token\">\n                        <span>{item.label}</span>\n                    </div>\n                );\n            }\n            else {\n                return <span>Select...</span>\n            }\n        }\n            \n        if(this.props.isHidden){\n            return(null);\n        }\n        if(this.props.selectOne){\n            return(\n                <div className='filterSet'>\n                    <label>{this.props.parameterName}</label>\n                    <Dropdown \n                        id={this.props.id} \n                        className='paramInput' \n                        optionLabel='label' \n                        value={this.props.selectedParameter}   \n                        options={this.props.parameterOptions} \n                        onChange={this.props.handleUpdateSelection}\n                        filter={true} \n                        itemTemplate={dataTemplate}\n                        placeholder=\"Select one...\"\n                        disabled={this.props.disabled}\n                    />\n                </div>\n            );\n        }\n        return(\n            <div className='filterSet'>\n                <label>{this.props.parameterName}</label>\n                <MultiSelect \n                    id={this.props.id}\n                    className='paramInput' \n                    optionLabel='label' \n                    value={this.props.selectedParameter} \n                    options={this.props.parameterOptions} \n                    onChange={this.props.handleUpdateSelection}\n                    filter={true} \n                    itemTemplate={dataTemplate} \n                    selectedItemTemplate={selectedDataTemplate}\n                    disabled={this.props.disabled}\n                />\n            </div>\n        );\n    }\n    \n}\n\nexport default PSetDropdown;","import React, {useState, useEffect, useContext} from 'react';\nimport {InputSwitch} from 'primereact/inputswitch';\nimport PSetDropdown from '../../Shared/PSetDropdown/PSetDropdown';\nimport {SearchReqContext} from '../PSetSearch';\nimport './PSetFilter.css';\n\nlet formDataInit = {};\nlet formData = {};\nlet rnaRefOptions = [];\nlet dnaRefOptions = [];\n\nasync function fetchData(url) {\n    const response = await fetch(url);\n    const json = await response.json();\n    return(json);\n}\n\nconst PSetFilter = () => {\n    \n    const context = useContext(SearchReqContext);\n\n    const [dataType, setDataType] = useState([]);\n    const [dataset, setDataset] = useState([]);\n    const [drugSensitivity, setDrugSensitivity] = useState([]);\n    const [genome, setGenome] = useState([]);\n    const [rnaTool, setRNATool] = useState([]);\n    const [rnaRef, setRNARef] = useState([]);\n    const [dnaTool, setDNATool] = useState([]);\n    const [dnaRef, setDNARef] = useState([]);\n\n    const [drugSensitivityOptions, setDrugSensitivityOptions] = useState([]);\n    const [hideRNAToolRef, setHideRNAToolRef] = useState(false);\n    const [hideDNAToolRef, setHideDNAToolRef] = useState(false);\n\n    const getParameters = () => {\n        let parameters = {\n            dataType, \n            dataset, \n            drugSensitivity, \n            genome, \n            rnaTool, \n            rnaRef, \n            dnaTool, \n            dnaRef\n        };\n        return parameters;\n    }\n    \n    useEffect(() => {\n        const initialize = async () => {\n            const formDataset = await fetchData('/api/formData');\n            formDataInit = formDataset[0];\n            formData = formDataset[0];\n            rnaRefOptions = formData.rnaRef;\n            dnaRefOptions = formData.dnaRef;\n        }\n        initialize();\n    }, []);\n    \n    useEffect(() => {\n        if(dataType.length === 1){\n            if(dataType[0].name === 'RNA'){             \n                setHideDNAToolRef(true);\n                setDNATool([]);\n                setDNARef([]);\n            }else{\n                setHideRNAToolRef(true);\n                setRNATool([]);\n                setRNARef([]);\n            }\n        }else{\n            setHideRNAToolRef(false);\n            setHideDNAToolRef(false);\n        }\n        const parameters = getParameters();\n        context.setParameters(parameters);\n    }, [dataType]);\n\n    useEffect(() => {\n        if(genome.length === 0){\n            dnaRefOptions = formData.dnaRef;\n            rnaRefOptions = formData.rnaRef;\n        }else{\n            let dnaRefs = dnaRef;\n            let rnaRefs = rnaRef;\n            \n            if(Array.isArray(genome)){\n                let genomeName = genome.map((genome) => {return(genome.name)});\n                dnaRefs = dnaRef.filter((ref) => {return(genomeName.includes(ref.genome) && ref)});\n                rnaRefs = rnaRef.filter((ref) => {return(genomeName.includes(ref.genome) && ref)});\n                dnaRefOptions = formData.dnaRef.filter((ref) => {return(genomeName.includes(ref.genome) && ref)});\n                rnaRefOptions = formData.rnaRef.filter((ref) => {return(genomeName.includes(ref.genome) && ref)});\n            }else{\n                dnaRefs = dnaRef.filter((ref) => {return(genome.name === ref.genome && ref)});\n                rnaRefs = rnaRef.filter((ref) => {return(genome.name === ref.genome && ref)});\n                dnaRefOptions = formData.dnaRef.filter((ref) => {return(genome.name === ref.genome && ref)});\n                rnaRefOptions = formData.rnaRef.filter((ref) => {return(genome.name === ref.genome && ref)});\n            }\n            \n            setDNARef(dnaRefs);\n            setRNARef(rnaRefs);\n        }  \n        const parameters = getParameters();\n        context.setParameters(parameters);\n    }, [genome])\n\n    useEffect(() => {\n        const parameters = getParameters();\n        context.setParameters(parameters);\n    }, [dataset, rnaTool, rnaRef, dnaTool, dnaRef]);\n\n    const setRequestView = (isRequest) => {\n        let fData = JSON.parse(JSON.stringify(formData));\n        if(isRequest){\n            if(dataset.length){\n                fData.dataset = dataset;\n                setDataset(dataset[0]);\n            }\n            if(genome.length){\n                fData.genome = genome;\n                setGenome(genome[0]);\n            }\n        }else{\n            if(fData.dataset.length < formDataInit.dataset.length){\n                setDataset(fData.dataset);\n            }else if(!Array.isArray(dataset)){\n                let val  = dataset;\n                setDataset([val]);\n            }\n            if(fData.genome.length < formDataInit.genome.length){\n                setGenome(fData.genome);\n            }else if(!Array.isArray(genome)){\n                let val = genome;\n                setGenome([val]);\n            }\n            fData = formDataInit;\n        }\n        formData = fData;\n        context.setParameters(getParameters());\n        context.setIsRequest(isRequest);\n    }\n    \n    return(\n        <React.Fragment>\n            <div className='pSetFilterContainer'>\n                <div className='pSetFilter'>\n                    <h2>PSet Parameters</h2>\n                    <div className='filterSet'>\n                        <label className='bold'>Request PSet: </label> \n                        <InputSwitch checked={context.isRequest} tooltip=\"Turn this on to request a PSet.\" \n                            onChange={(e) => setRequestView(e.value)} />\n                    </div>\n                    <PSetDropdown id='dataType' isHidden={false} parameterName='Data Type:' \n                        parameterOptions={formData.dataType} selectedParameter={context.parameters.dataType} \n                        handleUpdateSelection={(e) => setDataType(e.value)} />\n\n                    <PSetDropdown id='dataset' isHidden={false} parameterName='Dataset:' selectOne={context.isRequest} \n                        parameterOptions={formData.dataset} selectedParameter={context.parameters.dataset} \n                        handleUpdateSelection={(e) => setDataset(e.value)} />\n                    \n                    {/* <PSetDropdown id='drugSensitivity' className={this.props.dropdownClassName} isHidden={false} parameterName='Drug Sensitivity:' selectOne={true} disabled={true} \n                        parameterOptions={this.state.drugSensitivityOptions} selectedParameter={this.props.parameters.drugSensitivity} handleUpdateSelection={this.handleFilterChange} /> */}\n                    \n                    <PSetDropdown id='genome' isHidden={false} parameterName='Genome:' selectOne={context.isRequest} \n                        parameterOptions={formData.genome} selectedParameter={context.parameters.genome} \n                        handleUpdateSelection={(e) => setGenome(e.value)} />\n                    \n                    <PSetDropdown id='rnaTool' isHidden={hideRNAToolRef} parameterName='RNA Tool:' \n                        parameterOptions={formData.rnaTool} selectedParameter={context.parameters.rnaTool} \n                        handleUpdateSelection={(e) => setRNATool(e.value)} />\n\n                    <PSetDropdown id='rnaRef' isHidden={hideRNAToolRef} parameterName='RNA Ref:' \n                        parameterOptions={rnaRefOptions} selectedParameter={context.parameters.rnaRef} \n                        handleUpdateSelection={(e) => setRNARef(e.value)} />\n                    \n                    <PSetDropdown id='dnaTool' isHidden={hideDNAToolRef} parameterName='DNA Tool:' \n                        parameterOptions={formData.dnaTool} selectedParameter={context.parameters.dnaTool} \n                        handleUpdateSelection={(e) => setDNATool(e.value)} />\n                    \n                    <PSetDropdown id='dnaRef' isHidden={hideDNAToolRef} parameterName='DNA Ref:' \n                        parameterOptions={dnaRefOptions} selectedParameter={context.parameters.dnaRef} \n                        handleUpdateSelection={(e) => setDNARef(e.value)} />\n                </div>\n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default PSetFilter;","\nexport function queryPSet(api, callback){\n    //console.log(api);\n    fetch(api)  \n        .then(res => res.json())\n        .then(resData => {\n            callback(resData);\n        }   \n    );\n}\n\nexport function saveOrUpdateUserPSets(username, selectedPSets, callback){\n    if(selectedPSets.length){\n        var userPSet = { username: username };\n        var psetId = [];\n        for(let i = 0; i < selectedPSets.length; i++){\n            psetId.push(selectedPSets[i]._id);\n        }\n        userPSet.psetId = psetId;\n\n        fetch('/user/pset/add', {\n            method: 'POST',\n            body: JSON.stringify({reqData: userPSet}),\n            headers: {\n                'Content-type': 'application/json'\n            }\n        })\n            .then(res => res.json())\n            .then(resData => callback(1, resData))\n            .catch(err => callback(0, err));\n\n    }\n}\n\nexport function requestPSet(data, callback){\n    console.log(data);\n    fetch('/pset/request', {\n        method: 'POST',\n        body: JSON.stringify({\n            reqData: data\n        }),\n        headers: {\n            'Content-type': 'application/json'\n        }\n    })\n        .then(res => res.json())\n        .then(resData => callback(1, resData))\n        .catch(err => callback(0, err));\n}\n\nexport function downloadPSets(psets, callback){\n    var psetIDs = [];\n    console.log(psets);\n    for(let i = 0; i < psets.length; i++){\n        psetIDs.push(psets[i]._id);\n    }\n    console.log(psetIDs);\n    fetch('/pset/download', {\n        method: 'POST',\n        body: JSON.stringify({\n            psetIDs: psetIDs\n        }),\n        headers: {\n            'Content-type': 'application/json'\n        }\n    })\n        .then(res => res.json())\n        .then(resData => {\n            callback(1, resData);\n        })\n        .catch(err => callback(0, err));\n}\n\nexport function downloadOnePSet(psetID){\n    console.log('downloadOnePSet: ' + psetID);\n    var psetIDs = [psetID];\n    fetch('/pset/download', {\n        method: 'POST',\n        body: JSON.stringify({\n            psetIDs: psetIDs\n        }),\n        headers: {\n            'Content-type': 'application/json'\n        }\n    })\n        .then(res => res.json())\n        .catch(err => console.log(err));\n}","import React, {useState, useEffect, useContext} from 'react';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport { Link } from 'react-router-dom';\nimport * as API from '../Shared/APICalls';\nimport {AuthContext} from '../../context/auth';\n\nconst PSetTable = (props) => {\n\n    const auth = useContext(AuthContext);\n    \n    const [state, setState] = useState({\n        rows: 10,\n        first: 0,\n        start: 0,\n        end: 10,\n        totalRecords: 0,\n        loading: true\n    })\n\n    useEffect(()=>{\n        setState({...state, loading: false})\n    }, []);\n\n    const downloadOnePSet = (id, link) => (event) => {\n        event.preventDefault();\n        console.log('downloadOnePSet');\n        API.downloadOnePSet(id);\n        const anchor = document.createElement('a');\n        anchor.setAttribute('download', null);\n        anchor.style.display = 'none';\n        anchor.setAttribute('href', link);\n        document.body.appendChild(anchor);\n        anchor.click();\n        document.body.removeChild(anchor);\n    }\n\n    const toolsRefTemplate = (rowData, column) => {\n        let output ='';\n        if(rowData[column.field]){\n            output = rowData[column.field].map(item => <div key={item.name}>{item.name}</div>);\n        }\n        return(\n            <div>{output}</div>\n        );\n    }\n\n    const nameColumnTemplate = (rowData, column) => {\n        let route = '/' + rowData.doi;\n        return(\n            <Link to={route} >{rowData.name}</Link>\n        );\n    }\n\n    const downloadTemplate = (rowData, column) => {\n        let link = 'Not Available';\n        if(rowData.downloadLink){\n            link = <a id={rowData._id} href='#' onClick={downloadOnePSet(rowData._id, rowData.downloadLink)}>Download</a>\n        }\n        return(\n            link\n        )\n    }\n\n    const updatePSetSelectionEvent = event => {\n        props.updatePSetSelection(event.value);\n    }\n\n    return(\n        <DataTable \n            value={props.allData} \n            selection={props.selectedPSets} onSelectionChange={updatePSetSelectionEvent} \n            paginator={true} rows={state.rows} \n            scrollable={true}\n        >\n            {auth.authenticated && <Column selectionMode=\"multiple\" style={{width: '2.5em'}} />}\n            <Column className='textField' field='name' header='Name' style={{width:'10em'}} body={nameColumnTemplate} sortable={true} />\n            <Column className='textField' field='dataset.name' header='Dataset' style={{width:'6.5em'}} sortable={true} />\n            <Column className='textField' field='drugSensitivity.version' header='Drug Sensitivity' style={{width:'10.5em'}} sortable={true} />\n            <Column field='rnaTool' body={toolsRefTemplate} style={{width:'8em'}} header='RNA Tool' sortable={true}  />\n            <Column field='dnaTool' body={toolsRefTemplate} style={{width:'8em'}} header='DNA Tool' sortable={true} />\n            <Column field='rnaRef' body={toolsRefTemplate} style={{width:'15em'}} header='RNA Ref' sortable={true} />\n            <Column field='dnaRef' body={toolsRefTemplate} style={{width:'15em'}} header='DNA Ref' sortable={true} />\n            <Column field='downloadLink' body={downloadTemplate} style={{width:'6.5em'}} header='Download' />\n        </DataTable>\n    );\n\n}\n\nexport default PSetTable;","import React from 'react';\nimport {Button} from 'primereact/button';\nimport {AuthContext} from '../../../context/auth';\nimport * as APICalls from '../APICalls';\n\nclass SavePSetButton extends React.Component{\n    constructor(){\n        super();\n        this.saveSelectedPSets = this.saveSelectedPSets.bind(this);\n    }\n\n    static contextType = AuthContext;\n\n    saveSelectedPSets = event => {\n        event.preventDefault();\n        if(this.context.authenticated){\n            APICalls.saveOrUpdateUserPSets(this.context.username, this.props.selectedPSets, (status, data) => {this.props.onSaveComplete(status, data)});\n        }\n    }\n\n    render(){\n        return(\n            this.context.authenticated ? <Button label='Save' onClick={this.saveSelectedPSets} disabled={this.props.disabled}/> : '*Login or register to save existing PSets to your profile.'\n        );\n    }\n}\n\nexport default SavePSetButton;\n","// Helper functions used for PSet API requests.\n\nexport function getFilterSet(data){\n    var filterset = {}\n    filterset.datatype = toFilterArray(data.dataType);\n    filterset.datasetName = toFilterArray(data.dataset);\n    filterset.datasetVersion = toFilterArray(data.dataset, true);\n    filterset.genome = toFilterArray(data.genome);\n    filterset.rnaTool = toFilterArray(data.rnaTool);\n    filterset.dnaTool = toFilterArray(data.dnaTool);\n    filterset.rnaRef = toFilterArray(data.rnaRef);\n    filterset.dnaRef = toFilterArray(data.dnaRef);\n    filterset.drugSensitivity = toFilterArray(data.drugSensitivity, true);\n    return(filterset);\n}\n\nexport function buildAPIStr(filterSet){\n    let apiStr = '/api/pset?status=complete&';\n    let apiFragments = [];\n    apiFragments.push(buildAPIStrFragment('dtp', filterSet.datatype));\n    apiFragments.push(buildAPIStrFragment('dsv', filterSet.datasetVersion));\n    apiFragments.push(buildAPIStrFragment('dsn', filterSet.datasetName));\n    apiFragments.push(buildAPIStrFragment('gnm', filterSet.genome));\n    apiFragments.push(buildAPIStrFragment('rnat', filterSet.rnaTool));\n    apiFragments.push(buildAPIStrFragment('dnat', filterSet.dnaTool));\n    apiFragments.push(buildAPIStrFragment('rnar', filterSet.rnaRef));\n    apiFragments.push(buildAPIStrFragment('dnar', filterSet.dnaRef));\n    apiFragments.push(buildAPIStrFragment('dst', filterSet.drugSensitivity));\n    for(let i = 0; i < apiFragments.length; i++){\n        if(apiFragments[i].length > 0){\n            apiStr += apiFragments[i] + '&';\n        }\n    }\n    apiStr = apiStr.replace(/&$/, '');\n    return(apiStr);\n}\n\nexport function isNoneSelected(filterset){\n    if(!filterset.datatype.length && \n        !filterset.datasetName.length && \n        !filterset.genome.length && \n        !filterset.rnaTool.length &&\n        !filterset.dnaTool.length &&\n        !filterset.rnaRef.length &&\n        !filterset.dnaRef.length &&\n        !filterset.drugSensitivity.length){\n        return(true);\n    }\n    return(false);\n}\n\nexport function isNotReadyToSubmit(request){\n    if(!isSelected(request.dataType)){\n        return(true);\n    }else if(request.dataType.length === 1){\n        if(request.dataType[0] === 'RNA' && (!isSelected(request.rnaRef) || !isSelected(request.rnaTool))){\n            return(true);\n        }else if(request.dataType[0] === 'DNA' && (!isSelected(request.dnaRef) || !isSelected(request.dnaTool))){\n            return(true);\n        }\n    }else{\n        if(!isSelected(request.rnaRef)){\n            return(true);\n        }\n        if(!isSelected(request.dnaRef)){\n            return(true);\n        }\n        if(!isSelected(request.rnaTool)){\n            return(true);\n        }\n        if(!isSelected(request.dnaTool)){\n            return(true);\n        }\n    }\n\n    if(!isSelected(request.genome)){\n        return(true);\n    } \n    if(!isSelected(request.dataset)){\n        return(true);\n    }\n    // if(!isSelected(request.drugSensitivity)){\n    //     return(true);\n    // }\n    if(!hasName(request.name)){\n        return(true);\n    }\n    if(!isValidEmail(request.email)){\n        return(true);\n    }\n    return(false);\n}\n\nexport function isSelected(reqParam){\n    if(typeof reqParam === 'undefined' || reqParam === null){\n        return(false);\n    }\n    if(Array.isArray(reqParam) && !reqParam.length){\n        return(false);\n    }\n    return(true);\n}\n\nexport function messageAfterRequest(status, data, initialize=null, msgComponent){\n    if(initialize){\n        initialize();\n    }\n    if(status){\n        msgComponent.show({severity: 'success', summary: data.summary, detail: data.message, sticky: true});\n    }else{\n        msgComponent.show({severity: 'error', summary: 'An error occured', detail: data.toString(), sticky: true});\n    } \n}\n\nfunction hasName(name){\n    if(typeof name === 'undefined' || name === null){\n        return(false);\n    }\n    if(name.length === 0){\n        return(false);\n    }\n    return(true);\n}\n\nfunction isValidEmail(email){\n    const regex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n    if(typeof email === 'undefined' || email === null){\n        return(false);\n    }\n    if(email.length === 0){\n        return(false);\n    }\n    if(!regex.test(email)){\n        return(false);\n    }\n    return(true);\n}\n\nfunction toFilterArray(selectedValues, isDatasetVersion = false){\n    var filterArray = [];\n    if(typeof selectedValues === 'undefined' || selectedValues === null){\n        return(filterArray);\n    }\n    if(Object.keys(selectedValues).length === 0 && selectedValues.constructor === Object){\n        return(filterArray);\n    }\n    if(Array.isArray(selectedValues)){\n        if(isDatasetVersion){\n            for(let i = 0; i < selectedValues.length; i++){   \n                filterArray.push(selectedValues[i].version);\n            }\n        }else{\n            for(let i = 0; i < selectedValues.length; i++){   \n                filterArray.push(selectedValues[i].name);\n            }\n        }\n        return(filterArray);\n    } \n    if(isDatasetVersion){\n        filterArray.push(selectedValues.version);\n    }else{\n        filterArray.push(selectedValues.name);\n    }\n    return(filterArray);\n}\n\nfunction buildAPIStrFragment(keyName, filterArray){\n    var apiFragment = '';\n    if(filterArray.length > 0){\n        for(let i = 0; i < filterArray.length; i++){\n            apiFragment += keyName + '=' + filterArray[i]\n            if(i < filterArray.length - 1){\n                apiFragment += '&';\n            }\n        }\n    }   \n    return(apiFragment);\n}\n","import React, {useState, useEffect} from 'react';\nimport './PSetSearch.css';\nimport PSetFilter from './subcomponents/PSetFilter';\nimport PSetTable from '../Shared/PSetTable';\nimport SavePSetButton from '../Shared/Buttons/SavePSetButton';\nimport {usePromiseTracker} from \"react-promise-tracker\";\nimport {trackPromise} from 'react-promise-tracker';\nimport Loader from 'react-loader-spinner';\nimport {Button} from 'primereact/button';\nimport {InputText} from 'primereact/inputtext';\nimport {Messages} from 'primereact/messages';\nimport * as APIHelper from '../Shared/PSetAPIHelper';\n\nexport const SearchReqContext = React.createContext();\n\nasync function fetchData(url) {\n    const response = await fetch(url);\n    const json = await response.json();\n    return(json);\n}\n\nconst PSetSearch = (props) => {\n    const [allData, setAllData] = useState([]);\n    const [searchAll, setSearchAll] = useState(true);\n    const [selectedPSets, setSelectedPSets] = useState([]);\n    const [disableSaveBtn, setDisableSaveBtn] = useState(true);\n    const [isRequest, setIsRequest] = useState(false);\n    const [notReadyToSubmit, setNotReadyToSubmit] = useState(true);\n    const [parameters, setParameters] = useState({});\n    \n    const [name, setName] = useState('');\n    const [email, setEmail] = useState('');\n\n    useEffect(() => {\n        const initializeView = async () => {\n            const psets = fetchData('/api/pset?status=complete');\n            setAllData(psets);\n            setSearchAll(true);\n        }\n        initializeView();\n    }, []);\n\n    useEffect(() => {\n        setDisableSaveBtn(APIHelper.isSelected(selectedPSets) ? false : true)\n    }, [selectedPSets]);\n\n    useEffect(() => {\n        async function update() {\n            let filterset = APIHelper.getFilterSet(parameters);\n            let apiStr = APIHelper.buildAPIStr(filterset);\n            console.log(apiStr);\n            let searchAll = apiStr === '/api/pset' ||  apiStr === '/api/pset?status=complete' ? true : false;\n            const psets = await fetchData(apiStr);\n            setAllData(psets);\n            setSearchAll(searchAll);\n        }\n        update();\n        let params = parameters;\n        params.name = name;\n        params.email = email;\n        setNotReadyToSubmit(APIHelper.isNotReadyToSubmit(params));\n    }, [parameters])\n\n    const updatePSets = async () => {\n        let filterset = APIHelper.getFilterSet(parameters);\n        let apiStr = APIHelper.buildAPIStr(filterset);\n        console.log(apiStr);\n        let searchAll = apiStr === '/api/pset' ||  apiStr === '/api/pset?' ? true : false;\n        const psets = await fetchData(apiStr);\n        setAllData(psets);\n        setSearchAll(searchAll);\n    }\n\n    const showMessage = (status, data) => {\n        let severity = status ? 'success' : 'error';\n        PSetSearch.messages.show({severity: severity, summary: data.summary, detail: data.message, sticky: true});\n        initializeState();\n    }\n\n    const updatePSetSelection = (selected) => {\n        setSelectedPSets(selected);\n    }\n\n    const initializeState = () => {\n        setSelectedPSets([]);\n        setDisableSaveBtn(true);\n    }\n\n    const handleSubmitRequest = async event => {\n        event.preventDefault();\n        let reqData = parameters;\n        reqData.drugSensitivity = reqData.dataset.drugSensitivity;\n        reqData.name = name;\n        reqData.email = email;\n        console.log(reqData);\n        const res = await trackPromise(fetch('/api/pset/request', {\n                method: 'POST',\n                body: JSON.stringify({reqData: reqData}),\n                headers: {'Content-type': 'application/json'}\n            }));\n        const resData = await res.json();\n        showMessage(res.ok, resData);\n        initializeState();\n    }\n\n    useEffect(() => {\n        let params = parameters;\n        params.name = name;\n        params.email = email;\n        setNotReadyToSubmit(APIHelper.isNotReadyToSubmit(params));\n    }, [name, email])\n    \n    const SubmitRequestButton = () => {\n        const {promiseInProgress} = usePromiseTracker();\n        return(\n            promiseInProgress ? \n                <div className='loaderContainer'>\n                    <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                </div>\n                :\n                <Button label='Submit Request' type='submit' disabled={notReadyToSubmit} onClick={handleSubmitRequest}/>\n        );\n    }\n        \n    return(\n        <SearchReqContext.Provider value={{ \n                parameters: parameters, \n                setParameters: setParameters, \n                updatePSets: updatePSets, \n                isRequest: isRequest, \n                setIsRequest: setIsRequest\n            }}\n        >\n            <div className='pageContent'>\n                <h1>Search or Request Pharmacogenomic Datasets</h1>\n                <div className='pSetListContainer'>\n                    <PSetFilter /> \n                    <div className='pSetTable'>\n                        <Messages ref={(el) => PSetSearch.messages = el} />\n                        <div className='pSetSelectionSummary'>\n                            <div className='summaryPanel'>\n                                <h2>Summary</h2>\n                                <div className='pSetSummaryContainer'>\n                                    <div className='pSetSummaryItem'>\n                                        {\n                                            searchAll ? \n                                            <span><span className='pSetSummaryNum'>{allData.length ? allData.length : 0}</span> <span>dataset(s) available.</span></span>\n                                            :\n                                            <span><span className='pSetSummaryNum'>{allData.length}</span> <span>{allData.length === 1 ? ' match' : ' matches'}</span> found.</span>\n                                        }\n                                    </div>\n                                </div>\n                                <SavePSetButton selectedPSets={selectedPSets} disabled={disableSaveBtn} onSaveComplete={showMessage} />\n                            </div>\n                            {\n                                isRequest &&\n                                <div className='requestFormPanel'>\n                                    <h2>Request PSet</h2>\n                                    <div className='reqFormInput'>\n                                        <label>PSet Name:</label>\n                                            <InputText id='name' className='paramInput' value={name || ''} onChange={(e) => {setName(e.target.value)}} />\n                                    </div>\n                                    <div className='reqFormInput'>\n                                        <label>Email to receive DOI:</label>\n                                            <InputText id='email' className='paramInput' value={email || ''} onChange={(e) => {setEmail(e.target.value)}} />\n                                    </div>\n                                    <div className='reqFormInput'>\n                                        <SubmitRequestButton />\n                                    </div>\n                                </div>\n                            }\n                        </div>\n                        {\n                            isRequest ?\n                            <PSetTable allData={allData} selectedPSets={selectedPSets} updatePSetSelection={updatePSetSelection} scrollHeight='600px'/> \n                            :\n                            allData.length ?\n                            <PSetTable allData={allData} selectedPSets={selectedPSets} updatePSetSelection={updatePSetSelection} scrollHeight='600px'/> \n                            :\n                            <div className='tableLoaderContainer'>\n                                <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                            </div>\n                        }  \n                    </div>\n                </div>\n            </div>\n        </SearchReqContext.Provider>\n    );\n}\n\nexport default PSetSearch;","import React, {useState, useEffect, useContext} from 'react';\nimport './Dashboard.css';\nimport {usePromiseTracker} from \"react-promise-tracker\";\nimport {trackPromise} from 'react-promise-tracker';\nimport Loader from 'react-loader-spinner';\nimport {Messages} from 'primereact/messages';\nimport {DataTable} from 'primereact/datatable';\nimport {Column} from 'primereact/column';\nimport {AuthContext} from '../../context/auth';\n\nconst Dashboard = (props) => {\n    \n    const auth = useContext(AuthContext);\n    const [data, setData] = useState([]);\n    const [loading, setLoading] = useState(true);\n\n    const { promiseInProgress } = usePromiseTracker();\n\n    const show = (message) => {\n        Dashboard.messages.show(message);\n    }\n\n    const fetchData = async (url) => {\n        const response = await fetch(url);\n        const json = await response.json();\n        setData(json);\n        setLoading(false);\n    }\n\n    const submitRequest = async (id) => {\n        const result = await trackPromise(fetch(\n            '/api/pset/process', \n            { \n                method: 'POST', \n                body: JSON.stringify({id: id}), \n                headers: {'Content-type': 'application/json'} \n            }\n        ));\n        const json = await result.json();\n        return({ok: result.ok, data: json});\n    }\n\n    useEffect(() => {\n        fetchData('/api/pset?status=pending&status=in-process');\n    }, []);\n    \n    const onSubmit = async (event) => {\n        event.preventDefault();\n        console.log(event.target.id);\n        const result = await submitRequest(event.target.id);\n        if(result.ok){\n            show({severity: 'success', summary: result.data.summary, detail: result.data.message, sticky: true});\n        }else{\n            show({severity: 'error', summary: result.data.summary, detail: result.data.message, sticky: true});\n        }\n        await fetchData('/api/pset?status=pending&status=in-process');\n    }\n\n    const dateTimeTemplate = (rowData, column) => {\n        let dateTimeStr = '';\n        if(rowData[column.field]){\n            dateTimeStr = new Date(rowData[column.field]).toLocaleString(undefined, {dateStyle: 'long', timeStyle: 'medium'});\n        }\n        return(<div>{dateTimeStr}</div>)\n    }\n\n    const buttonTemplate = (rowData, column) => {\n        let button = '';\n        if(rowData.status === 'pending'){\n            button = <button id={rowData._id} onClick={onSubmit} className='dashboardBtn' type='button'>Submit</button>\n        }\n        return(<div className='dashBoardBtnContainer'>{button}</div>)\n    }\n\n    return(\n        <div className='pageContent'>\n            <div className='dashboardWrapper'>\n                <h1>PSet Request Status Board</h1>\n                <Messages ref={(el) => Dashboard.messages = el }></Messages>\n                <div className='dashboardSummary'>\n                    <h2>Request Status Summary</h2>\n                    <div className='dashboardSummaryContainer'>\n                        <div className='dashboardSummarySection'>\n                            <span className='number'>{ data.filter(d => d.status === 'pending').length }</span> pending request(s).\n                        </div>\n                        <div className='dashboardSummarySection'>\n                            <span className='number'>{ data.filter(d => d.status === 'in-process').length }</span> request(s) in process.\n                        </div>    \n                    </div>    \n                </div>\n                <div className='dashboardTable'>\n                    {\n                        !loading ?\n                        [\n                            data.length > 0 ?\n                            <DataTable value={data} paginator={true}  scrollable={true} rows={10} >\n                                <Column className='textField' field='status' header='Status' style={{width:'2em'}} sortable={true} />\n                                <Column className='textField' field='name' header='Name' style={{width:'5em'}} sortable={true} />\n                                <Column className='textField' field='dateSubmitted' header='Submitted Date' body={dateTimeTemplate} style={{width:'4em'}} sortable={true} />\n                                <Column className='textField' field='dateProcessed' header='Process Start Date' body={dateTimeTemplate} style={{width:'4em'}} sortable={true} />\n                                { auth.isAdmin && <Column body={buttonTemplate} style={{width:'1.5em'}}/> }\n                            </DataTable>\n                            :\n                            <h3>There are no pending or in-process requests.</h3>\n                        ]\n                        :   \n                        <div className='dashboardTableLoaderContainer'>\n                            <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                        </div>\n                    } \n                    {\n                        promiseInProgress && \n                        <div className='dashboardTableOverlay'>\n                            <div className='dashboardLoaderContainer'>\n                                <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                            </div>\n                        </div>   \n                    }\n                </div> \n            </div>   \n        </div>  \n    );\n}\n\nexport default Dashboard;","import React from 'react';\n\nimport Plotly from \"plotly.js-basic-dist\";\nimport createPlotlyComponent from \"react-plotly.js/factory\";\nconst Plot = createPlotlyComponent(Plotly);\n\nclass DownloadChart extends React.Component{\n    render() {\n        let value = this.props.data.value;\n        let name = this.props.data.name;\n        \n        return (\n          <Plot\n            data={[\n                {\n                    type: 'bar', \n                    x: value, \n                    y: name, \n                    orientation: 'h', \n                    marker: {color: '#3D405A'}\n                },\n            ]}\n            layout={ {\n                autosize: true,\n                title: this.props.title, \n                xaxis: {\n                    title: {text: 'Number of Downloads', font: {size: 14, color: '#3D405A'}}\n                },\n                yaxis: {\n                    autorange: 'reversed',\n                }, \n                titlefont: {size: 18, color: '#3D405A'}, \n                font:{color: '#3D405A'}\n            } }\n            style = {{width: \"100%\"}}\n            useResizeHandler = {true}\n          />\n        );\n    }\n}\n\nexport default DownloadChart;","import React from 'react';\nimport './Stats.css';\nimport {Messages} from 'primereact/messages';\nimport PSetTable from '../Shared/PSetTable';\nimport SavePSetButton from '../Shared/Buttons/SavePSetButton';\nimport * as APICalls from '../Shared/APICalls';\nimport * as APIHelper from '../Shared/PSetAPIHelper';\nimport {AuthContext} from '../../context/auth';\nimport DownloadChart from './DownloadChart';\nimport Loader from 'react-loader-spinner';\n\nclass Stats extends React.Component{\n    constructor(){\n        super();\n        this.state = {\n            allData: [],\n            chartData: {},\n            selectedPSets: [],\n            disableBtn: true,\n            isReady: false\n        }\n        this.updatePSetSelection = this.updatePSetSelection.bind(this);\n        this.showMessages = this.showMessages.bind(this);\n        this.initializeState = this.initializeState.bind(this);\n    }\n\n    static contextType = AuthContext;\n\n    componentDidMount(){\n        APICalls.queryPSet('/api/pset/sort', (resData) => {\n            const data = [];\n            const name = [];\n            const value = [];\n            for(let i = 0; i < resData.length; i++){\n                data.push({name: resData[i].name, value: resData[i].download});\n                name.push(resData[i].name);\n                value.push(resData[i].download);\n                if(i >= 9){\n                    break;\n                }\n            }\n            this.setState({\n                allData: resData,\n                chartData: {data: data, name: name, value: value},\n                isReady: true\n            });\n        });\n    }\n\n    updatePSetSelection(selected){\n        this.setState({selectedPSets: selected}, () => {\n            if(APIHelper.isSelected(this.state.selectedPSets)){\n                this.setState({disableBtn: false});\n            }else{\n                this.setState({disableBtn: true});\n            }\n        });\n    }\n\n    showMessages(status, data){\n        APIHelper.messageAfterRequest(status, data, this.initializeState, this.messages);\n        APICalls.queryPSet('/api/pset/sort', (resData) => {\n            this.setState({\n                allData: resData\n            });\n        });\n    }\n\n    initializeState(){\n        this.setState({\n            selectedPSets: [],\n            disableBtn: true\n        });\n    }\n    \n    render(){\n        return(\n            <div className='pageContent'>\n                <h1>PSet Usage and Downloads</h1>\n                <div className='statContainer'>\n                    {\n                        this.state.isReady ?\n                        <React.Fragment>\n                            <div className='container rankingTable'>\n                                <h3>Download Ranking</h3>\n                                <Messages ref={(el) => this.messages = el} />\n                                <PSetTable allData={this.state.allData} selectedPSets={this.state.selectedPSets} updatePSetSelection={this.updatePSetSelection} showDownload={true} scrollHeight='340px'/>\n                                <div className='rankingTableFooter'>\n                                    {/* <DownloadPSetButton selectedPSets={this.state.selectedPSets} disabled={this.state.disableBtn} onDownloadComplete={this.showMessages}/> */}\n                                    <SavePSetButton selectedPSets={this.state.selectedPSets} disabled={this.state.disableBtn} onSaveComplete={this.showMessages} />\n                                </div>\n                            </div>\n                            <div className='container downloadHistogram'>\n                                {this.state.isReady && <DownloadChart data={this.state.chartData} title='Top 10 Most Popular PSets' />}\n                            </div>\n                        </React.Fragment>\n                        :\n                        <div className='componentLoaderContainer'>\n                            <Loader type=\"ThreeDots\" color=\"#3D405A\" height={100} width={100} />\n                        </div>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Stats;","import React from 'react';\nimport {ScrollPanel} from 'primereact/scrollpanel';\n\nconst Overview = () => {\n    return(\n        <div className='documentation'>\n            <h1>Overview</h1>\n            <ScrollPanel className='documentation-scroll'>\n                <div>\n                    <h3>Introduction</h3>\n                    <p>\n                        <b>ORCESTRA</b> is a new web application that enables users to search, request and manage pharmacogenomic datasets (PSets).\n                        <br />\n                        PSets are generated with an automated pipeline by using a verion controll platform called Pachyderm. Upon completion of the pipeline, a newly generated PSet is uploaded to Zenodo, a data-sharing platform, and is assigned a DOI.\n                        <br />\n                        With Pachyderm's strict version controlling system, coupled with the DOI assignment, ORCESTRA ensures that your experiements with PSets are transparent and easily reproducible.\n                    </p>\n                    <h3>System Overview</h3>  \n                    <p>\n                        The <b>ORCESTRA</b> system consists of three main layers:   \n                    </p>  \n                    <ol>\n                        <li><b>Web application layer</b> which allows users to view and submit PSet requests</li>\n                        <li><b>Data processing layer</b> which utilizes a version control software called Pachyderm to process requested data</li>\n                        <li><b>Data sharing layer</b> which utilizes Zenodo to ensure that the generated dataset is tagged with a DOI</li>\n                    </ol>     \n                    <div className='img-architecture'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/architecture.png\"} />\n                    </div>  \n                </div>\n            </ScrollPanel>   \n        </div>    \n    );\n}\n\nexport default Overview","import React from 'react';\nimport {ScrollPanel} from 'primereact/scrollpanel';\n\nconst Search = () => {\n    return(\n        <div className='documentation'>\n            <h1>Search</h1>\n            <ScrollPanel className='documentation-scroll'>\n                <div>\n                    <h3>How to search existing PSets</h3>\n                    <p>\n                        Existing PSets can be searched on <a href='/PSetSearch'>Search and Request</a> page.<br />\n                        User can select different pipeline parameters uder PSet Parameters pane. Each selection of parameters triggers a database search. The search result is displayed on the data table as shown in the figure below.\n                    </p> \n                    <div className='img-full'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/search.png\"} />\n                    </div>  \n                    <h3>How to view metadata of a PSet</h3>\n                    <p>\n                        Metadata of a PSet can be viewed by clicking a dataset name on the search table.<br />\n                        Explore PSet view is displayed as in the figure below where user can view publications associated with the dataset, and command lines used in the pipeline to generate the PSet.\n                    </p> \n                    <div className='img-full'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/explore_pset.png\"} />\n                    </div> \n                </div>\n            </ScrollPanel>        \n        </div>    \n    );\n}\n\nexport default Search","import React from 'react';\nimport {ScrollPanel} from 'primereact/scrollpanel';\n\nconst Request = () => {\n    return(\n        <div className='documentation'>\n            <h1>Request</h1> \n            <ScrollPanel className='documentation-scroll'>\n                <div>\n                    <h3>How to request a PSet</h3>\n                    <p>\n                        To request a PSet, turn on the Request mode on <a href='/PSetSearch'>Search and Request</a> view with the toggle button on top of the PSet Parameters pane. In the requets mode, two text fields to enter the PSet name and email address to receive pipeline completion notification will be displayed.<br />\n                        Once all the information is filled out, including the PSet name and email address, the Submit Request button becomes active.<br />\n                        PSet request is submitted upon clicking the Submit button.\n                    </p> \n                    <div className='img-full'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/request.png\"} />\n                    </div>  \n                    <h3>How to check status of your request</h3>\n                    <p>\n                        Status of your pipeline request can be viewed at <a href='/Dashboard'>Request Status</a> view.<br /> \n                        Status of your request can either be \"pending\" or \"in-process\". Pending requests are the ones that have been successfully submitted, and will be processed once the Pachyderm cluster is online. In-process requests have been successfully submitted, and the pipeline execution has been started.\n                    </p> \n                    <div className='img-full'>\n                        <img src={process.env.PUBLIC_URL + \"/images/documentation/request_status.png\"} />\n                    </div> \n                </div>\n            </ScrollPanel>   \n        </div>    \n    );\n}\n\nexport default Request","import React from 'react';\nimport {ScrollPanel} from 'primereact/scrollpanel';\n\nconst UserProfile = () => {\n    return(\n        <div className='documentation'>\n            <h1>User Profile</h1>\n            <ScrollPanel className='documentation-scroll'>\n                <div>\n                    <h3>What you can do with your profile</h3>\n                    <p>\n                        \n                    </p>   \n                    <div className='img-full'>\n                        \n                    </div>  \n                </div>\n            </ScrollPanel> \n        </div>    \n    );\n}\n\nexport default UserProfile","import React from 'react';\n\nconst Statistics = () => {\n    return(\n        <div className='documentation'>\n            <h1>Statistics</h1>\n        </div>    \n    );\n}\n\nexport default Statistics","import React, { useState } from 'react';\nimport './Documentation.css';\n\nimport Overview from './DocFunctionality/Overview';\nimport Search from './DocFunctionality/Search';\nimport Request from './DocFunctionality/Request';\nimport UserProfile from './DocFunctionality/UserProfile';\nimport Statistics from './DocFunctionality/Statistics';\n\nconst Documentation = (props) => {\n    \n    const [display, setDisplay] = useState('overview');\n\n    return(\n        <div className='pageContent'>\n            <div className='documentationContent'>\n                <nav className='documentationNav'>\n                    <h2>Functionality</h2>\n                    <ul>\n                        <li className={display === 'overview' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('overview')}>Overview</button>\n                        </li>\n                        <li className={display === 'search' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('search')}>Search</button>\n                        </li>    \n                        <li className={display === 'request' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('request')}>Request</button>\n                        </li>\n                        <li className={display === 'userProfile' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('userProfile')}>User Profile</button>\n                        </li>\n                        <li className={display === 'statistics' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('statistics')}>Statistics</button>\n                        </li>\n                    </ul> \n                    <h2>API</h2>\n                    <ul>\n                        <li className={display === 'api-psets-available' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('api-psets-available')}>Available PSets</button>\n                        </li>\n                        <li className={display === 'api-pset-single' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('api-pset-single')} >PSet Metadata</button>\n                        </li>\n                        <li className={display === 'api-statistics' ? 'selected' : undefined}>\n                            <button type='button' onClick={() => setDisplay('api-statistics')}>Statistics</button>\n                        </li>    \n                    </ul>\n                </nav>\n                {display === 'overview' && <Overview /> }\n                {display === 'search' && <Search /> }\n                {display === 'request' && <Request /> }\n                {display === 'userProfile' && <UserProfile /> }\n                {display === 'statistics' && <Statistics /> }\n            </div>\n        </div>\n    );\n}\n\nexport default Documentation;","import React from 'react';\nimport Navigation from '../../Navigation/Navigation';\nimport {ScrollPanel} from 'primereact/scrollpanel';\nimport './Tutorial.css';\n\nconst Tutorial = (props) => {\n    return(\n        <React.Fragment>\n            <Navigation routing={props} />\n            <div className='pageContent'>\n                <div className='tutorial-container'>\n                    <h1>Generating PSet with Your Data</h1>\n                    <div className='tutorial-text'>\n                        Please ensure your data submission follows the respective format below:<br />\n                        The following are a list of requirements that must be fulfilled in order to successfully generate a PharmacoSet (PSet) object in PharmacoGx:\n                    </div>  \n                    <ScrollPanel className='tutorial-scroll'>\n                        <ol className='tutorial-list'>\n                            <li>\n                                <h2>Cell line annotation</h2>\n                                <div className='tutorial-text'>\n                                    Please provide the number of cell lines that will be utilized, along with their respective cell line IDs (e.g. 184A1, 22RV1).\n                                </div>    \n                            </li> \n                            <li>\n                                <h2>Drug annotation</h2>\n                                <div className='tutorial-text'>\n                                    Please provide the number of drugs that will be utilized, along with their respective  drug IDs (preferably PubChem) (e.g. lapatinib).\n                                </div> \n                            </li> \n                            <li>\n                                <h2>Tissue annotation</h2>\n                                <div className='tutorial-text'>\n                                    Tissue types for each cell line ID provided (e.g. breast).\n                                </div> \n                            </li> \n                            <li>\n                                <h2>Cell line metadata</h2>\n                                <div className='tutorial-text'>\n                                    Metadata for each cell ID (e.g. transcriptional subtype for each cell id).\n                                </div> \n                            </li>   \n                            <li>\n                                <h2>Drug metadata</h2>\n                                <div className='tutorial-text'>\n                                    Metadata for each drug ID.\n                                </div> \n                            </li>  \n                            <li>\n                                <h2>Processed drug response data</h2>\n                                <div className='tutorial-text'>\n                                    <ol>\n                                        <li>\n                                            <div>\n                                                Sensitivity info (cell line id and drug id for each cell line and drug pair used in sensitivity measurements, minimum and maximum drug dose for each cell line and drug pair, number of concentrations tested for each cell line and drug pair).\n                                            </div>\n                                            <img  src={process.env.PUBLIC_URL + \"/images/tutorial/sensitivity.png\"}/>\n                                        </li> \n                                        <li>\n                                            <div>\n                                                Raw Sensitivity (Drug dose values for each cell line and drug pair, along with their respective viability values).\n                                            </div>\n                                            <h4>Doses</h4>\n                                            <img  src={process.env.PUBLIC_URL + \"/images/tutorial/doses.png\"}/>\n                                            <h4>Viability</h4>\n                                            <img  src={process.env.PUBLIC_URL + \"/images/tutorial/viability.png\"}/>\n                                        </li>\n                                        <li>\n                                            <div>\n                                                Sensitivity Profiles (AAC, IC50, EC50, Einf etc values for each cell line and drug pair)\n                                            </div>\n                                            <img  src={process.env.PUBLIC_URL + \"/images/tutorial/sensitivity_profiles.png\"}/>\n                                        </li>       \n                                    </ol> \n                                    <p>\n                                        Note: Please ensure sensitivity info, profiles, and raw sensitivity are in an organized data frame in R.\n                                    </p>       \n                                </div>\n                            </li> \n                            <li>\n                                <h2>Processed molecular profiles</h2>\n                                <div className='tutorial-text'>\n                                    <ol>\n                                        <li>\n                                            Please provide the processed molecular data you would like to include in the PSet (e.g Kallisto h5 abundance files), along with processing details (e.g. reference genome, transcriptome).\n                                        </li>\n                                        <li>\n                                            Phenotypic (e.g. batch ids) and feature data (e.g. gencode gene id) for each cell line used in the molecular profiles.\n                                        </li>\n                                    </ol>    \n                                </div> \n                            </li> \n                        </ol>\n                    </ScrollPanel>\n                </div>\n            </div>\n        </React.Fragment>\n    )\n}\n\nexport default Tutorial","import React, {useState, useContext, useEffect} from 'react';\nimport './UserInfo.css'\nimport {Button} from 'primereact/button';\nimport {InputText} from 'primereact/inputtext';\nimport {Messages} from 'primereact/messages';\nimport {AuthContext} from '../../../context/auth';\n\nconst UserInfo = (props) => {\n    const auth = useContext(AuthContext);\n    const [show, setShow] = useState(false)\n    const [password1, setPassword1] = useState('')\n    const [password2, setPassword2] = useState('')\n    const [btnResetDisabled, setBtnResetDisabled] = useState(true)\n\n    useEffect(() => {\n        password1.length >= 6 ?  password1 === password2 && setBtnResetDisabled(false) : setBtnResetDisabled(true);\n    }, [password1, password2])\n    \n    const showPwdReset = (event) => {\n        event.preventDefault()\n        setShow(true)\n    }\n\n    const hidePwdReset = (event) => {\n        event.preventDefault()\n        setShow(false)\n    }\n\n    const resetPwd = async (event) => {\n        event.preventDefault()\n        const res = await fetch('/api/user/reset', {\n            method: 'POST',\n            body: JSON.stringify({\n                user: { username: auth.username, password: password1 }   \n            }),\n            headers: { 'Content-type': 'application/json' }\n        })\n        const data = await res.json();\n        if(data.authenticated){\n            console.log('authenticated');\n            auth.setAuthToken(data);\n            setPassword1('')\n            setPassword2('')\n            setShow(false)\n            UserInfo.messages.show({severity: 'success', summary: 'Password changed'});\n        }else{\n            UserInfo.messages.show({severity: 'error', summary: 'Error occurred', detail: 'Password could not be changed'});\n        }\n    }\n\n    return(\n        <div className='userInfoContainer'>\n            <h2>User Information</h2>\n            <Messages ref={(el) => UserInfo.messages = el}></Messages>\n            <div className='userInfo'>Username: {auth.username}</div>\n            {\n                show &&\n                <div>\n                    <div>\n                        <div className='pwdMsg'>Password needs to be at least 6 characters in length</div>\n                        <InputText className='pwdInput' type='password' name='password1' value={password1} onChange={(e) => {setPassword1(e.target.value)}}/>\n                    </div>\n                    <div>\n                        <label>Confirm your password:</label>\n                        <InputText className='pwdInput' type='password' name='password2' value={password2} onChange={(e) => {setPassword2(e.target.value)}}/>\n                    </div> \n                </div> \n            }\n            <div className='userInfoBtn'>\n                {\n                    show ? \n                    <div>\n                        <Button className='pwdReset' label='Reset' onClick={resetPwd} disabled={btnResetDisabled}/>\n                        <Button className='pwdReset' label='Cancel' onClick={hidePwdReset}/>\n                    </div>\n                    :\n                    <Button label='Reset password' onClick={showPwdReset}/>\n                }\n                \n            </div>\n        </div>\n    );\n}\n\nexport default UserInfo;","import React from 'react';\nimport {Button} from 'primereact/button';\nimport * as APICalls from '../APICalls';\n\nclass DownloadPSetButton extends React.Component{\n    constructor(){\n        super();\n        this.downloadPSets = this.downloadPSets.bind(this);\n    }\n\n    downloadPSets = event => {\n        event.preventDefault();\n        const psets = this.props.selectedPSets;\n        \n        const link = document.createElement('a');\n        link.setAttribute('download', null);\n        link.style.display = 'none';\n        document.body.appendChild(link);\n        for(let i = 0; i < psets.length; i++){\n            if(psets[i].downloadLink){\n                link.setAttribute('href', psets[i].downloadLink)\n                link.click();\n            } \n        }\n        document.body.removeChild(link);\n\n        APICalls.downloadPSets(this.props.selectedPSets, (status, data) => {\n            //this.props.onDownloadComplete(status, data);\n        });\n    }\n\n    render(){\n        return(\n            <Button className='downloadBtn' label='Download' disabled={this.props.disabled} onClick={this.downloadPSets} />\n        );\n    }\n}\n\nexport default DownloadPSetButton;","import React from 'react';\nimport PSetTable from '../../Shared/PSetTable';\nimport {Button} from 'primereact/button';\nimport DownloadPSetButton from '../../Shared/Buttons/DownloadPSetButton';\nimport {Dialog} from 'primereact/dialog';\nimport * as APIHelper from '../../Shared/PSetAPIHelper';\nimport './UserPSet.css';\n\nclass UserPSet extends React.Component{\n    \n    constructor(){\n        super();\n        this.state = {\n            selectedPSets: [],\n            btnDisabled: true,\n            dialogVisible: false,\n            btnYesDislabed: false\n        }\n        this.handleBtnClick = this.handleBtnClick.bind(this);\n        this.handleSelectionChange = this.handleSelectionChange.bind(this);\n        this.onClickYes = this.onClickYes.bind(this);\n        this.onHide = this.onHide.bind(this);\n        this.showMessages = this.showMessages.bind(this);\n    }\n\n    handleSelectionChange(selected){\n        this.setState({selectedPSets: selected}, () => {\n            if(this.state.selectedPSets && this.state.selectedPSets.length > 0){\n                this.setState({btnDisabled: false});\n            }else{\n                this.setState({btnDisabled: true});\n            }\n        });\n    }\n\n    handleBtnClick = event => {\n        this.setState({dialogVisible: true});\n    }\n\n    showMessages(status, data){\n        APIHelper.messageAfterRequest(status, data, null, this.props.messages);\n    }\n\n    onClickYes(){\n        this.setState({\n            btnDisabled: true,\n            btnYesDislabed: true\n        });\n        this.props.handleBtnClick(this.state.selectedPSets, (err)=>{\n            if(!err){\n                this.setState({\n                    selectedPSets: [],\n                    dialogVisible: false,\n                });\n            }else{\n                this.setState({btnDisabled: false});\n            }   \n        });\n    }\n    \n    onHide(){\n        this.setState({\n            dialogVisible: false,\n            btnYesDislabed: false\n        });\n    }\n    \n    render(){\n\n        const psetData = (\n            <React.Fragment>\n                <div>\n                    <PSetTable allData={this.props.pset} selectedPSets={this.state.selectedPSets} updatePSetSelection={this.handleSelectionChange} scrollHeight='350px' pending={this.props.pending}/>\n                </div>\n                <div className='footer'>\n                { this.props.pending ? '' : \n                    <DownloadPSetButton selectedPSets={this.state.selectedPSets} disabled={this.state.btnDisabled} onDownloadComplete={this.showMessages}/>\n                } \n                <Button label={this.props.btnLabel} onClick={this.handleBtnClick} disabled={this.state.btnDisabled} />\n                </div>\n            </React.Fragment>\n        );\n\n        const noPSetData = (\n            <p>No data available.</p>\n        );\n\n        const dialogFooter = (\n            <div>\n                <Button label=\"Yes\" onClick={this.onClickYes} disabled={this.state.btnYesDislabed}/>\n                <Button label=\"Cancel\" onClick={this.onHide} />\n            </div>\n        );\n        \n        return(\n            <div className='userPSet'>\n                <h2>{this.props.heading}</h2>\n                <div className='userPSetContent'>\n                    {this.props.pset ? psetData : noPSetData}\n                </div>\n                <div>\n                    <Dialog header={this.props.pending? 'Canceling PSet Request(s)' : 'Removing Pset(s)' } footer={dialogFooter} visible={this.state.dialogVisible} style={{width: '300px'}} modal={true} onHide={this.onHide}>\n                        { this.props.pending ? 'Are you sure you would like to cancel the selected PSet request(s)?' : 'Are you sure you would like to remove the selected PSet(s) from the saved list?' }\n                    </Dialog>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default UserPSet;","import React from 'react';\nimport './Profile.css';\nimport UserInfo from './subcomponents/UserInfo';\nimport UserPSet from './subcomponents/UserPSet';\nimport {Messages} from 'primereact/messages';\nimport {AuthContext} from '../../context/auth';\nimport * as APIHelper from '../Shared/PSetAPIHelper';\n\nclass Profile extends React.Component{\n\n    constructor(){\n        super();\n        this.state = {\n            username: '',\n            userEmail: '',\n            psetSaved: [],\n            psetInProcess: []\n        }\n        this.removeFromSavedList = this.removeFromSavedList.bind(this);\n        this.cancelPSetRequest = this.cancelPSetRequest.bind(this);\n        this.findPSetByID = this.findPSetByID.bind(this);\n        this.removePSetByID = this.removePSetByID.bind(this);\n    }\n\n    static contextType = AuthContext;\n\n    componentDidMount(){\n        fetch('/api/user/pset/?username=' + this.context.username)  \n            .then(res => res.json())\n            .then(resData => {\n                let complete = [];\n                let pending = [];\n                for(let i = 0; i < resData.length; i++){\n                    if(resData[i].status === 'complete'){\n                        complete.push(resData[i]);\n                    }else{\n                        pending.push(resData[i]);\n                    }\n                }\n                this.setState({\n                    psetSaved: complete,\n                    psetInProcess: pending\n                });\n            });\n    }\n\n    removeFromSavedList = (selectedPSet, callback) => {\n        var psetID = []\n        for(let i = 0; i < selectedPSet.length; i++){\n            psetID.push(selectedPSet[i]._id);\n        }\n        fetch('/api/user/pset/remove', {\n            method: 'POST',\n            body: JSON.stringify({username: this.context.username, psetID: psetID}),\n            headers: {\n                'Content-type': 'application/json'\n            }\n        })\n            .then(res => res.json())\n            .then(resData => {\n                APIHelper.messageAfterRequest(1, resData, null, this.messages);\n                var saved = this.state.psetSaved;\n                saved = this.removePSetByID(saved, psetID);\n                this.setState({psetSaved: saved}, callback(0));\n            })\n            .catch(err => {\n                APIHelper.messageAfterRequest(0, err, null, this.messages);\n                callback(1);\n            });\n    }\n\n    cancelPSetRequest = (selectedPSet, callback) => {\n        var psetID = []\n        for(let i = 0; i < selectedPSet.length; i++){\n            psetID.push(selectedPSet[i]._id);\n        }\n        fetch('/api/pset/cancel', {\n            method: 'POST',\n            body: JSON.stringify({username: this.context.username, psetID: psetID}),\n            headers: {\n                'Content-type': 'application/json'\n            }\n        })\n            .then(res => res.json())\n            .then(resData => {\n                APIHelper.messageAfterRequest(1, resData, null, this.messages);\n                var inProcess = this.state.psetInProcess;\n                inProcess = this.removePSetByID(inProcess, psetID);\n                this.setState({psetInProcess: inProcess}, callback(0));\n            })\n            .catch(err => {\n                APIHelper.messageAfterRequest(0, err, null, this.messages);\n                callback(1);\n            });\n    }\n\n    findPSetByID(psetArray, id){\n        for(let i = 0; i < psetArray.length; i++){\n            if(psetArray[i]._id === id){\n                return(i)\n            }\n        }\n        return(-1);\n    }\n\n    removePSetByID(psets, selected){\n        for(let i = 0; i < selected.length; i++){\n            let index = this.findPSetByID(psets, selected[i]);\n            if(index > -1){\n                psets.splice(index, 1);\n            }\n        }\n        return(psets);\n    }\n\n    render(){   \n        return(\n            <div className='pageContent'>\n                <h1>Your Profile</h1>\n                <div className='userProfile'>\n                    <UserInfo />\n                    <div className='userPSetLists'>\n                        <Messages ref={(el) => this.messages = el} />\n                        <UserPSet heading='Your Saved PSets' btnLabel='Remove from List' \n                            pset={this.state.psetSaved} \n                            handleBtnClick={this.removeFromSavedList}\n                            messages={this.messages}\n                        />\n                        <UserPSet heading='Your PSet Requests in Process' btnLabel='Cancel Request' \n                            pset={this.state.psetInProcess} \n                            pending={true}\n                            handleBtnClick={this.cancelPSetRequest}\n                        />\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Profile;","import React, {useState, useContext, useEffect} from 'react';\nimport {Button} from 'primereact/button';\nimport {InputText} from 'primereact/inputtext';\nimport {Messages} from 'primereact/messages';\nimport {AuthContext} from '../../context/auth';\n\nconst AuthForm = (props) => {\n    \n    const auth = useContext(AuthContext);\n    \n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [passwordReg1, setPasswordReg1] = useState('');\n    const [passwordReg2, setPasswordReg2] = useState('');\n    const [userChecked, setUserChecked] = useState(false);\n    const [userExists, setUserExists] = useState(false);\n    const [userRegistered, setUserRegistered] = useState(false);\n    const [btnFindDisabled, setBtnFindDisabled] = useState(true);\n    const [btnLoginDisabled, setBtnLoginDisabled] = useState(true);\n    const [btnRegDisabled, setBtnRegDisabled] = useState(true);\n\n    useEffect(() => {\n        const regex = /^\\w+([.-]?\\w+)*@\\w+([.-]?\\w+)*(\\.\\w{2,3})+$/;\n        regex.test(email) ? setBtnFindDisabled(false) : setBtnFindDisabled(true);\n    }, [email]);\n\n    useEffect(() => {\n        password.length >= 6 ? setBtnLoginDisabled(false) : setBtnLoginDisabled(true);\n    }, [password]);\n\n    useEffect(() => {\n        passwordReg1.length >= 6 ?  passwordReg1 === passwordReg2 && setBtnRegDisabled(false) : setBtnRegDisabled(true);\n    }, [passwordReg1, passwordReg2])\n\n    const handleInputChange = (event) => {\n        var name = event.target.name;\n        switch(name){\n            case 'email':\n                setEmail(event.target.value);\n                break;\n            case 'password':\n                setPassword(event.target.value);\n                break;\n            case 'passwordReg1':\n                setPasswordReg1(event.target.value);\n                break;\n            case 'passwordReg2':\n                setPasswordReg2(event.target.value);\n                break;\n            default:\n                break;\n        }\n    }\n\n    const initialize = () => {\n        setEmail('');\n        setPassword('');\n        setPasswordReg1('');\n        setPasswordReg2('');\n        setUserChecked(false);\n        setUserExists(false);\n        setUserRegistered(false);\n        setBtnFindDisabled(true);\n        setBtnLoginDisabled(true);\n        setBtnRegDisabled(true);\n    }\n\n    const onFindClick = async (event) => {\n        event.preventDefault();\n        const api = '/api/user/check/?username=' + email;\n        const res = await fetch(api);\n        const json = await res.json();\n        if(res.ok){\n            setUserChecked(true);\n            setUserExists(json.exists);\n            setUserRegistered(json.registered);\n        }\n    }\n\n    const onLoginClick = async (event) => {\n        event.preventDefault();\n        const res = await fetch('/api/user/login', {\n            method: 'POST',\n            body: JSON.stringify({\n                user: { username: email, password: password }   \n            }),\n            headers: { 'Content-type': 'application/json' }\n        })\n        const data = await res.json();\n        if(data.authenticated){\n            console.log('authenticated');\n            initialize();\n            auth.setAuthToken(data);\n        }else{\n            AuthForm.messages.show({severity: 'error', summary: 'Login Failed', detail: 'Please re-enter your email and password.'});\n        }\n    }\n\n    const onRegisterClick = async (event) => {\n        event.preventDefault();\n        const res = await fetch('/api/user/register', {\n            method: 'POST',\n            body: JSON.stringify({\n                user: { username: email, password: passwordReg1, exists: userExists }\n            }),\n            headers: { 'Content-type': 'application/json' }\n        })\n        const data = await res.json();\n        if(data.status){\n            initialize();\n            auth.setAuthToken({authenticated: data.authenticated, username: data.username});\n        }else{\n            AuthForm.messages.show({severity: 'error', summary: 'Registration Failed', detail: 'Please try again.'});\n        }\n    }\n\n    const onResetClick = async (event) => {\n        event.preventDefault()\n        console.log('reset click')\n        const res = await fetch('/api/user/reset/email', {\n            method: 'POST',\n            body: JSON.stringify({\n                email: email \n            }),\n            headers: { 'Content-type': 'application/json' }\n        })\n        const data = await res.json()\n        if(res.ok){\n            AuthForm.messages.show({severity: 'success', summary: 'Email has been sent', detail: 'Please follow the link on the email to reset your password.'});\n        }else{\n            AuthForm.messages.show({severity: 'error', summary: 'An error occurred', detail: data.message});\n        }\n    }\n\n    const loginForm = () => {\n        return(\n            <React.Fragment>\n                <h4>Login with your password:</h4>\n                <div className='pwdMsg'>Password needs to be at least 6 characters in length</div>\n                <InputText className='pwdInput' type='password' name='password' value={password} onChange={handleInputChange}/>\n                <div>\n                    <Button label='Login' onClick={onLoginClick} disabled={btnLoginDisabled}/>\n                </div>\n                <div>\n                    <button className='forgotPasswordBtn' onClick={onResetClick}>Reset your password</button>\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    const registerForm = () => {\n        return(\n            <React.Fragment>\n                <h4>{userExists ? 'Email is not registered. ': 'Email not found. '}Please register.</h4>\n                <div>\n                    <div className='pwdMsg'>Password needs to be at least 6 characters in length</div>\n                    <InputText className='pwdInput' type='password' name='passwordReg1' value={passwordReg1} onChange={handleInputChange}/>\n                </div>\n                <div>\n                    <label>Confirm your password:</label>\n                    <InputText className='pwdInput' type='password' name='passwordReg2' value={passwordReg2} onChange={handleInputChange}/>\n                </div>\n                <div>\n                    <Button label='Register' onClick={onRegisterClick} disabled={btnRegDisabled}/>\n                </div>\n            </React.Fragment>\n        );\n    }\n\n    \n    return(\n        <React.Fragment>\n            <h2>Login/Register</h2>\n            <Messages ref={(el) => AuthForm.messages = el}></Messages>\n            <h4>Enter your email:</h4>\n            <div className='emailInput'>\n                <InputText type='email' name='email' value={email} onChange={handleInputChange}/>\n                <Button className='btnLoginFind' label='Find' icon=\"pi pi-arrow-right\" onClick={onFindClick} disabled={btnFindDisabled}/>\n            </div>\n            { userChecked ? <div className='formContainer'>{userRegistered ? loginForm() : registerForm()}</div> : '' }\n        </React.Fragment>\n    );\n}\n\nexport default AuthForm;","import React, {useContext} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport AuthForm from './AuthForm';\nimport './Login.css';\nimport {AuthContext} from '../../context/auth';\nimport {withRouter} from 'react-router';\n\nconst Login = (props) => {\n    const auth = useContext(AuthContext);\n    const { location } = props\n    const msg = location.state ? location.state.logoutMsg : undefined;\n\n    return(\n        <React.Fragment>\n            {auth.authenticated ? \n                    location.state ? \n                    <Redirect to={location.state.path}/> \n                    :\n                    <Redirect to={'/Profile'}/> \n                : \n                <div className='pageContent'>\n                    <div className=\"loginRegContent\">\n                        <div className='logoutMsg'>{msg ? msg : ''}</div>\n                        <AuthForm />\n                    </div>   \n                </div>\n            }\n        </React.Fragment>\n    );\n}\n\nexport default withRouter(Login);","import React, {useContext} from 'react';\nimport AuthForm from './AuthForm';\nimport './Login.css';\n\nconst Reset = (props) => {\n    return(\n        <React.Fragment>\n            <div className='pageContent'>\n                <div className=\"loginRegContent\">\n                    <h2>Reset Password</h2>\n                    <AuthForm />\n                </div>   \n            </div>\n        </React.Fragment>\n    );\n}\n\nexport default Reset","import React from 'react';\n\nclass DatasetTabContent extends React.Component{\n\n    render(){          \n        const publication = (\n            <div>    \n            {this.props.metadata.dataset.publication.length ? \n                this.props.metadata.dataset.publication.map((item) => \n                    <li key={item.link} className='pubList'>\n                        <div className='subContent'>{item.citation}</div>\n                        <br />\n                        <div className='subContent'><a href={item.link}>{item.link}</a></div>\n                    </li>\n                )\n                :\n                <div className=\"subContent\">\n                    Not available.\n                </div>\n                }  \n            </div> \n        );\n        \n        return(\n            <React.Fragment>\n                <h1 className='tabMainHeader'>Dataset: {this.props.metadata.dataset.label}</h1>\n                <div className='tabContent'>\n                    <div className='tabContentSection'>\n                        <h3>Publication: </h3>\n                        <ul>\n                            {publication}\n                        </ul> \n                    </div>\n                    <div className='tabContentSection'>\n                        <h3>Drug Sensitivity</h3>\n                        <h4 className='subContent'>Source: {this.props.metadata.drugSensitivity.source ? <a href={this.props.metadata.drugSensitivity.source}>{this.props.metadata.drugSensitivity.source}</a> : 'Not available'}</h4>\n                        <h4 className='subContent'>Version: {this.props.metadata.drugSensitivity.version}</h4>\n                    </div>\n                    <div className='tabContentSection'>\n                        <h3>Genome Version</h3>\n                        <div className='subContent'>{this.props.metadata.genome.name ? this.props.metadata.genome.name : \"Not Available\"}</div>\n                    </div>\n                </div> \n            </React.Fragment>\n        );\n    }\n}\n\nexport default DatasetTabContent;","import React from 'react';\nimport {PSetToolAccordion, RNARefAccordion} from '../PSetAccordion';\n\nclass RNATabContent extends React.Component{\n    \n    render(){   \n        const genomeRawData = (   \n            <div>\n                { this.props.metadata.rawSeqDataRNA ? <a href={this.props.metadata.rawSeqDataRNA}>{this.props.metadata.rawSeqDataRNA}</a> : 'Not Available' }\n            </div>\n        );\n\n        return(\n            <React.Fragment>\n                <h1 className='tabMainHeader'>Analysis Details - RNA Data</h1>\n                <div className='tabContent'>\n                    <div className='tabContentSection'>\n                        <h3>Raw Data Source: </h3>\n                        <div className='subContent'>\n                            {genomeRawData}\n                        </div>\n                    </div>\n                    <div className='tabContentSection'>\n                        <h3>RNA Transcriptome</h3>\n                        <RNARefAccordion items={this.props.metadata.rnaRef} />\n                    </div>\n                    <div className='tabContentSection'>\n                        <h3>Tools and Commands Used</h3>\n                        <PSetToolAccordion items={this.props.metadata.rnaTool} />\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default RNATabContent;","import React from 'react';\nimport {PSetToolAccordion, DNARefAccordion} from '../PSetAccordion';\n\nclass DNATabContent extends React.Component{\n    \n    render(){  \n        const genomeRawData = (\n            <div>\n                { this.props.metadata.rawSeqDataDNA ? <a href={this.props.metadata.rawSeqDataDNA}>{this.props.metadata.rawSeqDataDNA}</a> : 'Not Available' }\n            </div>\n        );\n\n        return(\n            <React.Fragment>\n                <h1 className='tabMainHeader'>Analysis Details - DNA(Exome) Data</h1>\n                <div className='tabContent'>\n                    <div className='tabContentSection'>\n                        <h3>Raw Data Source: </h3>\n                        <div className='subContent'>\n                            {genomeRawData}\n                        </div>\n                    </div>\n                    <div className='tabContentSection'>\n                        <h3>Exome Reference</h3>\n                        <DNARefAccordion items={this.props.metadata.dnaRef} />\n                    </div>\n                    <div className='tabContentSection'>\n                        <h3>Tools and Commands Used</h3>\n                        <PSetToolAccordion items={this.props.metadata.dnaTool} />\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n}\n\nexport default DNATabContent;","import React from 'react';\nimport './PSet.css';\nimport {TabView,TabPanel} from 'primereact/tabview';\nimport * as APICalls from '../Shared/APICalls';\nimport {GeneralInfoAccordion} from './PSetAccordion';\nimport DatasetTabContent from './TabContents/DatasetTabContent';\nimport RNATabContent from './TabContents/RNATabContent';\nimport DNATabContent from './TabContents/DNATabContent';\nimport * as APIHelper from '../Shared/PSetAPIHelper';\nimport DownloadPSetButton from '../Shared/Buttons/DownloadPSetButton';\nimport {Messages} from 'primereact/messages';\n\nclass PSet extends React.Component{\n    constructor(){\n        super();\n        this.state = {\n            pset: {},\n            general: {},\n            dataset: {},\n            rna: {},\n            dna: {},\n            isReady: false,\n            message: ''\n        }\n        this.showMessage = this.showMessage.bind(this);\n    }\n\n    componentDidMount(){\n        console.log(this.props.match.params.id1 + '/' + this.props.match.params.id2);\n        let apiStr = '/api/pset/one/' + this.props.match.params.id1 + '/' + this.props.match.params.id2;\n        console.log(apiStr);\n        APICalls.queryPSet(apiStr, (pset) => {\n            console.log(pset);\n            if(pset){\n                this.setState({\n                    pset: pset,\n                    general: {name: pset.name, createdBy: pset.createdBy, dateCreated: pset.dateCreated},\n                    dataset: {dataset: pset.dataset, genome: pset.genome, drugSensitivity: pset.drugSensitivity},\n                    rna: {rnaTool: pset.rnaTool, rnaRef: pset.rnaRef, rawSeqDataRNA: pset.dataset.rawSeqDataRNA},\n                    dna: {dnaTool: pset.dnaTool, dnaRef: pset.dnaRef, rawSeqDataDNA: pset.dataset.rawSeqDataDNA},\n                    isReady: true\n                });\n            }else{\n                this.setState({message: 'We could not find a PSet with the ID.'})\n            }\n        });\n    }\n\n    showMessage(status, data){\n        APIHelper.messageAfterRequest(status, data, this.initializeState, this.messages);\n    }\n\n    render(){\n        return(\n            <div className='pageContent'>\n                <Messages ref={(el) => this.messages = el} />\n                <div className='psetTitle'>\n                    <h1>Explore PSet - {this.state.pset.name}</h1>\n                    <DownloadPSetButton disabled={false} selectedPSets={[this.state.pset]} onDownloadComplete={this.showMessage}/>\n                </div>\n                <GeneralInfoAccordion data={this.state.general}/>\n                <div className='tabContainer'>\n                    {this.state.isReady ? \n                        <TabView renderActiveOnly={false}>\n                            <TabPanel header=\"Dataset\">\n                                <DatasetTabContent metadata={this.state.dataset} />   \n                            </TabPanel>\n                            {this.state.pset.dataType.map((type) => \n                                <TabPanel key={type.name} header={type.name}>\n                                    {type.name === 'RNA' ? \n                                        <RNATabContent metadata={this.state.rna}/> \n                                        : \n                                        <DNATabContent metadata={this.state.dna}/>\n                                    }\n                                </TabPanel>)\n                            }\n                        </TabView>\n                        : \n                        <h3>{this.state.message}</h3>\n                    }\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default PSet;","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { AuthContext } from \"../../context/auth\";\nimport Navigation from '../Navigation/Navigation';\nimport Footer from '../Footer/Footer';\nimport PrivateRoute from './PrivateRoute';\nimport Main from '../Main/Main';\nimport PSetSearch from '../PSetSearch/PSetSearch';\nimport Dashboard from '../Dashboard/Dashboard';\nimport Stats from '../Stats/Stats';\nimport Documentation from '../Documentation/Documentation';\nimport Tutorial from '../Documentation/Support/Tutorial';\nimport Profile from '../Profile/Profile';\nimport Login from '../Authentication/Login';\nimport Reset from '../Authentication/Reset';\nimport PSet from '../PSet/PSet';\n\nclass Router extends React.Component{\n    constructor(){\n        super();\n        this.state = {\n            authenticated: false,\n            isAdmin: false,\n            user: '',\n            setAuthToken: (value) => {\n                this.setState({\n                    authenticated: value.authenticated,\n                    username: value.username,\n                    isAdmin: value.isAdmin\n                });\n            },\n            resetAuthToken: () => {\n                this.setState({\n                    authenticated: false,\n                    isAdmin: false,\n                    user: ''\n                });\n            }\n        }\n    }\n\n    componentDidMount(){\n        if(!this.state.authenticated){\n            fetch('/api/user/checkToken')\n            .then(res => {\n                if(res.status === 200){\n                    return(res.json());\n                }else{\n                    return({authenticated: false, isAdmin: false, username: ''});\n                }\n            })\n            .then(data => {this.state.setAuthToken(data)});\n        }\n    }\n\n    render(){\n        \n        const profile = (\n            <Profile />\n        );\n\n        return(\n            <AuthContext.Provider value={this.state}>\n                <Switch>\n                    <Route exact path ='/' component={Main} /> \n                    <Route exact path ='/PSetSearch' component={PSetSearch}/>\n                    <Route exact path ='/Dashboard' component={Dashboard}/>\n                    <Route exact path ='/Stats' component={Stats}/>\n                    <Route exact path ='/Documentation' component={Documentation}/>\n                    <Route exact path ='/Tutorial' component={Tutorial}/>\n                    <Route exact path='/Authentication' component={Login} />\n                    <Route exact path ='/Reset' component={Reset} />\n                    <Route path='/:id1/:id2' component={PSet} />\n                    <PrivateRoute path='/Profile' component={profile} redirect='/Authentication' />\n                </Switch>\n                <Navigation />\n                <Footer />\n            </AuthContext.Provider>\n        );\n    }\n}\n\nexport default Router;","import React from 'react';\nimport './App.css';\nimport './PrimeStyle.css';\nimport Router from '../Routing/Router';\n\nclass App extends React.Component {\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"App\">\n\t\t\t\t<Router />\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'primereact/resources/themes/nova-light/theme.css';\nimport 'primereact/resources/primereact.min.css';\nimport 'primeicons/primeicons.css';\nimport App from './components/App/App';\nimport { BrowserRouter } from 'react-router-dom';\nimport * as serviceWorker from './components/serviceWorker';\n\nReactDOM.render((\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n), document.getElementById('root'));\n\nserviceWorker.unregister();\n"],"sourceRoot":""}